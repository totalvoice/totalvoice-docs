
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>TotalVoice API Doc</title>
    <link rel="icon" href="https://zenvia-static.s3.amazonaws.com/favicon.ico" sizes="16x16" />

    <meta property="og:locale" content="pt_BR">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Documentação TotalVoice - API de ligação, voz e SMS">
    <meta property="og:url" content="https://www.totalvoice.com.br/doc">
    <meta property="og:site_name" content="TotalVoice">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="TotalVoice - API de ligação, voz e SMS">

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell--curl&quot;,&quot;php&quot;,&quot;javascript--node&quot;,&quot;go&quot;,&quot;python&quot;,&quot;java&quot;,&quot;ruby&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="https://zenvia-static.s3.amazonaws.com/brand/zenvia-brand-mark-regular.svg" class="logo" alt="Zenvia brand mark regular" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell--curl">curl</a>
              <a href="#" data-language-name="php">php</a>
              <a href="#" data-language-name="javascript--node">node</a>
              <a href="#" data-language-name="go">go</a>
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="java">java</a>
              <a href="#" data-language-name="ruby">ruby</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Pesquisar">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
           <li>
            <a href="#introducao" class="toc-h1 toc-link" data-title="Introdução">Introdução</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#bibliotecas" class="toc-h2 toc-link" data-title="Bibliotecas">Bibliotecas</a>
                  </li>
                  <li>
                    <a href="#duvidas" class="toc-h2 toc-link" data-title="Dúvidas">Dúvidas</a>
                  </li>
              </ul>
          </li>
           <li>
            <a href="#permissoes-de-conta" class="toc-h1 toc-link" data-title="Permissões de Conta">Permissões de Conta</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#contas-trial" class="toc-h2 toc-link" data-title="Contas Trial">Contas Trial</a>
                  </li>
                  <li>
                    <a href="#contas-cliente" class="toc-h2 toc-link" data-title="Contas Cliente">Contas Cliente</a>
                  </li>
                  <li>
                    <a href="#conta-pai" class="toc-h2 toc-link" data-title="Conta Pai">Conta Pai</a>
                  </li>
                  <li>
                    <a href="#conta-filha" class="toc-h2 toc-link" data-title="Conta Filha">Conta Filha</a>
                  </li>
              </ul>
          </li>
           <li>
            <a href="#autenticacao" class="toc-h1 toc-link" data-title="Autenticação">Autenticação</a>
          </li>
           <li>
            <a href="#respostas-da-api" class="toc-h1 toc-link" data-title="Respostas da API">Respostas da API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#codigos-http" class="toc-h2 toc-link" data-title="Códigos HTTP">Códigos HTTP</a>
                  </li>
                  <li>
                    <a href="#codigos-de-motivos" class="toc-h2 toc-link" data-title="Códigos de Motivos">Códigos de Motivos</a>
                  </li>
                  <li>
                    <a href="#status-para-chamada" class="toc-h2 toc-link" data-title="Status para Chamada">Status para Chamada</a>
                  </li>
                  <li>
                    <a href="#status-perna-de-ligacao" class="toc-h2 toc-link" data-title="Status Perna de Ligação">Status Perna de Ligação</a>
                  </li>
              </ul>
          </li>
           <li>
            <a href="#testes" class="toc-h1 toc-link" data-title="Testes">Testes</a>
          </li>
          <li style="margin-top: 20px;">
            <a href="#audio" class="toc-h1 toc-link" data-title="Áudio">Áudio</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#objeto-audio" class="toc-h2 toc-link" data-title="Objeto Áudio">Objeto Áudio</a>
                  </li>
                  <li>
                    <a href="#criar-um-audio" class="toc-h2 toc-link" data-title="Criar um áudio">Criar um áudio</a>
                  </li>
                  <li>
                    <a href="#buscar-audio" class="toc-h2 toc-link" data-title="Buscar áudio">Buscar áudio</a>
                  </li>
                  <li>
                    <a href="#relatorio-audio" class="toc-h2 toc-link" data-title="Relatório áudio">Relatório áudio</a>
                  </li>
              </ul>
          </li>
           <li>
            <a href="#central-telefonica" class="toc-h1 toc-link" data-title="Central Telefônica">Central Telefônica</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#objeto-ramal" class="toc-h2 toc-link" data-title="Objeto Ramal">Objeto Ramal</a>
                  </li>
                  <li>
                    <a href="#criar-um-ramal" class="toc-h2 toc-link" data-title="Criar um ramal">Criar um ramal</a>
                  </li>
                  <li>
                    <a href="#buscar-um-ramal" class="toc-h2 toc-link" data-title="Buscar um ramal">Buscar um ramal</a>
                  </li>
                  <li>
                    <a href="#editar-um-ramal" class="toc-h2 toc-link" data-title="Editar um Ramal">Editar um Ramal</a>
                  </li>
                  <li>
                    <a href="#editar-um-ramal-na-fila" class="toc-h2 toc-link" data-title="Editar um ramal na fila">Editar um ramal na fila</a>
                  </li>
                  <li>
                    <a href="#deletar-um-ramal" class="toc-h2 toc-link" data-title="Deletar um ramal">Deletar um ramal</a>
                  </li>
                  <li>
                    <a href="#listar-ramais-criados" class="toc-h2 toc-link" data-title="Listar ramais criados">Listar ramais criados</a>
                  </li>
                  <li>
                    <a href="#listar-pausas-do-ramal" class="toc-h2 toc-link" data-title="Listar pausas do ramal">Listar pausas do ramal</a>
                  </li>
                  <li>
                    <a href="#listar-ligacoes-de-um-ramal" class="toc-h2 toc-link" data-title="Listar ligações de um ramal">Listar ligações de um ramal</a>
                  </li>
                  <li>
                    <a href="#objeto-ura" class="toc-h2 toc-link" data-title="Objeto URA">Objeto URA</a>
                  </li>
                  <li>
                    <a href="#criar-uma-ura" class="toc-h2 toc-link" data-title="Criar uma URA">Criar uma URA</a>
                  </li>
                  <li>
                    <a href="#buscar-uma-ura" class="toc-h2 toc-link" data-title="Buscar uma URA">Buscar uma URA</a>
                  </li>
                  <li>
                    <a href="#editar-uma-ura" class="toc-h2 toc-link" data-title="Editar uma URA">Editar uma URA</a>
                  </li>
                  <li>
                    <a href="#deletar-uma-ura" class="toc-h2 toc-link" data-title="Deletar uma URA">Deletar uma URA</a>
                  </li>
                  <li>
                    <a href="#relatorio-de-ura" class="toc-h2 toc-link" data-title="Relatório de URA">Relatório de URA</a>
                  </li>
              </ul>
          </li>
           <li>
            <a href="#fila" class="toc-h1 toc-link" data-title="Fila">Fila</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#objeto-fila" class="toc-h2 toc-link" data-title="Objeto Fila">Objeto Fila</a>
                  </li>
                  <li>
                    <a href="#criar-uma-fila" class="toc-h2 toc-link" data-title="Criar uma fila">Criar uma fila</a>
                  </li>
                  <li>
                    <a href="#buscar-fila" class="toc-h2 toc-link" data-title="Buscar fila">Buscar fila</a>
                  </li>
                  <li>
                    <a href="#editar-fila" class="toc-h2 toc-link" data-title="Editar fila">Editar fila</a>
                  </li>
                  <li>
                    <a href="#adicionar-um-ramal-na-fila" class="toc-h2 toc-link" data-title="Adicionar um ramal na fila">Adicionar um ramal na fila</a>
                  </li>
                  <li>
                    <a href="#deletar-um-ramal-da-fila" class="toc-h2 toc-link" data-title="Deletar um ramal da fila">Deletar um ramal da fila</a>
                  </li>
                  <li>
                    <a href="#busca-um-ramal-da-fila" class="toc-h2 toc-link" data-title="Busca um ramal da fila">Busca um ramal da fila</a>
                  </li>
                  <li>
                    <a href="#relatorio-chamadas-de-uma-fila" class="toc-h2 toc-link" data-title="Relatório chamadas de uma fila">Relatório chamadas de uma fila</a>
                  </li>
              </ul>
          </li>
           <li>
            <a href="#chamadas" class="toc-h1 toc-link" data-title="Chamadas">Chamadas</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#objeto-chamada" class="toc-h2 toc-link" data-title="Objeto Chamada">Objeto Chamada</a>
                  </li>
                  <li>
                    <a href="#objeto-origem-destino" class="toc-h2 toc-link" data-title="Objeto Origem Destino">Objeto Origem Destino</a>
                  </li>
                  <li>
                    <a href="#criar-uma-chamada" class="toc-h2 toc-link" data-title="Criar uma chamada">Criar uma chamada</a>
                  </li>
                  <li>
                    <a href="#desligando-uma-chamada" class="toc-h2 toc-link" data-title="Desligando uma chamada">Desligando uma chamada</a>
                  </li>
                  <li>
                    <a href="#buscar-uma-chamada" class="toc-h2 toc-link" data-title="Buscar uma chamada">Buscar uma chamada</a>
                  </li>
                  <li>
                    <a href="#buscar-gravacao-da-chamada" class="toc-h2 toc-link" data-title="Buscar gravação da chamada">Buscar gravação da chamada</a>
                  </li>
                  <li>
                    <a href="#relatorio-chamadas" class="toc-h2 toc-link" data-title="Relatório Chamadas">Relatório Chamadas</a>
                  </li>
                  <li>
                    <a href="#escuta-de-chamadas" class="toc-h2 toc-link" data-title="Escuta de Chamadas">Escuta de Chamadas</a>
                  </li>
                  <li>
                    <a href="#transferencia-de-chamadas" class="toc-h2 toc-link" data-title="Transferência de Chamadas">Transferência de Chamadas</a>
                  </li>
                  <li>
                    <a href="#avaliacao-de-chamadas" class="toc-h2 toc-link" data-title="Avaliação de Chamadas">Avaliação de Chamadas</a>
                  </li>
              </ul>
          </li>
           <li>
            <a href="#composto" class="toc-h1 toc-link" data-title="Composto">Composto</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#objeto-composto" class="toc-h2 toc-link" data-title="Objeto Composto">Objeto Composto</a>
                  </li>
                  <li>
                    <a href="#criar-um-composto" class="toc-h2 toc-link" data-title="Criar um Composto">Criar um Composto</a>
                  </li>
                  <li>
                    <a href="#buscar-composto" class="toc-h2 toc-link" data-title="Buscar Composto">Buscar Composto</a>
                  </li>
                  <li>
                    <a href="#relatorio-composto" class="toc-h2 toc-link" data-title="Relatório composto">Relatório composto</a>
                  </li>
              </ul>
          </li>
           <li>
            <a href="#conferencias" class="toc-h1 toc-link" data-title="Conferências">Conferências</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#objeto-conferencia" class="toc-h2 toc-link" data-title="Objeto Conferência">Objeto Conferência</a>
                  </li>
                  <li>
                    <a href="#objeto-chamada-da-conferencia" class="toc-h2 toc-link" data-title="Objeto Chamada da Conferência">Objeto Chamada da Conferência</a>
                  </li>
                  <li>
                    <a href="#criar-conferencia" class="toc-h2 toc-link" data-title="Criar conferência">Criar conferência</a>
                  </li>
                  <li>
                    <a href="#buscar-conferencia" class="toc-h2 toc-link" data-title="Buscar conferência">Buscar conferência</a>
                  </li>
                  <li>
                    <a href="#encerrar-conferencia" class="toc-h2 toc-link" data-title="Encerrar conferência">Encerrar conferência</a>
                  </li>
              </ul>
          </li>
           <li>
            <a href="#dids" class="toc-h1 toc-link" data-title="DIDs">DIDs</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#objeto-did" class="toc-h2 toc-link" data-title="Objeto DID">Objeto DID</a>
                  </li>
                  <li>
                    <a href="#consulta-dids" class="toc-h2 toc-link" data-title="Consulta DIDs">Consulta DIDs</a>
                  </li>
                  <li>
                    <a href="#atualizar-did" class="toc-h2 toc-link" data-title="Atualizar DID">Atualizar DID</a>
                  </li>
                  <li>
                    <a href="#estoque-de-dids" class="toc-h2 toc-link" data-title="Estoque de DIDs">Estoque de DIDs</a>
                  </li>
                  <li>
                    <a href="#comprar-did" class="toc-h2 toc-link" data-title="Comprar DID">Comprar DID</a>
                  </li>
                  <li>
                    <a href="#objeto-chamada-did" class="toc-h2 toc-link" data-title="Objeto Chamada DID">Objeto Chamada DID</a>
                  </li>
                  <li>
                    <a href="#buscar-uma-chamada-recebida" class="toc-h2 toc-link" data-title="Buscar uma chamada recebida">Buscar uma chamada recebida</a>
                  </li>
                  <li>
                    <a href="#relatorio-chamadas-recebidas-por-did" class="toc-h2 toc-link" data-title="Relatório chamadas recebidas por DID">Relatório chamadas recebidas por DID</a>
                  </li>
                  <li>
                    <a href="#relatorio-de-todas-as-chamadas" class="toc-h2 toc-link" data-title="Relatório de todas as chamadas">Relatório de todas as chamadas</a>
                  </li>
              </ul>
          </li>
           <li>
            <a href="#gerenciar-contas" class="toc-h1 toc-link" data-title="Gerenciar Contas">Gerenciar Contas</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#objeto-conta" class="toc-h2 toc-link" data-title="Objeto Conta">Objeto Conta</a>
                  </li>
                  <li>
                    <a href="#criar-conta" class="toc-h2 toc-link" data-title="Criar Conta">Criar Conta</a>
                  </li>
                  <li>
                    <a href="#buscar-conta" class="toc-h2 toc-link" data-title="Buscar Conta">Buscar Conta</a>
                  </li>
                  <li>
                    <a href="#alterar-conta" class="toc-h2 toc-link" data-title="Alterar Conta">Alterar Conta</a>
                  </li>
                  <li>
                    <a href="#deletar-conta" class="toc-h2 toc-link" data-title="Deletar Conta">Deletar Conta</a>
                  </li>
                  <li>
                    <a href="#relatorio-de-contas" class="toc-h2 toc-link" data-title="Relatório de Contas">Relatório de Contas</a>
                  </li>
                  <li>
                    <a href="#credito-bonus" class="toc-h2 toc-link" data-title="Crédito bônus">Crédito bônus</a>
                  </li>
                  <li>
                    <a href="#listar-webhooks" class="toc-h2 toc-link" data-title="Listar Webhooks">Listar Webhooks</a>
                  </li>
                  <li>
                    <a href="#remover-webhook" class="toc-h2 toc-link" data-title="Remover Webhook">Remover Webhook</a>
                  </li>
                  <li>
                    <a href="#alterar-um-webhook" class="toc-h2 toc-link" data-title="Alterar um webhook">Alterar um webhook</a>
                  </li>
              </ul>
          </li>
           <li>
            <a href="#minha-conta" class="toc-h1 toc-link" data-title="Minha Conta">Minha Conta</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#objeto-minha-conta" class="toc-h2 toc-link" data-title="Objeto Minha Conta">Objeto Minha Conta</a>
                  </li>
                  <li>
                    <a href="#objeto-resposta-minha-conta" class="toc-h2 toc-link" data-title="Objeto Resposta Minha Conta">Objeto Resposta Minha Conta</a>
                  </li>
                  <li>
                    <a href="#saldo-da-conta" class="toc-h2 toc-link" data-title="Saldo da Conta">Saldo da Conta</a>
                  </li>
                  <li>
                    <a href="#buscar-minha-conta" class="toc-h2 toc-link" data-title="Buscar minha conta">Buscar minha conta</a>
                  </li>
                  <li>
                    <a href="#alterar-sua-conta" class="toc-h2 toc-link" data-title="Alterar sua Conta">Alterar sua Conta</a>
                  </li>
                  <li>
                    <a href="#relatorio-de-recarga" class="toc-h2 toc-link" data-title="Relatório de recarga">Relatório de recarga</a>
                  </li>
                  <li>
                    <a href="#url-de-recarga" class="toc-h2 toc-link" data-title="URL de Recarga">URL de Recarga</a>
                  </li>
                  <li>
                    <a href="#listar-webhooks" class="toc-h2 toc-link" data-title="Listar Webhooks">Listar Webhooks</a>
                  </li>
                  <li>
                    <a href="#remover-webhook" class="toc-h2 toc-link" data-title="Remover Webhook">Remover Webhook</a>
                  </li>
                  <li>
                    <a href="#alterar-um-webhook" class="toc-h2 toc-link" data-title="Alterar um webhook">Alterar um webhook</a>
                  </li>
              </ul>
          </li>
           <li>
            <a href="#bina" class="toc-h1 toc-link" data-title="Bina">Bina</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#objeto-bina" class="toc-h2 toc-link" data-title="Objeto Bina">Objeto Bina</a>
                  </li>
                  <li>
                    <a href="#objeto-motivo-vcall" class="toc-h2 toc-link" data-title="Objeto Motivo VCall">Objeto Motivo VCall</a>
                  </li>
                  <li>
                    <a href="#cadastrar-uma-bina" class="toc-h2 toc-link" data-title="Cadastrar uma Bina">Cadastrar uma Bina</a>
                  </li>
                  <li>
                    <a href="#validar-uma-bina" class="toc-h2 toc-link" data-title="Validar uma Bina">Validar uma Bina</a>
                  </li>
                  <li>
                    <a href="#buscar-uma-bina" class="toc-h2 toc-link" data-title="Buscar uma Bina">Buscar uma Bina</a>
                  </li>
                  <li>
                    <a href="#deletar-uma-bina" class="toc-h2 toc-link" data-title="Deletar uma Bina">Deletar uma Bina</a>
                  </li>
                  <li>
                    <a href="#relatorio-bina" class="toc-h2 toc-link" data-title="Relatório Bina">Relatório Bina</a>
                  </li>
              </ul>
          </li>
           <li>
            <a href="#sms" class="toc-h1 toc-link" data-title="SMS">SMS</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#objeto-sms" class="toc-h2 toc-link" data-title="Objeto Sms">Objeto Sms</a>
                  </li>
                  <li>
                    <a href="#objeto-resposta-sms" class="toc-h2 toc-link" data-title="Objeto Resposta SMS">Objeto Resposta SMS</a>
                  </li>
                  <li>
                    <a href="#enviar-um-sms" class="toc-h2 toc-link" data-title="Enviar um SMS">Enviar um SMS</a>
                  </li>
                  <li>
                    <a href="#buscar-sms" class="toc-h2 toc-link" data-title="Buscar SMS">Buscar SMS</a>
                  </li>
                  <li>
                    <a href="#relatorio-sms" class="toc-h2 toc-link" data-title="Relatório SMS">Relatório SMS</a>
                  </li>
              </ul>
          </li>
           <li>
            <a href="#tts-leitura-de-texto" class="toc-h1 toc-link" data-title="TTS Leitura de Texto">TTS Leitura de Texto</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#objeto-tts" class="toc-h2 toc-link" data-title="Objeto TTS">Objeto TTS</a>
                  </li>
                  <li>
                    <a href="#criar-um-tts" class="toc-h2 toc-link" data-title="Criar um TTS">Criar um TTS</a>
                  </li>
                  <li>
                    <a href="#buscar-tts" class="toc-h2 toc-link" data-title="Buscar TTS">Buscar TTS</a>
                  </li>
                  <li>
                    <a href="#relatorio-tts" class="toc-h2 toc-link" data-title="Relatório TTS">Relatório TTS</a>
                  </li>
              </ul>
          </li>
           <li>
            <a href="#verificacao-2fa" class="toc-h1 toc-link" data-title="Verificação (2FA)">Verificação (2FA)</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#enviar-um-codigo" class="toc-h2 toc-link" data-title="Enviar um código">Enviar um código</a>
                  </li>
                  <li>
                    <a href="#consultar-codigo" class="toc-h2 toc-link" data-title="Consultar código">Consultar código</a>
                  </li>
              </ul>
          </li>
           <li>
            <a href="#webphone" class="toc-h1 toc-link" data-title="Webphone">Webphone</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#consultar-url-webphone" class="toc-h2 toc-link" data-title="Consultar URL Webphone">Consultar URL Webphone</a>
                  </li>
                  <li>
                    <a href="#criar-webphone" class="toc-h2 toc-link" data-title="Criar Webphone">Criar Webphone</a>
                  </li>
                  <li>
                    <a href="#funcoes-do-webphone" class="toc-h2 toc-link" data-title="Funções do Webphone">Funções do Webphone</a>
                  </li>
                  <li>
                    <a href="#eventos-do-webphone" class="toc-h2 toc-link" data-title="Eventos do Webphone">Eventos do Webphone</a>
                  </li>
              </ul>
          </li>
           <li>
            <a href="#webhooks" class="toc-h1 toc-link" data-title="Webhooks">Webhooks</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#configuracao" class="toc-h2 toc-link" data-title="Configuração">Configuração</a>
                  </li>
                  <li>
                    <a href="#eventos-em-tempo-real-de-chamada" class="toc-h2 toc-link" data-title="Eventos em Tempo Real de Chamada">Eventos em Tempo Real de Chamada</a>
                  </li>
                  <li>
                    <a href="#envio-de-sms" class="toc-h2 toc-link" data-title="Envio de SMS">Envio de SMS</a>
                  </li>
                  <li>
                    <a href="#resposta-de-sms" class="toc-h2 toc-link" data-title="Resposta de SMS">Resposta de SMS</a>
                  </li>
                  <li>
                    <a href="#eventos-em-tempo-real-de-ramal" class="toc-h2 toc-link" data-title="Eventos em Tempo Real de Ramal">Eventos em Tempo Real de Ramal</a>
                  </li>
                  <li>
                    <a href="#eventos-em-tempo-real-de-chamada-did" class="toc-h2 toc-link" data-title="Eventos em Tempo Real de Chamada DID">Eventos em Tempo Real de Chamada DID</a>
                  </li>
                  <li>
                    <a href="#aviso-de-saldo" class="toc-h2 toc-link" data-title="Aviso de saldo">Aviso de saldo</a>
                  </li>
                  <li>
                    <a href="#novo-voicemail" class="toc-h2 toc-link" data-title="Novo Voicemail">Novo Voicemail</a>
                  </li>
                  <li>
                    <a href="#eventos-em-tempo-real-de-conferencias" class="toc-h2 toc-link" data-title="Eventos em Tempo Real de Conferências">Eventos em Tempo Real de Conferências</a>
                  </li>
                  <li>
                    <a href="#tts-fim" class="toc-h2 toc-link" data-title="TTS Fim">TTS Fim</a>
                  </li>
                  <li>
                    <a href="#status-tempo-real" class="toc-h2 toc-link" data-title="Status Tempo Real">Status Tempo Real</a>
                  </li>
                  <li>
                    <a href="#fim-chamada" class="toc-h2 toc-link" data-title="Fim Chamada">Fim Chamada</a>
                  </li>
                  <li>
                    <a href="#did-fim-chamada" class="toc-h2 toc-link" data-title="DID Fim Chamada">DID Fim Chamada</a>
                  </li>
                  <li>
                    <a href="#composto-fim-chamada" class="toc-h2 toc-link" data-title="Composto Fim Chamada">Composto Fim Chamada</a>
                  </li>
                  <li>
                    <a href="#audio-fim" class="toc-h2 toc-link" data-title="Áudio Fim">Áudio Fim</a>
                  </li>
              </ul>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='https://voice-app.zenvia.com/painel' target="_blank">Entrar</a></li>
            <li><a href='https://voice-app.zenvia.com/painel/signup.php' target="_blank">Criar Conta</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introducao'>Introdução</h1>
<blockquote>
<p><b>Api Endpoint</b></p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-app.zenvia.com
</code></pre>
<p>Os serviços da ZenAPI estão disponíveis através de uma API Rest, utilizando JSON, categorizada com o endereço da URL para identificar o serviço e
os códigos de respostas HTTP para indicar erros na API. Suportamos cross-origin, aceitando interações de qualquer domínio com segurança.</p>

<p>Disponibilizamos bibliotecas em diversas linguagens para uma maior facilidade dos nossos usuários, você pode alterar a linguagem de referência
da documentação clicando na linguagem desejada no canto superior direito da página.</p>

<p>Para utilizar a API, você precisará de uma conta em nosso site, <a href="https://voice-app.zenvia.com/painel/signup.php" target="_blank">clicando aqui</a>
você poderá criá-la facilmente, na página principal de sua conta, você tem acesso ao <strong>Access-Token</strong> que será utilizado para autenticação no serviço.</p>
<h3 id='bibliotecas'>Bibliotecas</h3>
<p>As bibliotecas oficiais da nossa API podem ser encontradas em nosso <a href="https://github.com/totalvoice">GitHub</a>.</p>

<ul>
<li><a href="https://github.com/totalvoice/totalvoice-php">PHP</a></li>
<li><a href="https://github.com/totalvoice/totalvoice-node">Node</a></li>
<li><a href="https://github.com/totalvoice/totalvoice-go">GO</a></li>
<li><a href="https://github.com/totalvoice/totalvoice-csharp">C#</a></li>
<li><a href="https://github.com/totalvoice/totalvoice-python">Python</a></li>
<li><a href="https://github.com/totalvoice/totalvoice-java">Java</a></li>
<li><a href="https://github.com/totalvoice/totalvoice-ruby">Ruby</a></li>
</ul>
<h3 id='duvidas'>Dúvidas</h3>
<p>Caso você não encontre algum material ou possui alguma dúvida técnica que não está na documentação, entre em <b>contato</b> conosco
pelos nossos canais de comunicação/suporte.</p>

<ul>
<li>E-mail: suporte.voz@zenvia.com</li>
<li>Chat: na plataforma de Voz da Zenvia.</li>
</ul>
<h1 id='permissoes-de-conta'>Permissões de Conta</h1>
<p>Quando você cria uma nova conta na Zenvia, ela é criada automaticamente como uma conta Trial,
tendo limitações que garantem a segurança do negócio, evitando que pessoas mal intencionadas utilizem os serviços
da ZenAPI.</p>

<p>Após as validações solicitadas (confirmação de telefone fixo, e-mail e etc) a conta é aprovada instantaneamente, 
recebendo o acesso de conta Cliente, que retira algumas limitações, mantendo apenas as que evitam golpes e que utilizam para Spams.</p>

<p>Caso tenha interesse em ter acessos de funções exclusivas da API de Voz (Centrais telefônicas, DIDs, Números Receptivos e criação de contas filhas), 
você precisa entrar em contato com nossa equipe, para podermos entender o cenário e auxiliar na escolha ideal de funcionalidades.  </p>
<h2 id='contas-trial'>Contas Trial</h2>
<blockquote>
<p><b>TRIAL</b>
<ul>
    <li>
        São limitadas ao envio das funções da API apenas números cadastrados (e devidamente confirmados) no painel.
    </li>
    <li>
        Não podem editar Ramais.
    </li>
    <li>
        Número maior de palavras bloqueadas no corpo do SMS.
    </li>
    <li>
        Limite de 50 SMSs enviados por dia.
    </li>
    <li>
       Só é possível utilizar o número BINA no parâmetro de torpedos de voz(Áudio, TTS, Composto) com os números cadastrados.
    </li>
    <li>
        Não tem acesso à Central Telefônica.
    </li>
</ul></p>
</blockquote>

<p>As contas Trial são contas que foram criadas e ainda não tiveram seus dados confirmados, como e-mail e telefone fixo (caso a pessoa
não tenha telefone fixo pode entrar em contato com o time de voz da Zenvia para ser validado), a conta trial tem o intuito apenas de testar
as funcionalidades da API, a validação e migração é feita de modo automático e a mudança de tipo de conta acontece na hora.</p>

<p>Veja como cadastrar um número <a href='https://centraltotalvoice.freshdesk.com/solution/articles/35000078983-cadastrando-um-n%C3%BAmero-como-bina-identificac%C3%A3o-de-chamada-'>clicando aqui</a>.</p>
<h2 id='contas-cliente'>Contas Cliente</h2>
<blockquote>
<p><b>CLIENTE</b>
<ul>
    <li>
        Não podem binar números que não sejam seus confirmados.
    </li>
    <li>
        Não podem criar e administrar contas filhas.
    </li>
    <li>
        Limite de 50 SMSs enviados por dia, que cresce de acordo com o uso (ou em simples contato com a equipe de Voz da Zenvia).
    </li>
    <li>
        SMSs com algumas palavras proíbidas (referente à cobranças, instituições financeiras, links e etc).
    </li>
</ul></p>
</blockquote>

<p>Contas Clientes são aquelas que já passaram por um processo de validação, dando liberdade para utilização da API com apenas algumas limitações por questão
de segurança.</p>

<p>As contas Clientes:</p>
<h2 id='conta-pai'>Conta Pai</h2>
<p>Quando se tem a necessidade de criar e administrar outras contas, como em integrações com sistemas, revenda de serviços e
utilização por terceiros das funções de telefonia, você pode <a href="#introducao">solicitar uma permissão</a> de conta Pai, 
onde você pode criar, deletar e alterar contas Filhas.</p>

<p>As contas Pais tem as mesmas limitações das contas Clientes, tendo apenas o diferencial de poder administrar subcontas. </p>
<h2 id='conta-filha'>Conta Filha</h2>
<p>As contas Filhas são basicamente contas criadas através de outra conta, são parecidas com as contas Clientes, 
tendo os mesmos privilégios, sendo apenas vinculada a uma outra conta podendo ser <a href="#alterar-conta">Alterada</a> ou <a href="#deletar-conta">Removida</a> por sua conta Pai.</p>
<h1 id='autenticacao'>Autenticação</h1>
<blockquote>
<p><b>Exemplo de autenticação</b></p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code><span class="gp">$ </span>curl https://voice-app.zenvia.com/sms <span class="se">\</span>
    --header <span class="s1">'Access-Token: testeM68PU1Izmb9chEdLzep7IwRymWO'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'testeM68PU1Izmb9chEdLzep7IwRymWO'</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="o">);</span>
</code></pre>
<blockquote>
<p><b>IMPORTANTE:</b> Não esqueça de alterar o Token de exemplo pelo seu Token.</p>
</blockquote>

<p>A API de Voz utiliza um Token de Acesso para realizar a autenticação de sua conta, você deve incluir o Access-Token 
na requisição HTTP através do cabeçalho, ou pela <em>Query String</em>. </p>

<p>Exemplo de Access-Token:</p>

<p><code>testeM68PU1Izmb9chEdLzep7IwRymWO</code></p>

<p>As bibliotecas disponibilizadas pelo ZenAPI já fazem a autenticação na requisição HTTP de forma transparente. </p>

<aside class="notice">
 Mantenha seu Token em segredo, tome muito cuidado, não deixe ele exposto em um código público e nunca
 compartilhe com ninguém fora da sua organização.
</aside>
<h1 id='respostas-da-api'>Respostas da API</h1>
<blockquote>
<p><b>Exemplo JSON de retorno</b></p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"audio criado com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4921</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Toda resposta retornada pela API vem em formato JSON contendo um cabeçalho padrão,
o cabeçalho contém as informações sobre a requisição e os dados próprios da resposta, que ficam dentro do campo <strong>dados</strong>.</p>
<h4 id='atributos-da-resposta'>Atributos da Resposta</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                status
                <span class="attribute">integer</span>
            </td>
            <td>
                <a href="#codigos-http">Código HTTP</a> da resposta.
             </td>
        </tr>
        <tr>
            <td>
                sucesso
                <span class="attribute">boolean</span>
            </td>
            <td>
                Sucesso ou falha da requisição.
             </td>
        </tr>
        <tr>
            <td>
                motivo
                <span class="attribute">integer</span>
            </td>
            <td>
                <a href="#codigos-de-motivos">Código do motivo</a> da falha ou sucesso.
             </td>
        </tr>
        <tr>
            <td>
                mensagem
                <span class="attribute">string</span>
            </td>
            <td>
                Mensagem de resposta contendo mensagem sucesso ou motivo de falha. 
             </td>
        </tr>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Objeto de resposta variável em cada função da API.
             </td>
        </tr>
    </tbody>
</table>
<h2 id='codigos-http'>Códigos HTTP</h2>
<blockquote>
<p><b>Códigos HTTP utilizados</b>
<table>
    <tr>
        <td>200</td>
        <td>Os dados foram retornados com sucesso.</td>
    </tr>
    <tr>
        <td>400</td>
        <td>Formato do JSON enviado é inválido.</td>
    </tr>
    <tr>
        <td>402</td>
        <td>Sua conta não tem saldo suficiente.</td>
    </tr>
    <tr>
        <td>403</td>
        <td>Sua conta não tem permissão para realizar esse procedimento.</td>
    </tr>
    <tr>
        <td>404</td>
        <td>Objeto de sua pesquisa não foi encontrado.</td>
    </tr>
    <tr>
        <td>405</td>
        <td>Algum dos parâmetros enviados está inválido</td>
    </tr>
    <tr>
        <td>429</td>
        <td>Limite de Requisições por segundo excedido</td>
    </tr>
    <tr>
        <td>500</td>
        <td>Alguma coisa aconteceu internamente.</td>
    </tr>
    <tr>
        <td>501</td>
        <td>Ainda não implementamos essa funcionalidade (?).</td>
    </tr>
</table></p>
</blockquote>

<p>As respostas das requisições realizadas para a API de Voz da ZenAPI utilizam os códigos convencionais HTTP, indicando sucesso ou falha,
sendo que o código 200 responde pelo sucesso e os que iniciam por 4xx pelas falhas, também utilizamos os códigos começando com 500 para apresentar falhas internas.</p>

<p><br style="margin-top: 280px;"/>  </p>
<h2 id='codigos-de-motivos'>Códigos de Motivos</h2>
<blockquote>
<p><b>Códigos de Motivos</b></p>

<table>
     <tr>
         <td>0</td>
         <td>Os dados foram retornados com sucesso.</td>
     </tr>
     <tr>
         <td>8</td>
         <td>Sua conta não tem permissão para realizar esse procedimento.</td>
     </tr>
     <tr>
         <td>9</td>
         <td>Sua conta não tem saldo suficiente.</td>
     </tr>
     <tr>
         <td>10</td>
         <td>Você não enviou todos os parâmetros obrigatórios.</td>
     </tr>
     <tr>
         <td>11</td>
         <td>Algum dos parâmetros enviados está inválido.</td>
     </tr>
     <tr>
         <td>20</td>
         <td>Erro porque o registro ficaria duplicado.</td>
     </tr>
     <tr>
         <td>30</td>
         <td>Esta funcionalidade ainda não foi implementada. (Entre em contato)</td>
     </tr>
     <tr>
         <td>40</td>
         <td>Houve uma falha na autenticação, seu Token está correto?</td>
     </tr>
    <tr>
         <td>50</td>
         <td>Erro interno dentro do nosso sistema.</td>
     </tr>
     <tr>
         <td>60</td>
         <td>Não encontramos o elemento que você está procurando.</td>
     </tr>
     <tr>
         <td>70</td>
         <td>A chamada requisitada não contém uma gravação.</td>
     </tr>
     <tr>
         <td>80</td>
         <td>A chamada solicitada não está ativa.</td>
     </tr>
     <tr>
         <td>90</td>
         <td>O caminho não foi encontrado.</td>
     </tr>
     <tr>
         <td>100</td>
         <td>A requisição solicitada é inválida.</td>
     </tr>
 </table>
</blockquote>

<p>Um dos parâmetros padrões que vem em toda resposta da API é o motivo, onde detalhamos o motivo pelo qual a sua requisição
 falhou (ou deu certo), na tabela ao lado temos a lista de motivos possíveis, e mais detalhes seguem no campo mensagem 
 do cabeçalho.</p>

<p>Utilize o atributo <strong>sucesso</strong> se for apenas para identificar se a requisição deu certo ou não.</p>
<h2 id='status-para-chamada'>Status para Chamada</h2>
<blockquote>
<p><b>Status para Chamada</b></p>

<table>
     <tr>
         <td>atendida</td>
         <td>A ligação foi atendida.</td>
     </tr>
     <tr>
         <td>sem resposta</td>
         <td>O número não atendeu a ligação.</td>
     </tr>
     <tr>
         <td>ocupado</td>
         <td>A operadora retornou que o número estava ocupado.</td>
     </tr>
     <tr>
         <td>congestionado</td>
         <td>Houve algum problema nas linhas de conexões. (Entre em contato)</td>
     </tr>
     <tr>
         <td>falha</td>
         <td>Não foi possível realizar a ligação.</td>
     </tr>
     <tr>
         <td>cancelada</td>
         <td>A ligação foi cancelada.</td>
     </tr>
     <tr>
         <td>não existe</td>
         <td>O número desta ligação não existe.</td>
     </tr>
 </table>
</blockquote>

<p>Ao fim de toda ligação a chamada terá um status, ao lado você tem uma lista dos possíveis status.
<br>
Caso encontre um status diferente dos mapeados, favor entrar em <a href="#introducao">contato</a>.</p>
<h2 id='status-perna-de-ligacao'>Status Perna de Ligação</h2>
<blockquote>
<p><b>Status Perna de Ligação</b></p>

<table>
     <tr>
         <td>preparando</td>
         <td>A ligação para esta perna ainda não foi iniciada.</td>
     </tr>
     <tr>
         <td>chamando</td>
         <td>O telefone/ramal desta perna está chamando mas não atendeu.</td>
     </tr>
     <tr>
         <td>atendida</td>
         <td>A perna atendeu a ligação.</td>
     </tr>
     <tr>
         <td>ocupado</td>
         <td>A operadora retornou que o número estava ocupado no momento.</td>
     </tr>
     <tr>
         <td>desconhecido</td>
         <td>Houve alguma falha, entrar em contato com o suporte.</td>
     </tr>
 </table>
</blockquote>

<p>Este caso geralmente se refere às ligações de duas pernas, onde primeiramente é disparada uma chamada para perna A (origem) e quando esta perna atende é disparada a ligação para perna B (destino).</p>

<p>Este parâmetro é retornado nos objetos que representam algum lado (perna) de uma ligação que foi realizada, 
 por exemplo, em um Objeto de um Áudio haverá um único atributo deste que representa
 o status do número que o áudio foi enviado, já em uma Chamada você terá um status para cada uma das pernas dela.</p>
<h1 id='testes'>Testes</h1>
<p>Com uma conta criada você pode fazer testes em nossa plataforma utilizando nosso playground, software para teste de requisições de API(Postman, Insomnia, etc)</p>

<ul>
<li><p><a href="https://voice-app.zenvia.com/doc/#/" target="_blank">Playground</a> - É um ambiente onde você utiliza o token da sua conta e faz envio para nossa api, preenchendo um formulário com os parâmetros necessários. </p></li>
<li><p>Utilizando o <a href="https://www.getpostman.com/" target="_blank">Postman</a> ou <a href="https://insomnia.rest/" target="_blank">Insomnia</a>, vvocê precisa nos enviar as seguintes informações:</p>

<ul>
<li>Header

<ul>
<li>Access-Token - exemplotesteM68PU1Izmb9chEdLzep7IwRymWO</li>
<li>Content-Type - application/json</li>
</ul></li>
<li>Body

<ul>
<li>No corpo da requisição você deve enviar um JSON (para requisições POST/PUT)
<br><br></li>
</ul></li>
</ul></li>
<li><p>Para testar os retornos enviados via webhooks, indicamos os seguintes sites:</p>

<ul>
<li><a href="https://webhook.site" target="_blank">webhook.site</a></li>
<li><a href="https://requestbin.com" target="_blank">requestbin.com</a></li>
</ul></li>
</ul>
<h1 id='audio'>Áudio</h1>
<blockquote>
<p><b>Audio Endpoint</b></p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-app.zenvia.com/audio
</code></pre>
<p>A funcionalidade de <strong>Envio de Áudio</strong> permite que você envie um torpedo de voz ou mensagens de voz do tipo áudio para determinados números.
Basta você informar um número destino e a URL contendo o seu arquivo de áudio. Estes arquivos
devem estar disponíveis em uma URL pública. Você poderá enviar algumas opções adicionais,
tais como, aguardar uma resposta do usuário, gravar o áudio da ligação ou colocar um número bina que aparecerá no momento da ligação.</p>
<h4 id='formatos-aceitos'>Formatos aceitos:</h4>
<ul>
<li>.mp3</li>
<li>.wav</li>
</ul>
<h4 id='tamanho-maximo'>Tamanho máximo:</h4>
<ul>
<li>5MB</li>
</ul>
<h2 id='objeto-audio'>Objeto Áudio</h2>
<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345678</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48912341234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-22T09:18:44.000-03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-22T09:18:44.000-03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movel"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:22"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:01:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:02"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.36</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_audio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://sua.url.audio/files/audios/audio.mp3"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://voice-app.zenvia.com/rec/123456789"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+5548988888888"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"chamada_verificada"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo_vcall"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Texto do motivo"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Definição do objeto Áudio</p>
<h4 id='atributos'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro de Áudio.
             </td>
        </tr>
        <tr>
            <td>
                numero_destino
                <span class="attribute">string</span>
            </td>
            <td>
                Número do destinatário que foi enviado o áudio.
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi criado o registro.
            </td>
        </tr>
        <tr>
            <td>
                data_inicio
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi iniciado o processamento do áudio.
            </td>
        </tr>
        <tr>
            <td>
                tipo
                <span class="attribute">string</span>
            </td>
            <td>
                Tipo de telefone: fixo, móvel ou ramal.
            </td>
        </tr>
        <tr>
            <td>
                status
                <span class="attribute">string</span>
            </td>
            <td>
                Status do registro.
            </td>
        </tr>
        <tr>
            <td>
                duracao_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em total em <i>segundos</i>, da chamada, desde o início do processamento.
            </td>
        </tr>
        <tr>
            <td>
                duracao
                <span class="attribute">String</span>
            </td>
            <td>
                Duração total da chamada desde o início do processamento
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em <i>segundos</i> para fins de cobrança.
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada
                <span class="attribute">String</span>
            </td>
            <td>
                Duração considerada para fins de cobrança.
            </td>
        </tr>
                <tr>
            <td>
                duracao_falada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em <i>segundos</i> da chamada desde que o destino atendeu.
            </td>
        </tr>
        <tr>
            <td>
                duracao_falada
                <span class="attribute">String</span>
            </td>
            <td>
                Duração da chamada desde que o destino atendeu.
            </td>
        </tr>
        <tr>
            <td>
                preco
                <span class="attribute">float</span>
            </td>
            <td>
                Valor cobrado pela chamada.
            </td>
        </tr>
        <tr>
            <td>
                url_audio
                <span class="attribute">string</span>
            </td>
            <td>
                URL do Áudio enviado para a chamada.
            </td>
        </tr>
        <tr>
            <td>
                resposta_usuario
                <span class="attribute">boolean</span>
            </td>
            <td>
                Valor enviado identendificando se aceita a resposta do usuário.¹
            </td>
        </tr>
        <tr>
            <td>
                resposta
                <span class="attribute">string</span>
            </td>
            <td>
                Se você enviou resposta_usuario = true, quando o usuário executa alguma ação no teclado númerico do dispositivo, o valor será exibido neste campo (DTMF).¹
            </td>
        </tr>
        <tr>
            <td>
                motivo_desconexao
                <span class="attribute">string</span>
            </td>
            <td>
                Aqui é informado o motivo do derrubamento da ligação, você pode ver mais em <a href="#codigos-de-motivos">motivos de desconeção</a>
            </td>
        </tr>
        <tr>
            <td>
                url_gravacao
                <span class="attribute">string</span>
            </td>
            <td>
                Quando enviado a opção Gravar Áudio = true, este campo disponibilizará uma URL contendo o áudio da gravação da ligação.
            </td>
        </tr>
        <tr>
              <td>
                  bina
                  <span class="attribute">string</span>
              </td>
              <td>
                    Número de telefone que aparece no identificador de quem recebe a chamada
              </td>
          </tr>
        <tr>
         <tr>
              <td>
                  chamada_verificada
                  <span class="attribute">boolean</span>
              </td>
              <td>
                    Se o áudio foi enviado com chamada verificada
              </td>
          </tr>
        <tr>
            <td>
                motivo_vcall
                <span class="attribute">objeto</span>
            </td>
            <td>
                Objeto do tipo <a href="#objeto-motivo-vcall">Motivos VCall</a>
            </td>
        </tr>
    </tbody>
</table>

<p><br>
¹ Após o usuário digitar algo no teclado númerico a ligação será derrubada.</p>
<h2 id='criar-um-audio'>Criar um áudio</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://voice-app.zenvia.com/audio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
             -d <span class="s1">'{"numero_destino":"+5548988881111", "bina": "+554811111111" ,url_audio":"http://sua.url.audio/audio.mp3", "chamada_verificada": true, "motivo_vcall": 57}'</span> <span class="se">\</span>
             <span class="s1">'https://voice-app.zenvia.com/audio'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">audio</span><span class="o">-&gt;</span><span class="na">enviar</span><span class="p">(</span><span class="s1">'4811111111'</span><span class="p">,</span> <span class="s1">'http://sua.url.audio/audio.mp3'</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">audio</span><span class="p">.</span><span class="nx">enviar</span><span class="p">(</span><span class="s2">"4811111111"</span><span class="p">,</span> <span class="s2">"http://sua.url.audio/audio.mp3"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Audio</span><span class="o">.</span><span class="n">Enviar</span><span class="p">(</span><span class="s">"4811111111"</span><span class="p">,</span><span class="x"> </span><span class="s">"http://sua.url.audio/audio.mp3"</span><span class="p">,</span><span class="x"> </span><span class="no">false</span><span class="p">,</span><span class="x"> </span><span class="s">""</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">audio</span><span class="o">.</span><span class="n">enviar</span><span class="p">(</span><span class="s">"4811111111"</span><span class="p">,</span> <span class="s">"http://sua.url.audio/audio.mp3"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Audio</span> <span class="n">audio</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Audio</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">audio</span><span class="o">.</span><span class="na">enviar</span><span class="o">(</span><span class="s">"4811111111"</span><span class="o">,</span> <span class="s">"http://sua.url.audio/audio.mp3"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">audio</span><span class="p">.</span><span class="nf">enviar</span><span class="p">(</span><span class="s2">"4811111111"</span><span class="p">,</span> <span class="s2">"http://sua.url.audio/audio.mp3"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"audio criado com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4921</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Basta informar o número de destino válido e a URL pública do arquivo.</p>
<h4 id='request'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                numero_destino
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Número do telefone que irá receber a chamada, formato DDD + Número, exemplo: 4832830151.
             </td>
        </tr>
        <tr>
            <td>
                url_audio
                <span class="required">Obrigatório</span>
            </td>
            <td>
                URL do áudio, exemplo: http://sua.url.audio/audio.mp3.
            </td>
        </tr>
        <tr>
            <td>
                resposta_usuario
                <span class="optional">Opcional</span>
            </td>
            <td>
                Aguardar uma resposta do destinário.
            </td>
        </tr>
        <tr>
            <td>
                gravar_audio
                <span class="optional">Opcional</span>
            </td>
            <td>
                Gravar a ligação.
            </td>
        </tr>
        <tr>
            <td>
                bina
                <span class="optional">Opcional</span>
            </td>
            <td>
                Número de telefone que aparecerá no identificador de quem receber a chamada, formato DDD + Número, exemplo: 4832830151.
            </td>
        </tr>
        <tr>
            <td>
                detecta_caixa
                <span class="optional">Opcional</span>
            </td>
            <td>
                Caso identificado caixa, a ligação será derrubada antes que a ligação seja atendida. Esse serviço tem um custo adicional.
            </td>
        </tr>
        <tr>
            <td>
                bina_inteligente
                <span class="optional">Opcional</span>
            </td>
            <td>
                Quando o valor for true, ao enviar o torpedo o número de telefone que aparecerá para o destino será um número com DDD de sua região. Veja <a href="https://centraltotalvoice.freshdesk.com/support/solutions/articles/35000132235-bina-inteligente-torpedo-de-voz">DDDs disponíveis</a>.
            </td>
        </tr>
        <tr>
            <td>
                chamada_verificada
                <span class="optional">Opcional</span>
            </td>
            <td>
                 Um valor booleano para identificar se o áudio terá chamada verificada
            </td>
        </tr>
         <tr>
            <td>
                motivo_vcall
                <span class="optional">Opcional</span>
            </td>
            <td>
                Id do motivo vcall da chamada verificada
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Retorna o ID do Áudio.
             </td>
        </tr>
    </tbody>
</table>
<h2 id='buscar-audio'>Buscar áudio</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/audio/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="s1">'https://voice-app.zenvia.com/audio/ID-Audio'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">audio</span><span class="o">-&gt;</span><span class="na">buscaAudio</span><span class="p">(</span><span class="nx">id</span><span class="o">-</span><span class="nx">audio</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">audio</span><span class="p">.</span><span class="nx">buscar</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Audio</span><span class="o">.</span><span class="n">Buscar</span><span class="p">(</span><span class="m">123</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">audio</span><span class="o">.</span><span class="n">get_by_id</span><span class="p">(</span><span class="s">"123"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Audio</span> <span class="n">audio</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Audio</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">audio</span><span class="o">.</span><span class="na">buscar</span><span class="o">(</span><span class="mi">123</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">audio</span><span class="p">.</span><span class="nf">enviar</span><span class="p">(</span><span class="s2">"NUMERO-DESTINO"</span><span class="p">,</span> <span class="s2">"URL-AUDIO"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:60"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:35"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_audio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/audio.mp3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+5548988888888"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"chamada_verificada"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"motivo_vcall"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
            </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Texto do motivo"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Após o envio de mensagens de áudio, você poderá realizar a busca do registro pelo seu ID.</p>
<h5 id='request-2'>Request</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID do Áudio para recuperar os dados
             </td>
        </tr>
    </tbody>
</table>
<h5 id='response-2'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto <a href="#objeto-audio">áudio</a>
             </td>
        </tr>
    </tbody>
</table>
<h2 id='relatorio-audio'>Relatório áudio</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/audio/relatorio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
            <span class="s1">'https://voice-app.zenvia.com/audio/relatorio?data_inicio=2018-03-14&amp;data_fim=2018-03-15'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">audio</span><span class="o">-&gt;</span><span class="na">relatorio</span><span class="p">(</span><span class="nv">$dataInicial</span><span class="p">,</span> <span class="nv">$dataFinal</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">audio</span><span class="p">.</span><span class="nx">relatorio</span><span class="p">(</span><span class="nx">data_inicial</span><span class="p">,</span> <span class="nx">data_final</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Audio</span><span class="o">.</span><span class="n">Relatorio</span><span class="o">.</span><span class="n">Gerar</span><span class="p">(</span><span class="n">dataInicial</span><span class="p">,</span><span class="x"> </span><span class="n">dataFinal</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>


<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">audio</span><span class="o">.</span><span class="n">get_relatorio</span><span class="p">(</span><span class="s">"2017-12-08T11:00:32-02:00"</span><span class="p">,</span> <span class="s">"2017-12-08T11:00:32-02:00"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Audio</span> <span class="n">audio</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Audio</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">audio</span><span class="o">.</span><span class="na">relatorio</span><span class="o">(</span><span class="n">dataInicial</span><span class="o">,</span> <span class="n">dataFinal</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">audio</span><span class="p">.</span><span class="nf">enviar</span><span class="p">(</span><span class="s2">"NUMERO-DESTINO"</span><span class="p">,</span> <span class="s2">"URL-AUDIO"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:60"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:35"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_audio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/audio.mp3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+5548988888888"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"chamada_verificada"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"motivo_vcall"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
            </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Texto do motivo"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ocupado"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:10"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_audio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/audio.mp3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+5548988888888"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"chamada_verificada"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"motivo_vcall"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Você pode consultar os áudios enviados posteriormente. Basta informar o período desejado para que a API retorne os dados.</p>
<h4 id='request-3'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_inicio
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data inicial para consulta dos dados no relatório.
            </td>
        </tr>
        <tr>
            <td>
                data_fim
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data final para consulta dos dados no relatório.
            </td>
        </tr>
        <tr>
            <td>
                posicao
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Posição para seleção dos dados do relatório - começa na posição 0. Também chamado de offset.
            </td>
        </tr>
        <tr>
            <td>
                limite
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Quantidade de chamadas a retornar na consulta. O limite padrão é 100 e o máximo é 200.
            </td>
        </tr>

    </tbody>
</table>
<h4 id='response-3'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                relatorio
                <span class="attribute">array</span>
            </td>
            <td>
                Retorna um array com objetos <a href="#objeto-audio">áudio</a>
             </td>
        </tr>
    </tbody>
</table>

<p><b>Exemplo:</b> Se você tiver um relatório com 350 áudios, na primeira página será retornado 200. Para pegar os dados da segunda página o valor da posição deve ser 201.</p>

<p><br>
<br></p>
<h1 id='central-telefonica'>Central Telefônica</h1>
<p>Na central telefônica você poderá fazer configurações e retirar relatórios de ramal e URAs.</p>

<p>Caso você deseje utilizar a API de Voz da ZenAPI para ligações receptivas, entre em <a href="#introducao">contato</a> conosco para a contratação de um número receptivo(DID).</p>
<h3 id='objeto-ramal'>Objeto Ramal</h3>
<blockquote>
<p><br></p>

<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">76498</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3333"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testee@zenvia.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48999999999"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"webphone_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"213kbbncs324454ASDcxzln123"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ligacao_externa"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ligacao_celular"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"gravar_audio"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"acesso_gravacoes"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"webphone"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ura_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"voicemail"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo_vcall"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span><span class="w">
        </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Estamos retornando a sua solicitação"</span><span class="w">
    </span><span class="p">}</span><span class="w">        
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Definição do objeto Ramal</p>
<h4 id='atributos'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do ramal
             </td>
        </tr>
        <tr>
            <td>
                ramal
                <span class="attribute">integer</span>
            </td>
            <td>
                Número do ramal
             </td>
        </tr>
        <tr>
            <td>
                login
                <span class="attribute">string</span>
            </td>
            <td>
                E-mail de login do ramal
            </td>
        </tr>
        <tr>
             <td>
                 bina
                 <span class="attribute">string</span>
             </td>
             <td>
                 Número que aparece quando o ramal faz ligações
             </td>
        </tr>
         <tr>
             <td>
                 webphone_key
                 <span class="attribute">string</span>
             </td>
             <td>
                 Chave para utilização de webphones integrados
             </td>
         </tr>
         <tr>
             <td>
                 ligacao_externa
                 <span class="attribute">boolean</span>
             </td>
             <td>
                 Permite fazer ligações externas
             </td>
         </tr>
         <tr>
             <td>
                 ligacao_celular
                 <span class="attribute">boolean</span>
             </td>
             <td>
                 Permite fazer ligações para números de celular
             </td>
         </tr>
         <tr>
              <td>
                  gravar_audio
                  <span class="attribute">boolean</span>
              </td>
              <td>
                 Grava as ligações deste ramal
              </td>
          </tr>
          <tr>
              <td>
                  motivo_vcall
                  <span class="attribute">objeto</span>
              </td>
              <td>
                 Objeto do tipo <a href="#objeto-motivo-vcall">Motivos VCall</a>
              </td>
          </tr>
    </tbody>
</table>
<h3 id='criar-um-ramal'>Criar um ramal</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://voice-app.zenvia.com/ramal
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
             -d <span class="s1">'{"ramal":"","login":"","senha":""}'</span> <span class="se">\</span>
             <span class="s1">'https://voice-app.zenvia.com/ramal'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$dados</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"ramal"</span><span class="o">=&gt;</span><span class="s2">"1358"</span><span class="p">,</span>
    <span class="s2">"login"</span><span class="o">=&gt;</span><span class="s2">"logindeteste231@totalvoice.com.br"</span>
<span class="p">];</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">central</span><span class="o">-&gt;</span><span class="na">criarRamal</span><span class="p">(</span><span class="nv">$dados</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">dados</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">ramal</span><span class="p">:</span> <span class="s1">'1358'</span><span class="p">,</span> 
    <span class="na">login</span><span class="p">:</span> <span class="s1">'logindeteste231@totalvoice.com.br'</span><span class="p">,</span> 
    <span class="na">senha</span><span class="p">:</span> <span class="s1">'123456'</span>
<span class="p">};</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">central</span><span class="p">.</span><span class="nx">criarRamal</span><span class="p">(</span><span class="nx">dados</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">Em</span><span class="x"> </span><span class="n">construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="no">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ramal criado com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="mi">4000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123teste231@zenvia.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"senha"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123teste23122"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"webphone_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123teste231224d549e0408e123teste23122"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ligacao_externa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ligacao_celular"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"gravar_audio"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"acesso_gravacoes"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"webphone"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ura_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"voicemail"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo_vcall"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Nenhum campo é obrigatório, mas indicamos que você passe os parâmetros ramal e login para controlar melhor os ramais criados.</p>
<h4 id='request'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                ramal
                <span class="attribute">integer</span>
            </td>
            <td>
                Número do ramal
                </td>
        </tr>
        <tr>
            <td>
                login
                <span class="attribute">string</span>
            </td>
            <td>
                E-mail de login do ramal
            </td>
        </tr>
        <tr>
            <td>
                senha
                <span class="attribute">string</span>
            </td>
            <td>
                Senha do ramal. (Deve conter 8 caracteres, sendo pelo menos 1 maiúsculo e 1 minúsculo)
                </td>
        </tr>
        <tr>
                <td>
                    bina
                    <span class="attribute">string</span>
                </td>
                <td>
                    Número que aparece quando o ramal faz ligações
                </td>
        </tr>
        <tr>
            <td>
                ligacao_externa
                <span class="attribute">boolean</span>
            </td>
            <td>
                Permite fazer ligações externas
            </td>
        </tr>
        <tr>
            <td>
                ligacao_celular
                <span class="attribute">boolean</span>
            </td>
            <td>
                Permite fazer ligações para números de celular
            </td>
        </tr>
        <tr>
            <td>
                gravar_audio
                <span class="attribute">boolean</span>
            </td>
            <td>
                Permite a gravação de áudio
            </td>
        </tr>
        <tr>
            <td>
                acesso_gravacoes
                <span class="attribute">boolean</span>
            </td>
            <td>
                Permite o usuário deste ramal ver gravações
            </td>
        </tr>
        <tr>
            <td>
                webphone
                <span class="attribute">boolean</span>
            </td>
            <td>
                Permite o usuário utilizar webphone
            </td>
        </tr>
        <tr>
            <td>
                ura_id
                <span class="attribute">integer</span>
            </td>
            <td>
                Caso tenha um valor aqui ao telefonar para este número de ramal, vai cair em uma URA ao invés de chamar o usuário
            </td>
        </tr>
        <tr>
            <td>
                voicemail
                <span class="attribute">boolean</span>
            </td>
            <td>
                Se esse valor for igual a true, ao ligar para esse ramal ele será encaminhado para uma caixa postal que gravará recados. (Não irá chamar no usuário)
            </td>
        </tr>
        <tr>
            <td>
                motivo_vcall
                <span class="attribute">integer</span>
            </td>
            <td>
                Id do motivo vcall
            </td>
        </tr>
    </tbody>
</table>
<h5 id='response'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto com os dados do ramal criado
             </td>
        </tr>
    </tbody>
</table>
<h2 id='buscar-um-ramal'>Buscar um ramal</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/ramal/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
             <span class="s1">'https://voice-app.zenvia.com/ramal/{id}'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">central</span><span class="o">-&gt;</span><span class="na">buscaRamal</span><span class="p">(</span><span class="s2">"id-ramal"</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">central</span><span class="p">.</span><span class="nx">buscaRamal</span><span class="p">(</span><span class="s1">'id-ramal'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">Em</span><span class="x"> </span><span class="n">construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="no">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"teste@zenvia.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48999999999"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"webphone_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testefd3b268b3de8cateste44968"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ligacao_externa"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ligacao_celular"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"gravar_audio"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"acesso_gravacoes"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"webphone"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ura_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"voicemail"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo_vcall"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Após o ramal ser criado, você pode consultar suas informações</p>
<h4 id='request-2'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do ramal
            </td>
        </tr>
    </tbody>
</table>
<h5 id='response-2'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto do ramal </a>
             </td>
        </tr>
    </tbody>
</table>
<h2 id='editar-um-ramal'>Editar um Ramal</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>PUT https://voice-app.zenvia.com/ramal/{id}/fila
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X PUT --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
             -d <span class="s1">'{"senha":"4321789"}'</span> <span class="se">\</span>
             <span class="s1">'https://voice-app.zenvia.com/ramal/{id}'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$dados</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"ramal"</span><span class="o">=&gt;</span><span class="s2">"1358"</span><span class="p">,</span>
    <span class="s2">"login"</span><span class="o">=&gt;</span><span class="s2">"logindeteste231@totalvoice.com.br"</span>
<span class="p">];</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">central</span><span class="o">-&gt;</span><span class="na">atualizarRamal</span><span class="p">(</span><span class="s2">"id-ramal"</span><span class="p">,</span> <span class="nv">$dados</span><span class="p">);</span>

</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">dados</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">login</span><span class="p">:</span> <span class="s1">'logindeteste456@totalvoice.com.br'</span><span class="p">,</span> 
    <span class="na">senha</span><span class="p">:</span> <span class="s1">'12345678'</span>
<span class="p">};</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">central</span><span class="p">.</span><span class="nx">atualizarRamal</span><span class="p">(</span><span class="s1">'id-ramal'</span><span class="p">,</span> <span class="nx">dados</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">Em</span><span class="x"> </span><span class="n">construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="no">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados atualizados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='request-3'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Id do ramal que será modificado(O id é passado na URL do endpoint) 
                </td>
        </tr>
        <tr>
            <td>
                ramal
                <span class="attribute">integer</span>
            </td>
            <td>
                Número do ramal
                </td>
        </tr>
        <tr>
            <td>
                login
                <span class="attribute">string</span>
            </td>
            <td>
                E-mail de login do ramal
            </td>
        </tr>
        <tr>
            <td>
                senha
                <span class="attribute">string</span>
            </td>
            <td>
                Senha do ramal (Deve conter 8 caracteres, sendo pelo menos 1 maiúsculo e 1 minúsculo)
                </td>
        </tr>
        <tr>
                <td>
                    bina
                    <span class="attribute">string</span>
                </td>
                <td>
                    Número que aparece quando o ramal faz ligações
                </td>
        </tr>
        <tr>
            <td>
                ligacao_externa
                <span class="attribute">boolean</span>
            </td>
            <td>
                Permite fazer ligações externas
            </td>
        </tr>
        <tr>
            <td>
                ligacao_celular
                <span class="attribute">boolean</span>
            </td>
            <td>
                Permite fazer ligações para números de celular
            </td>
        </tr>
        <tr>
            <td>
                gravar_audio
                <span class="attribute">boolean</span>
            </td>
            <td>
                Permite a gravação de áudio
            </td>
        </tr>
        <tr>
            <td>
                acesso_gravacoes
                <span class="attribute">boolean</span>
            </td>
            <td>
                Permite o usuário deste ramal ver gravações
            </td>
        </tr>
        <tr>
            <td>
                webphone
                <span class="attribute">boolean</span>
            </td>
            <td>
                Permite o usuário utilizar webphone
            </td>
        </tr>
        <tr>
            <td>
                ura_id
                <span class="attribute">integer</span>
            </td>
            <td>
                Caso tenha um valor aqui, ao telefonar para este número de ramal, vai cair em uma URA ao invés de chamar o usuário
            </td>
        </tr>
        <tr>
            <td>
                voicemail
                <span class="attribute">boolean</span>
            </td>
            <td>
                Se esse valor for igual a true, ao ligar para esse ramal ele será encaminhado para uma caixa postal que gravará recados.(Não irá chamar no usuário)
            </td>
        </tr>
         <tr>
            <td>
                motivo_vcall
                <span class="attribute">integer</span>
            </td>
            <td>
                Id do motivo vcall
            </td>
        </tr>
    </tbody>
</table>
<h5 id='response-3'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                status
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o status da requisição</a>
             </td>
        </tr>
    </tbody>
</table>
<h2 id='editar-um-ramal-na-fila'>Editar um ramal na fila</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>PUT https://voice-app.zenvia.com/ramal/{id}/fila
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X PUT --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
             -d <span class="s1">'{"status_pausa":true, "fila":41}'</span> <span class="se">\</span>
             <span class="s1">'https://voice-app.zenvia.com/ramal/{id}/fila'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$dados</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"status_pausa"</span><span class="o">=&gt;</span><span class="kc">true</span><span class="p">,</span>
    <span class="s2">"fila"</span><span class="o">=&gt;</span><span class="mi">41</span>
<span class="p">];</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">central</span><span class="o">-&gt;</span><span class="na">atualizarRamalFila</span><span class="p">(</span><span class="s2">"id-ramal"</span><span class="p">,</span> <span class="nv">$dados</span><span class="p">);</span>

</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">central</span><span class="p">.</span><span class="nx">atualizarRamalFila</span><span class="p">(</span><span class="nx">ramal_id</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">RamalFila</span><span class="o">.</span><span class="n">Atualizar</span><span class="p">(</span><span class="n">ramal_id</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">client</span><span class="o">.</span><span class="n">ramal</span><span class="o">.</span><span class="n">editarRamalFila</span><span class="p">(</span><span class="n">ramal_id</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Central</span> <span class="n">central</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Central</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">central</span><span class="o">.</span><span class="na">atualizarRamalFila</span><span class="o">(</span><span class="n">ramal_id</span><span class="o">,</span> <span class="n">data</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"9754aac7641722789c80c237f9afb4b1"</span><span class="p">,</span> <span class="s2">"voice-app.zenvia.com"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">ramal</span><span class="p">.</span><span class="nf">atualizar_ramal_fila</span><span class="p">(</span><span class="n">ramal_id</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ramal pausado com sucesso na fila 41"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"ramal_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
      </span><span class="s2">"pausado"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fila"</span><span class="p">:</span><span class="w"> </span><span class="mi">41</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='request-4'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Id do ramal que será modificado(O id é passado na URL do endpoint) 
                </td>
        </tr>
        <tr>
            <td>
                status_pausa
                <span class="attribute">boolean</span>
            </td>
            <td>
                Pausa (true) ou despausa (false)
            </td>
        </tr>
        <tr>
            <td>
                fila
                <span class="attribute">integer</span>
            </td>
            <td>
                Id da fila que você quer pausar o ramal
            </td>
        </tr>
    </tbody>
</table>
<h5 id='response-4'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                status
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o status da requisição</a>
             </td>
        </tr>
    </tbody>
</table>
<h2 id='deletar-um-ramal'>Deletar um ramal</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>DELETE https://voice-app.zenvia.com/ramal/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X DELETE --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
             <span class="s1">'https://voice-app.zenvia.com/ramal/{id}'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">central</span><span class="o">-&gt;</span><span class="na">excluirRamal</span><span class="p">(</span><span class="s2">"id-ramal"</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">central</span><span class="p">.</span><span class="nx">excluirRamal</span><span class="p">(</span><span class="s1">'id-ramal'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">Em</span><span class="x"> </span><span class="n">construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="no">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ramal Removido"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='request-5'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do ramal
            </td>
        </tr>
    </tbody>
</table>
<h5 id='response-5'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                 Retorna o status da requisição </a>
             </td>
        </tr>
    </tbody>
</table>
<h2 id='listar-ramais-criados'>Listar ramais criados</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/ramal/relatorio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
            <span class="s1">'https://voice-app.zenvia.com/ramal/relatorio?data_inicio=2018-03-14&amp;data_fim=2018-03-15'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nx">Em</span> <span class="nx">constru</span><span class="err">çã</span><span class="nx">o</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">central</span><span class="p">.</span><span class="nx">relatorio</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">Em</span><span class="x"> </span><span class="n">construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"teste@totalTeste.com.br"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48999999999"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"webphone_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"totalTesteb8af64668997totalTeste"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ligacao_externa"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ligacao_celular"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"gravar_audio"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"acesso_gravacoes"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"webphone"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ura_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"voicemail"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"motivo_vcall"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span><span class="w">
            </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Estamos retornando a sua solicitação"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4567</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"teste1@totalTeste.com.br"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48999999999"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"webphone_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"teste18e990a500a059a78teste1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ligacao_externa"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ligacao_celular"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"gravar_audio"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"acesso_gravacoes"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"webphone"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ura_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"voicemail"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"motivo_vcall"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='request-6'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_inicio
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data inicial para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                data_fim
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data final para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                posicao
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Posição para seleção dos dados do relatório - começa na posição 0. Também chamado de offset.            
            </td>
        </tr>
        <tr>
            <td>
                limite
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Quantidade de chamadas a retornar na consulta. O limite padrão é 100 e o máximo é 200.
            </td>
        </tr> 
    </tbody>
</table>
<h4 id='response-6'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                relatorio
                <span class="attribute">array</span>
            </td>
            <td>
                Retorna um array com objetos ramal</a>
             </td>
        </tr>
    </tbody>
</table>

<p><b>Importante:</b> Se você tiver um relatório com 350 ramais, na primeira página será retornado 200. Para pegar os dados da segunda página o valor da posição deve ser 201.</p>
<h2 id='listar-pausas-do-ramal'>Listar pausas do ramal</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/ramal/{id}/pausas
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
            <span class="s1">'https://voice-app.zenvia.com/ramal/{id}/pausas?data_inicio=2018-03-14&amp;data_fim=2018-03-15'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">central</span><span class="o">-&gt;</span><span class="na">relatorioPausasRamal</span><span class="p">(</span><span class="s2">"id-ramal"</span><span class="p">,</span> <span class="s2">"2019-02-20T11:11:19-03:00"</span><span class="p">,</span> <span class="s2">"2019-02-20T11:12:26-03:0"</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">central</span><span class="p">.</span><span class="nx">relatorioPausas</span><span class="p">(</span><span class="s1">'id-ramal'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">Em</span><span class="x"> </span><span class="n">construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:07"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_total_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"posicao"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"limite"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"pausa_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-06-15T11:14:41-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pausa_fim"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-06-15T11:14:48-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tempo_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tempo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:07"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='request-7'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="required">Obrigatório</span>
                <span class="required">integer</span>
            </td>
            <td>
                Id do ramal que será modificado(O id é passado na URL do endpoint) 
            </td>
        </tr>
        <tr>
            <td>
                data_inicio
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data inicial para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                data_fim
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data final para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                posicao
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Posição para seleção dos dados do relatório - começa na posição 0. Também chamado de offset.            
            </td>
        </tr>
        <tr>
            <td>
                limite
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Quantidade de chamadas a retornar na consulta. O limite padrão é 100 e o máximo é 200.
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response-7'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto com os dados de pausa do ramal
             </td>
        </tr>
    </tbody>
</table>

<p><b>Importante:</b> Se você tiver um relatório com 350 pausas do ramal, na primeira página será retornado 200. Para pegar os dados da segunda página o valor da posição deve ser 201.</p>
<h2 id='listar-ligacoes-de-um-ramal'>Listar ligações de um ramal</h2>
<blockquote>
<p>Definição</p>
</blockquote>

<p>Lista as ligações <u>recebidas</u> por um ramal no périodo desejado.</p>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/ramal/{id}/relatorio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
            <span class="s1">'https://voice-app.zenvia.com/ramal/{id}/relatorio?data_inicio=2018-03-14&amp;data_fim=2018-03-15'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nx">Em</span> <span class="nx">constru</span><span class="err">çã</span><span class="nx">o</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">central</span><span class="p">.</span><span class="nx">relatorio</span><span class="p">(</span><span class="s1">'id-ramal'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">Em</span><span class="x"> </span><span class="n">construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"posicao"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"limite"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123456</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-07T15:28:13-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.evoline.com.br/rec/?id=123445&amp;x=12345&amp;cid=1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_origem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48999999999"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">369</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:06:09"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">60679</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"teste@totaltestevoice.com.br"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123456</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-08T13:16:02-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.evoline.com.br/rec/?id=123456&amp;x=12345&amp;cid=1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_origem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48999999999"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">596</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:09:56"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"teste@totaltestevoice.com.br"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='request-8'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="required">Obrigatório</span>
                <span class="required">integer</span>
            </td>
            <td>
                Id do ramal que será modificado(O id é passado na URL do endpoint) 
            </td>
        </tr>
        <tr>
            <td>
                data_inicio
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data inicial para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                data_fim
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data final para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                posicao
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Posição para seleção dos dados do relatório - começa na posição 0. Também chamado de offset.            
            </td>
        </tr>
        <tr>
            <td>
                limite
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Quantidade de chamadas a retornar na consulta. O limite padrão é 100 e o máximo é 200.
            </td>
        </tr> 
    </tbody>
</table>
<h4 id='response-8'>Response</h4>
<table class="table-parameters">
     <tbody>
        <tr>
            <td>
                relatorio
                <span class="attribute">array</span>
            </td>
            <td>
                Retorna um array com objetos de chamadas atendidas</a>
             </td>
        </tr>
    </tbody>
</table>

<p><b>Importante:</b> Se você tiver um relatório com 350 pausas do ramal, na primeira página será retornado 200. Para pegar os dados da segunda página o valor da posição deve ser 201.</p>
<h2 id='objeto-ura'>Objeto URA</h2>
<blockquote>
<p><br></p>

<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">78910</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exemplo de URA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="s2">"menu"</span><span class="p">:</span><span class="w"> </span><span class="s2">"menu 1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"opcao"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"acao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tts"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"acao_dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Voce ligou para Zenvia. Aperte 1 para ser atendido."</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"timeout_fila"</span><span class="p">:</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span><span class="w">
            </span><span class="s2">"menu"</span><span class="p">:</span><span class="w"> </span><span class="s2">"menu 1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"opcao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"acao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fila"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"acao_dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"fila_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"menu"</span><span class="p">:</span><span class="w"> </span><span class="s2">"menu 8"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"opcao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"acao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"digiteramal"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"acao_dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Digite o ramal desejado"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Uma URA possui uma estrutura de atendimento, em nossa api você tem diversas possibilidades. Após os atributos, iremos apresentar todos os Parâmetros que podem ser utilizados.</p>
<h4 id='atributos-2'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID da URA
             </td>
        </tr>
        <tr>
            <td>
                nome
                <span class="attribute">string</span>
            </td>
            <td>
                Nome da URA
             </td>
        </tr>
        <tr>
            <td>
                dados
                <span class="attribute">string</span>
            </td>
            <td>
                Dentro de dados você consegue visualizar a estrutura de atendimento da sua URA.
            </td>
        </tr>
    </tbody>
</table>
<h4 id='parametros-da-estrutura-da-ura-dados'>Parâmetros da estrutura da URA(dados)</h4>
<p>O nome da &quot;acao&quot; é o maior e o que deve estar dentro do array &quot;acao_dados&quot; é o que vem logo abaixo. Veja o exemplo ao lado.
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                audio
                <span class="attribute">url_audio</span>
            </td>
            <td>
                Toca o áudio que consta na url. A url deve ser pública para que nosso sistema possa buscar.
             </td>
        </tr>
        <tr>
            <td>
                tts
                <span class="attribute">mensagem</span>
            </td>
            <td>
                Toca a mensagem escrita em formato de áudio com uma voz simulada.
             </td>
        </tr>
        <tr>
            <td>
                transfer
                <span class="attribute">numero_telefone</span>
            </td>
            <td>
                Transfere para um ramal ou número externo. Transferência para número externo tem o valor de uma ligação efetuada.
            </td>
        </tr>
        <tr>
            <td>
                fila
                <span class="attribute">fila_id</span>
            </td>
            <td>
                Transfere para a <a href="https://centraltotalvoice.freshdesk.com/a/solutions/articles/35000108391-como-funcionam-as-filas-de-atendimento">fila de atendimento</a> referente ao seu ID.
            </td>
        </tr>
        <tr>
            <td>
                webhook
                <span class="attribute">url</span>
            </td>
            <td>
                Envia um webhook com as informações da chamada para o endpoint passado no parâmetro &quot;url&quot;.
            </td>
        </tr>
        <tr>
            <td>
                gotomenu
                <span class="attribute">menu</span>
            </td>
            <td>
                Vai para um próximo menu da mesma ura, exemplo &quot;menu 2&quot;.
            </td>
        </tr>
        <tr>
            <td>
                dinamico
                <span class="attribute">url</span>
            </td>
            <td>
                Encaminha a chamada para uma <a href="https://centraltotalvoice.freshdesk.com/solution/articles/35000118467-criando-uma-ura-din%C3%A2mica-simples">URA Dinâmica</a>. Coloca-se a URL para onde será enviado um HTTP POST para solicitar a URA à ser carregada.
            </td>
        </tr>
        <tr>
            <td>
                digiteramal
                <span class="attribute">mensagem</span>
            </td>
            <td>
               Mensagem que será reproduzida em formato de áudio ao cliente para solicitar a digitação de um ramal. A chamada será direcionada para o ramal informado.
            </td>
        </tr>
        <tr>
            <td>
                fim
            </td>
            <td>
               Derruba a ligação, não tem acao_dados e geralmente é usada seguido de uma outra ação. Se não tiver essa informação, a URA irá ficar até que o outro usuário desligue ou a ligação caia.
            </td>
        </tr><br>
    </tbody>
</table></p>
<h4 id='opcoes-adicionais-para-acao'>Opções adicionais para ação</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                opcao
                <span class="attribute">string</span>
            </td>
            <td>
                Caso você tenha adicionado uma 'opcao' na etapa da URA ela só será chamada caso o usuário digite o número dela. As opções vão de 1 à 9.
             </td>
        </tr>
        <tr>
            <td>
                menu
                <span class="attribute">string</span>
            </td>
            <td>
                Indica a qual menu pertence essa etapa da URA.
             </td>
        </tr>
        <tr>
            <td>
                timeout
                <span class="attribute">string</span>
            </td>
            <td>
                Este é o tempo de espera para que a ligação seja derrubada ou a URA vá para a próxima ação, ele começa a conta após a sua ação acabar. Exemplo: assim que acabar o texto do seu TTS.
             </td>
        </tr>
        <tr>
            <td>
                coletar_dtmf
                <span class="attribute">string</span>
            </td>
            <td>
                Isso indica que essa etapa da ação irá esperar no máximo a quantidade de caracteres que você passar. Por exemplo:
                {"coletar_dtmf":"11"}. Quando atingido o máximo de DTMF(ou acabar o timeout) será executada a próxima ação.
             </td>
        </tr>
        <tr>
            <td>
                queue_fail_timeout
                <span class="attribute">string</span>
            </td>
            <td>
                Quando você utiliza a ação 'fila' você pode usar esse parâmetro passando o tempo máximo de espera da fila, após o término do tempo a próxima ação será executada.
             </td>
        </tr>
    </tbody>
</table>
<h2 id='criar-uma-ura'>Criar uma URA</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://voice-app.zenvia.com/ura
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
             -d <span class="s1">'{"nome":"Nome URA","dados":[{"acao":"tts","acao_dados":{"mensagem":"Essa é uma mensagem de Exemplo"}}]}'</span> <span class="se">\</span>
             <span class="s1">'https://voice-app.zenvia.com/ura'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$dados</span> <span class="o">=</span> <span class="k">array</span> <span class="p">(</span>
    <span class="mi">0</span> <span class="o">=&gt;</span> <span class="k">array</span> <span class="p">(</span>
      <span class="s1">'acao'</span> <span class="o">=&gt;</span> <span class="s1">'tts'</span><span class="p">,</span>
      <span class="s1">'menu'</span> <span class="o">=&gt;</span> <span class="s1">'menu 1'</span><span class="p">,</span>
      <span class="s1">'acao_dados'</span> <span class="o">=&gt;</span> <span class="k">array</span> <span class="p">(</span>
          <span class="s1">'mensagem'</span> <span class="o">=&gt;</span> <span class="s1">'Olá! Isso é um teste.'</span>
      <span class="p">),</span>
    <span class="p">)</span>
    <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">central</span><span class="o">-&gt;</span><span class="na">criarUra</span><span class="p">(</span><span class="s2">"Teste TotalVoice-001"</span><span class="p">,</span> <span class="nv">$dados</span><span class="p">);</span>

</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">dados</span> <span class="o">=</span> <span class="p">[{</span>
    <span class="na">acao</span><span class="p">:</span> <span class="s2">"tts"</span><span class="p">,</span>
    <span class="na">opcao</span><span class="p">:</span> <span class="s2">"1"</span><span class="p">,</span>
    <span class="na">menu</span><span class="p">:</span> <span class="s2">"menu 2"</span><span class="p">,</span>
    <span class="na">acao_dados</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">mensagem</span><span class="p">:</span> <span class="s2">"Mensagem de teste"</span>
    <span class="p">}</span>
<span class="p">}];</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">central</span><span class="p">.</span><span class="nx">criarUra</span><span class="p">(</span><span class="s2">"nome-ura"</span><span class="p">,</span> <span class="nx">dados</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">Em</span><span class="x"> </span><span class="n">construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="no">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ura criada com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Veja a lista de opções dos dados/estrutura da URA que podem ser utilizadas.</p>
<h4 id='request-9'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                nome
                <span class="attribute">string</span>
            </td>
            <td>
                Nome da URA
             </td>
        </tr>
        <tr>
            <td>
                dados
                <span class="attribute">string</span>
            </td>
            <td>
                Dentro de dados você consegue passar a estrutura de atendimento da sua URA.
            </td>
        </tr>
    </tbody>
</table>
<h5 id='response-9'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Retorna o ID do Áudio
             </td>
        </tr>
    </tbody>
</table>
<h2 id='buscar-uma-ura'>Buscar uma URA</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/ura/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
             <span class="s1">'https://voice-app.zenvia.com/ura/{id}'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nx">Em</span> <span class="nx">constru</span><span class="err">çã</span><span class="nx">o</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">central</span><span class="p">.</span><span class="nx">buscaUra</span><span class="p">(</span><span class="s1">'id-ura'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">Em</span><span class="x"> </span><span class="n">construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="no">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Atendimento ZenAPI"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="s2">"menu"</span><span class="p">:</span><span class="w"> </span><span class="s2">"menu 1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"opcao"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"acao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"audio"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"acao_dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"url_audio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://seuaud.io/1234.mp3"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"timeout_fila"</span><span class="p">:</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span><span class="w">
        </span><span class="s2">"menu"</span><span class="p">:</span><span class="w"> </span><span class="s2">"menu 1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"opcao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"acao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fila"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"acao_dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"fila_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='request-10'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID da URA
            </td>
        </tr>
    </tbody>
</table>
<h5 id='response-10'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto da URA
             </td>
        </tr>
    </tbody>
</table>
<h2 id='editar-uma-ura'>Editar uma URA</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>PUT https://voice-app.zenvia.com/ura/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
             -d <span class="s1">'{"nome":"Nome URA","dados":[{"acao":"tts","acao_dados":{"mensagem":"Essa é uma mensagem de Exemplo 2"}}]}'</span> <span class="se">\</span>
             <span class="s1">'https://voice-app.zenvia.com/ura/{id}'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$dados</span> <span class="o">=</span> <span class="k">array</span> <span class="p">(</span>
    <span class="mi">0</span> <span class="o">=&gt;</span> <span class="k">array</span> <span class="p">(</span>
      <span class="s1">'acao'</span> <span class="o">=&gt;</span> <span class="s1">'tts'</span><span class="p">,</span>
      <span class="s1">'menu'</span> <span class="o">=&gt;</span> <span class="s1">'menu 1'</span><span class="p">,</span>
      <span class="s1">'acao_dados'</span> <span class="o">=&gt;</span> <span class="k">array</span> <span class="p">(</span>
          <span class="s1">'mensagem'</span> <span class="o">=&gt;</span> <span class="s1">'Olá! Isso é um teste.'</span>
      <span class="p">),</span>
    <span class="p">)</span>
    <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">central</span><span class="o">-&gt;</span><span class="na">atualizarUra</span><span class="p">(</span><span class="s2">"123456"</span><span class="p">,</span> <span class="s2">"Teste ZenAPI-001"</span><span class="p">,</span> <span class="nv">$dados</span><span class="p">);</span>

</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">dados</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">timeout</span><span class="p">:</span> <span class="mi">10</span>
<span class="p">};</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">central</span><span class="p">.</span><span class="nx">atualizarUra</span><span class="p">(</span><span class="s1">'id-ura'</span><span class="p">,</span> <span class="s1">'nome-ura'</span><span class="p">,</span> <span class="nx">dados</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">Em</span><span class="x"> </span><span class="n">construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="no">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ura atualizada com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='request-11'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                nome
                <span class="attribute">string</span>
            </td>
            <td>
                Nome da URA
             </td>
        </tr>
        <tr>
            <td>
                dados
                <span class="attribute">string</span>
            </td>
            <td>
                Estrutura de atendimento da URA.
            </td>
        </tr>
    </tbody>
</table>
<h5 id='response-11'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                status
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o status da requisição
             </td>
        </tr>
    </tbody>
</table>
<h2 id='deletar-uma-ura'>Deletar uma URA</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>DELETE https://voice-app.zenvia.com/ura/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X DELETE --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
             <span class="s1">'https://voice-app.zenvia.com/ura/{id}'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">central</span><span class="o">-&gt;</span><span class="na">excluirUra</span><span class="p">(</span><span class="s2">"id"</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">central</span><span class="p">.</span><span class="nx">excluirUra</span><span class="p">(</span><span class="s1">'id-ura'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">Em</span><span class="x"> </span><span class="n">construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="no">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"URA Removida"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='request-12'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID da URA
            </td>
        </tr>
    </tbody>
</table>
<h5 id='response-12'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                status
                <span class="attribute">object</span>
            </td>
            <td>
                 Retorna o status da requisição </a>
             </td>
        </tr>
    </tbody>
</table>
<h2 id='relatorio-de-ura'>Relatório de URA</h2>
<blockquote>
<p>Definição</p>
</blockquote>

<p>Retorna a sua lista de URAs e suas estruturas</p>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/ura/relatorio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
            <span class="s1">'https://voice-app.zenvia.com/ura/relatorio'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nx">Em</span> <span class="nx">constru</span><span class="err">çã</span><span class="nx">o</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">central</span><span class="p">.</span><span class="nx">relatorioUra</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">Em</span><span class="x"> </span><span class="n">construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Geral"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="s2">"menu"</span><span class="p">:</span><span class="w"> </span><span class="s2">"menu 1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"opcao"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"acao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tts"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"acao_dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Olá, seja bem vindo a melhór startap da Palhóça. Digite 1 para ser atendido."</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"timeout_fila"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
            </span><span class="s2">"menu"</span><span class="p">:</span><span class="w"> </span><span class="s2">"menu 1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"opcao"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"acao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fila"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"acao_dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"fila_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"timeout_fila"</span><span class="p">:</span><span class="w"> </span><span class="mi">9000</span><span class="p">,</span><span class="w">
            </span><span class="s2">"menu"</span><span class="p">:</span><span class="w"> </span><span class="s2">"menu 1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"opcao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"acao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fila"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"acao_dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"fila_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"745896"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='response-13'>Response</h4>
<table class="table-parameters">
     <tbody>
        <tr>
            <td>
                relatorio
                <span class="attribute">array</span>
            </td>
            <td>
                Retorna um array com as URAs e seus IDs e para cada uma um array com sua estrutura
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br></p>
<h1 id='fila'>Fila</h1>
<blockquote>
<p>Fila Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-app.zenvia.com/fila
</code></pre>
<p>A funcionalidade de filas permite a automatização e manipulação de filas de atendimentos</p>
<h2 id='objeto-fila'>Objeto Fila</h2>
<blockquote>
<p><br></p>

<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Suporte"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"chamadas"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"completado"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cancelado"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tempo_falado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tempo_espera"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ramais"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
         </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Atendimento"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ramal@empresa.com.br"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"prioridade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"qtd_ligacao_atendida"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ultima_chamada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"em_ligacao"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
         </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"indisponivel"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"em_pausa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
         </span><span class="s2">"razao_pausa"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
         </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
         </span><span class="s2">"tempo_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04:38:36"</span><span class="w">     
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Definição do objeto Fila</p>
<h4 id='atributos'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro da Fila.
             </td>
        </tr>
        <tr>
            <td>
                nome
                <span class="attribute">string</span>
            </td>
            <td>
                Nome da fila.
            </td>
        </tr>
        <tr>
            <td>
                chamadas
                <span class="attribute">integer</span>
            </td>
            <td>
                Número de chamadas da fila.
            </td>
        </tr>
        <tr>
            <td>
                completado
                <span class="attribute">integer</span>
            </td>
            <td>
                Número de chamadas completadas.
            </td>
        </tr>
        <tr>
            <td>
                cancelado
                <span class="attribute">integer</span>
            </td>
            <td>
                Número de chamadas canceladas.
            </td>
        </tr>
        <tr>
            <td>
                tempo_falado
                <span class="attribute">string</span>
            </td>
            <td>
                Total de tempo falado da fila.
            </td>
        </tr>
        <tr>
            <td>
                tempo_espera
                <span class="attribute">string</span>
            </td>
            <td>
                Total de tempo de ramais em espera na fila.
            </td>
        </tr>
        <tr>
            <td>
                ramais
                <span class="attribute">array</span>
            </td>
            <td>
                Lista de ramais pertencentes a fila
            </td>
        </tr>
    </tbody>
</table>
<h2 id='criar-uma-fila'>Criar uma fila</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://voice-app.zenvia.com/fila
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
             -d <span class="s1">'{"nome":"Suporte","estrategia_ring":"Multiplo", "timeout_ring": "60"}'</span> <span class="se">\</span>
             <span class="s1">'https://voice-app.zenvia.com/fila'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">fila</span><span class="o">-&gt;</span><span class="na">criar</span><span class="p">(</span><span class="s1">'Suporte'</span><span class="p">,</span> <span class="s1">'Multiplo'</span><span class="p">,</span> <span class="s1">'60'</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">fila</span><span class="p">.</span><span class="nx">enviar</span><span class="p">(</span><span class="s2">"Suporte"</span><span class="p">,</span> <span class="s2">"Multiplo"</span><span class="p">,</span> <span class="s2">"60"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>  
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Fila</span><span class="o">.</span><span class="n">Criar</span><span class="p">(</span><span class="s">"Suporte"</span><span class="p">,</span><span class="x"> </span><span class="s">"Multiplo"</span><span class="p">,</span><span class="x"> </span><span class="m">60</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">fila</span><span class="o">.</span><span class="n">criar</span><span class="p">(</span><span class="s">"Suporte"</span><span class="p">,</span> <span class="s">"Multiplo"</span><span class="p">,</span> <span class="s">"60"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Fila</span> <span class="n">fila</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Fila</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">fila</span><span class="o">.</span><span class="na">enviar</span><span class="o">(</span><span class="s">"Suporte"</span><span class="o">,</span> <span class="s">"Multiplo"</span><span class="o">)</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">fila</span><span class="p">.</span><span class="nf">criar</span><span class="p">(</span><span class="s2">"Suporte"</span><span class="p">,</span> <span class="s2">"Multiplo"</span><span class="p">,</span> <span class="s2">"60"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fila criada com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4921</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Basta informar o nome da fila e a estratégia de ring.</p>
<h4 id='request'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                nome
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Nome da fila a ser criada.
             </td>
        </tr>
        <tr>
            <td>
                estrategia_ring
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Distribuidor = Toca um ramal por vez, DistribuidorParalelo = Toca um ramal por vez com encaminhamento paralelo ou Multiplo = Toca todos ramais ao mesmo tempo.
            </td>
        </tr>
        <tr>
            <td>
                timeout_ring
                <span class="optional">Opcional</span>
            </td>
            <td>
                Segundos que vai ficar tocando na fila
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Retorna o ID da Fila
             </td>
        </tr>
    </tbody>
</table>
<h2 id='buscar-fila'>Buscar fila</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/fila/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="s1">'https://voice-app.zenvia.com/fila/1'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">fila</span><span class="o">-&gt;</span><span class="na">buscar</span><span class="p">(</span><span class="mi">123</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">fila</span><span class="p">.</span><span class="nx">buscar</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Fila</span><span class="o">.</span><span class="n">Buscar</span><span class="p">(</span><span class="m">123</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">fila</span><span class="o">.</span><span class="n">get_fila</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Fila</span> <span class="n">fila</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Fila</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">fila</span><span class="o">.</span><span class="na">buscar</span><span class="o">(</span><span class="mi">123</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"{{access-token}}"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">fila</span><span class="p">.</span><span class="nf">buscar</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Suporte"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"chamadas"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"completado"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cancelado"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tempo_falado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tempo_espera"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ramais"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Atendimento"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ramal@empresa.com.br"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"prioridade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"qtd_ligacao_atendida"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ultima_chamada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"em_ligacao"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"indisponivel"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"em_pausa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"razao_pausa"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tempo_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04:38:36"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Após a criação de uma fila, você poderá realizar a busca do registro pelo seu ID.</p>
<h5 id='request-2'>Request</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                ID
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID da Fila para recuperar os dados
             </td>
        </tr>
    </tbody>
</table>
<h5 id='response-2'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto <a href="#objeto-fila">fila</a>
             </td>
        </tr>
    </tbody>
</table>
<h2 id='editar-fila'>Editar fila</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>PUT https://voice-app.zenvia.com/fila/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl <span class="s1">'https://voice-app.zenvia.com/fila/1'</span> <span class="se">\</span>
    -X PUT <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --header <span class="s1">'Access-Token: testeM68PU1Izmb9chEdLzep7IwRymWO'</span> <span class="se">\</span>
    -d <span class="s1">'{"nome":"Suporte","estrategia_ring":"Multiplo", "timeout_ring": "60"}'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">fila</span><span class="o">-&gt;</span><span class="na">atualizarFila</span><span class="p">(</span><span class="s2">"Suporte"</span><span class="p">,</span> <span class="s2">"Multiplo"</span><span class="p">,</span> <span class="s2">"60"</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">fila</span><span class="p">.</span><span class="nx">atualizarFila</span><span class="p">(</span><span class="s2">"Suporte"</span><span class="p">,</span> <span class="s2">"Multiplo"</span><span class="p">,</span> <span class="s2">"60"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Fila</span><span class="o">.</span><span class="n">Atualizar</span><span class="p">(</span><span class="s">"Suporte"</span><span class="p">,</span><span class="x"> </span><span class="s">"Multiplo"</span><span class="p">,</span><span class="x"> </span><span class="s">"60"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">fila</span><span class="o">.</span><span class="n">editar</span><span class="p">(</span><span class="s">"Suporte"</span><span class="p">,</span> <span class="s">"Multiplo"</span><span class="p">,</span> <span class="s">"60"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Fila</span> <span class="n">fila</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Fila</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">fila</span><span class="o">.</span><span class="na">atualizar</span><span class="o">(</span><span class="s">"Suporte"</span><span class="o">,</span> <span class="s">"Multiplo"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"{{access-token}}"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">fila</span><span class="p">.</span><span class="nf">atualizar</span><span class="p">(</span><span class="s2">"Suporte"</span><span class="p">,</span> <span class="s2">"Multiplo"</span><span class="p">,</span> <span class="s2">"60"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p><br/>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados atualizados com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Altera as informações da sua fila.</p>
<h4 id='request-3'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                nome
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo nome da fila.
             </td>
        </tr>
        <tr>
            <td>
                estrategia_ring
                <span class="optional">Opcional</span>
            </td>
            <td>
                Distribuidor = Toca um ramal por vez, DistribuidorParalelo = Toca um ramal por vez com encaminhamento paralelo ou Multiplo = Toca todos ramais ao mesmo tempo.
            </td>
        </tr>
        <tr>
            <td>
                timeout_ring
                <span class="optional">Opcional</span>
            </td>
            <td>
                Segundos que vai ficar tocando na fila
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response-3'>Response</h4>
<p><br/>
Retorna o objeto <a href="#respostas-da-api">resposta padrão</a> da API com sucesso ou falha.
<br></p>

<p><br>
<br></p>
<h2 id='adicionar-um-ramal-na-fila'>Adicionar um ramal na fila</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://voice-app.zenvia.com/fila/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
             -d <span class="s1">'{"ramal_id":"111"}'</span> <span class="se">\</span>
             <span class="s1">'https://voice-app.zenvia.com/fila/123'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">fila</span><span class="o">-&gt;</span><span class="na">addRamal</span><span class="p">(</span><span class="s2">"ID_FILA"</span><span class="p">,</span> <span class="s2">"RAMAL_ID"</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">fila</span><span class="p">.</span><span class="nx">addRamal</span><span class="p">(</span><span class="s2">"ID_FILA"</span><span class="p">,</span> <span class="s2">"RAMAL_ID"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Fila</span><span class="o">.</span><span class="n">AdicionarRamalFila</span><span class="p">(</span><span class="s">"ID_FILA"</span><span class="p">,</span><span class="x"> </span><span class="s">"RAMAL_ID"</span><span class="p">);</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">fila</span><span class="o">.</span><span class="n">add_ramal</span><span class="p">(</span><span class="s">"ID_FILA"</span><span class="p">,</span> <span class="s">"RAMAL_ID"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Fila</span> <span class="n">fila</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Fila</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">fila</span><span class="o">.</span><span class="na">adicionaRamalFila</span><span class="o">(</span><span class="s">"ID_FILA"</span><span class="o">,</span> <span class="s">"RAMAL_ID"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">fila</span><span class="p">.</span><span class="nf">adiciona_ramal</span><span class="p">(</span><span class="s2">"ID_FILA"</span><span class="p">,</span> <span class="s2">"RAMAL_ID"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ramal adicionado com sucesso na fila"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4921</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Basta informar o id da fila e por parâmetro o id do ramal.</p>
<h4 id='request-4'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                ramal_id
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID do ramal para ser adicionado
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br></p>
<h2 id='deletar-um-ramal-da-fila'>Deletar um ramal da fila</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>DELETE https://voice-app.zenvia.com/fila/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X DELETE --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-app.zenvia.com/fila/111/111'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">fila</span><span class="o">-&gt;</span><span class="na">excluirRamalFila</span><span class="p">(</span><span class="s2">"ID_FILA"</span><span class="p">,</span> <span class="s2">"RAMAL_ID"</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">fila</span><span class="p">.</span><span class="nx">excluirRamalFila</span><span class="p">(</span><span class="s2">"ID_FILA"</span><span class="p">,</span> <span class="s2">"RAMAL_ID"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Fila</span><span class="o">.</span><span class="n">ExcluirRamalFila</span><span class="p">(</span><span class="s">"ID_FILA"</span><span class="p">,</span><span class="x"> </span><span class="s">"RAMAL_ID"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">fila</span><span class="o">.</span><span class="n">deleta_ramal</span><span class="p">(</span><span class="s">"ID_FILA"</span><span class="p">,</span> <span class="s">"RAMAL_ID"</span><span class="p">)</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">fila</span><span class="p">.</span><span class="nf">excluir_ramal</span><span class="p">(</span><span class="s2">"ID_FILA"</span><span class="p">,</span> <span class="s2">"RAMAL_ID"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ramal removido da fila com sucesso"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Basta informar o id da fila e por parâmetro o id do ramal para ser removido.</p>
<h4 id='request-5'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                ramal_id
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID do ramal para ser removido
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br></p>
<h2 id='busca-um-ramal-da-fila'>Busca um ramal da fila</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/fila/{id-fila}/{id-ramal}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="s1">'https://voice-app.zenvia.com/fila/id-fila/id-ramal'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">fila</span><span class="o">-&gt;</span><span class="na">buscarFilaRamal</span><span class="p">(</span><span class="s2">"ID_FILA"</span><span class="p">,</span> <span class="s2">"RAMAL_ID"</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">fila</span><span class="p">.</span><span class="nx">buscarRamalFila</span><span class="p">(</span><span class="s2">"ID_FILA"</span><span class="p">,</span> <span class="s2">"RAMAL_ID"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Fila</span><span class="o">.</span><span class="n">BuscarRamalFila</span><span class="p">(</span><span class="s">"ID_FILA"</span><span class="p">,</span><span class="x"> </span><span class="s">"RAMAL_ID"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">fila</span><span class="o">.</span><span class="n">get_fila_ramal</span><span class="p">(</span><span class="s">"ID_FILA"</span><span class="p">,</span> <span class="s">"RAMAL_ID"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Fila</span> <span class="n">fila</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Fila</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">fila</span><span class="o">.</span><span class="na">buscar</span><span class="o">(</span><span class="s">"ID_FILA"</span><span class="o">,</span> <span class="s">"RAMAL_ID"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">fila</span><span class="p">.</span><span class="nf">buscar_ramal</span><span class="p">(</span><span class="s2">"ID_FILA"</span><span class="p">,</span> <span class="s2">"RAMAL_ID"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Suporte"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"chamadas"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"completado"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cancelado"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tempo_falado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tempo_espera"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ramais"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Atendimento"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ramal@empresa.com.br"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"prioridade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"qtd_ligacao_atendida"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ultima_chamada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"em_ligacao"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"indisponivel"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"em_pausa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"razao_pausa"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tempo_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04:38:36"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Basta informar o id da fila e o id do ramal.</p>
<h4 id='request-6'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID da fila.
             </td>
        </tr>
        <tr>
            <td>
                ramal_id
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID do ramal.
             </td>
        </tr>        
    </tbody>
</table>
<h2 id='relatorio-chamadas-de-uma-fila'>Relatório chamadas de uma fila</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/fila/{id}/relatorio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
            <span class="s1">'https://voice-app.zenvia.com/fila/{id-fial}/relatorio?data_inicio=2018-03-14&amp;data_fim=2018-03-15'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">fila</span><span class="o">-&gt;</span><span class="na">relatorioChamadas</span><span class="p">(</span><span class="nv">$id_fila</span><span class="p">,</span><span class="nv">$dataInicial</span><span class="p">,</span> <span class="nv">$dataFinal</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="nx">Em</span> <span class="nx">constru</span><span class="err">çã</span><span class="nx">o</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">Em</span><span class="x"> </span><span class="n">construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="no">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
    </span><span class="s2">"posicao"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"limite"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1324567</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"554831810323"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_origem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4712344321"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-15T08:32:34.000-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Não atendida"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"atendida"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ativa"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">237</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:03:57"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tempo_espera"</span><span class="p">:</span><span class="w"> </span><span class="mi">225</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.evoline.com.br/rec/?id=123sd213"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fila"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">430</span><span class="p">,</span><span class="w">
          </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-15T08:31:47.000-03:00"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">43211234</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"554831810323"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_origem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4840421210"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-15T09:02:47.000-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Atendida"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"atendida"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ativa"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">296</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:04:56"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">286</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:04:46"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tempo_espera"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.evoline.com.br/rec/?id=691325"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fila"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">430</span><span class="p">,</span><span class="w">
          </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-15T09:02:47.000-03:00"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12342454</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4099"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"suporte.voz@zenvia.com"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Você pode consultar os áudios enviados posteriormente. Basta informar o período desejado para que a API retorne os dados.</p>
<h4 id='request-7'>Request</h4>
<table class="table-parameters">
    <tbody>
        <td>
                id
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Id da fila que deseja consultar as ligações
            </td>
        </tr>
        <tr>
            <td>
                data_inicio
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data inicial para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                data_fim
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data final para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                origem
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Número de origem da ligação recebida
            </td>
        </tr>
            <td>
                destino
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Número de destino da ligação recebida
            </td>
        </tr>
        <tr>
            <td>
                posicao
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Posição para seleção dos dados do relatório - começa na posição 0. Também chamado de offset.            
            </td>
        </tr>
        <tr>
            <td>
                limite
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Quantidade de chamadas a retornar na consulta. O limite padrão é 100 e o máximo é 200.
            </td>
        </tr> 

    </tbody>
</table>
<h4 id='response-4'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                relatorio
                <span class="attribute">array</span>
            </td>
            <td>
                Retorna um array com objetos chamadas recebidas 
             </td>
        </tr>
    </tbody>
</table>

<p><b>Exemplo:</b> Se você tiver um relatório com 350 chamadas, na primeira página será retornado 200. Para pegar os dados da segunda página o valor da posição deve ser 201.</p>

<p><br>
<br></p>
<h1 id='chamadas'>Chamadas</h1>
<blockquote>
<p>Chamada Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-app.zenvia.com/chamada
</code></pre>
<p>A funcionalidade <strong>Chamada</strong> permite que você crie chamadas perna A e perna B, podendo gravar as ligações, agendar e binar o seu próprio número.
Permite gerar relatório de chamadas, derrubar chamadas em andamento, transferir chamadas e avaliação de chamadas.</p>
<h3 id='objeto-chamada'>Objeto Chamada</h3>
<blockquote>
<p><br></p>

<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-02T10:49:30-03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ativa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://urlgravacao.com.br/rec/audio.mp3"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cliente_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"conta_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ramal_id_origem"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">"minha-tags"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status_geral"</span><span class="p">:</span><span class="w"> </span><span class="s2">"finalizada"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"origem"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ramal"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:10"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:10"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:10"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"indefinido"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"destino"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-02T10:49:29-03:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4001"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ramal"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:29"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:01:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:28"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"indefinido"</span><span class="w">
    </span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Definição do objeto Chamada</p>
<h4 id='atributos'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro da chamada.
             </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data de criação do registro da chamada. Data e Hora no formato UTC
            </td>
        </tr>
        <tr>
            <td>
                ativa
                <span class="attribute">boolean</span>
            </td>
            <td>
                Identifica se a chamada está ativa ou não
             </td>
        </tr>
        <tr>
            <td>
                url_gravacao
                <span class="attribute">string</span>
            </td>
            <td>
                URL com áudio da gravação da chamada
             </td>
        </tr>
        <tr>
            <td>
                cliente_id
                <span class="attribute">integer</span>
            </td>
            <td>
               Identificação do cliente referente a chamada
            </td>
        </tr>
        <tr>
            <td>
                conta_id
                <span class="attribute">integer</span>
            </td>
            <td>
               Identificação da Conta referente a chamada
            </td>
        </tr>
        <tr>
            <td>
                ramal_id_origem
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do ramal que originou a chamada referente a ligação, se houver.
            </td>
        </tr>
        <tr>
            <td>
                tags
                <span class="attribute">string</span>
            </td>
            <td>
                Informação adicional que pode ser retornada no objeto, como um ID Externo por exemplo. Você consegue enviar essa informação no
                Post da Chamada e recuperar posteriormente nessa consulta.
            </td>
        </tr>
        <tr>
            <td>
                detecta_caixa
                <span class="attribute">boolean</span>
            </td>
            <td>
                Caso identificado caixa, a ligação será derrubada antes que a ligação seja atendida. Esse serviço tem um custo adicional.
            </td>
        </tr>
        <tr>
            <td>
                status_geral
                <span class="attribute">string</span>
            </td>
            <td>
                Status geral da Chamada.
                <ul>
                    <li>criada: chamada foi criada</li>
                    <li>curso: está em andamento</li>
                    <li>finalizada: chamada foi finalizada</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td>
                origem / destino
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna os objetos <a href="#objeto-origem-destino">origem/destino</a>
            </td>
        </tr>
    </tbody>
</table>
<h3 id='objeto-origem-destino'>Objeto Origem Destino</h3>
<blockquote>
<p><br></p>

<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-02T10:49:29-03:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ramal"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:29"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:01:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:28"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"indefinido"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Definição do objeto <strong>Origem/Destino</strong>: Estes objetos contêm basicamente a mesma estrutura de informações com relação às chamadas. A <strong>Origem</strong>, contém as informações de quem originou
a ligação e o <strong>Destino</strong> de quem recebeu a ligação. É nesses objetos que você irá encontrar as informações de duração das chamadas, status e o preço que foi cobrado por cada perna.</p>
<h4 id='atributos-2'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_inicio
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora de início da chamada na Origem/Destino.
             </td>
        </tr>
        <tr>
            <td>
                numero
                <span class="attribute">string</span>
            </td>
            <td>
                Número que irá receber a ligação e será o número de Origem/Destino.
             </td>
        </tr>
        <tr>
            <td>
                tipo
                <span class="attribute">string</span>
            </td>
            <td>
                Tipo da ligação:
                <ul>
                    <li>ramal: ligação para um ramal</li>
                    <li>movel: ligação para um celular</li>
                    <li>fixo: ligação para um número fixo</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td>
                status
                <span class="attribute">string</span>
            </td>
            <td>
                Status da ligação na Origem/Destino:
                <ul>
                    <li>atendida</li>
                    <li>sem resposta</li>
                    <li>ocupado</li>
                    <li>congestionado</li>
                    <li>falha</li>
                    <li>cancelada</li>
                    <li>não existe</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td>
                duracao_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos (inteiro) do total da chamada desde o início do processamento
            </td>
        </tr>
        <tr>
            <td>
                duracao
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração total da chamada desde o início do processamento
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos para fins de cobrança
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração considerada para fins de cobrança
            </td>
        </tr>
                <tr>
            <td>
                duracao_falada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos da chamada desde que o destino atendeu
            </td>
        </tr>
        <tr>
            <td>
                duracao_falada
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração da chamada desde que o destino atendeu
            </td>
        </tr>
        <tr>
            <td>
                preco
                <span class="attribute">float</span>
            </td>
            <td>
                Valor cobrado pela chamada
            </td>
        </tr>
        <tr>
            <td>
                motivo_desconexao
                <span class="attribute">string</span>
            </td>
            <td>
                Um dos motivos de desconexão:
                <ul>
                    <li>1. telefone não existe</li>
                    <li>2. sem rota para a rede de destino</li>
                    <li>3. sem rota para o destino</li>
                    <li>4. prefixo incorreto</li>
                    <li>6. canal inaceitável</li>
                    <li>7. chamada sendo entregue em canal ja estabelecido</li>
                    <li>8. call peemption</li>
                    <li>14. telefone portado para outra operadora</li>
                    <li>16. normal</li>
                    <li>17. ocupado</li>
                    <li>18. sem resposta</li>
                    <li>19. sem resposta - mas chamou</li>
                    <li>20. assinante ausente</li>
                    <li>21. chamada rejeitada</li>
                    <li>22. este número mudou</li>
                    <li>23. redirecionado para novo destino</li>
                    <li>26. atendido em outro lugar</li>
                    <li>27. destino não está funcionando</li>
                    <li>28. formato inválido de número</li>
                    <li>29. rejeitado</li>
                    <li>30. resposta para status enquiry</li>
                    <li>31. normal, não especificado</li>
                    <li>34. sem canal disponível</li>
                    <li>41. falha temporária</li>
                    <li>42. equipamento congestionado</li>
                    <li>44. canal requisitado não está disponível</li>
                    <li>50. não cadastrado</li>
                    <li>52. chamada sainte barrada</li>
                    <li>54. chamada entrante barrada</li>
                    <li>57. capacidade não autorizada</li>
                    <li>58. erro de mídia ou parâmetros incompatíveis</li>
                    <li>65. capacidade do portador não implementada</li>
                    <li>66. tipo de canal não implementado</li>
                    <li>69. não implementado</li>
                    <li>81. valor de referência inválido</li>
                    <li>88. destino incompatível</li>
                    <li>95. mensagem inválida não especificada</li>
                    <li>96. informação obrigatória não presente</li>
                    <li>97. mensagem não implementada</li>
                    <li>98. mensagem não compatível com o estado da chamada não existente ou não implementada</li>
                    <li>97. mensagem não implementada</li>
                    <li>99. elemento não existente ou não implementada</li>
                    <li>97. mensagem não implementada</li>
                    <li>100. informação inválida no conteúdo dos elementos</li>
                    <li>101. mensagem não compatível com o estado da chamada</li>
                    <li>102. timeout</li>
                    <li>111. erro de protocolo</li>
                    <li>127. erro de conectividade</li>
                </ul>
            </td>
        </tr>
    </tbody>
</table>
<h2 id='criar-uma-chamada'>Criar uma chamada</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://voice-app.zenvia.com/chamada
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Content-Type: application/json'</span> 
             --header <span class="s1">'Accept: application/json'</span> 
             --header <span class="s1">'Access-Token: seu-token'</span> 
             -d <span class="s1">'{
                    "numero_origem":"4811111111",
                    "numero_destino":"4811111112",
                    "data_criacao":"2021-04-08T17:21:20Z",
                    "gravar_audio":"true",
                    "bina_origem":"4832830151",
                    "bina_destino":"4832830152",
                    "tags":"clienteUm",
                    "detecta_caixa_origem":"true"
                 }'</span> 
             <span class="s1">'https://voice-app.zenvia.com/chamada'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">chamada</span><span class="o">-&gt;</span><span class="na">ligar</span><span class="p">(</span><span class="s1">'4811111111'</span><span class="p">,</span> <span class="s1">'4811111112'</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">chamada</span><span class="p">.</span><span class="nx">ligar</span><span class="p">(</span><span class="s2">"4811111111"</span><span class="p">,</span> <span class="s2">"4811111112"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Chamada</span><span class="o">.</span><span class="n">Criar</span><span class="p">(</span><span class="s">"4811111111"</span><span class="p">,</span><span class="x"> </span><span class="s">"4811111112"</span><span class="p">,</span><span class="x"> </span><span class="no">nil</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">chamada</span><span class="o">.</span><span class="n">enviar</span><span class="p">(</span><span class="s">"4811111111"</span><span class="p">,</span> <span class="s">"4811111112"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Chamada</span> <span class="n">chamada</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Chamada</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">chamada</span><span class="o">.</span><span class="na">ligar</span><span class="o">(</span><span class="s">"4811111111"</span><span class="o">,</span> <span class="s">"4811111112"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">chamada</span><span class="p">.</span><span class="nf">ligar</span><span class="p">(</span><span class="s2">"4811111111"</span><span class="p">,</span> <span class="s2">"4811111112"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"chamada criada com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123123</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Basta informar o número de origem e destino.</p>
<h4 id='request'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                numero_origem
                <span class="required">Obrigatório</span>
                <span class="attribute">string</span>
            </td>
            <td>
                Número origem (perna A), recebe a chamada primeiro do número destino. Exemplo: 4832830151
             </td>
        </tr>
        <tr>
            <td>
                numero_destino
                <span class="required">Obrigatório</span>
                <span class="attribute">string</span>
            </td>
            <td>
               Número destino (perna B), recebe a chamada após o número origem atender. Exemplo: 4832830151
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="optional">Opcional</span>
                <span class="attribute">string</span>
            </td>
            <td>
                Informe uma data e hora para agendar a chamada. vazio = liga imediatamente. Data e Hora no formato UTC
            </td>
        </tr>
        <tr>
            <td>
                gravar_audio
                <span class="optional">Opcional</span>
                <span class="attribute">boolean</span>
            </td>
            <td>
                Flag que indica se o áudio da ligação deve ser gravado
            </td>
        </tr>
        <tr>
            <td>
                bina_origem
                <span class="optional">Opcional</span>
                <span class="attribute">string</span>
            </td>
            <td>
                Número de BINA do número origem (perna A) apresentado na chamada para o número destino (perna B). Formato DDD + Número, exemplo: 4832830151
            </td>
        </tr>
        <tr>
            <td>
                bina_destino
                <span class="optional">Opcional</span>
                <span class="attribute">string</span>
            </td>
            <td>
                Número de BINA do número destino (perna B) apresentado na chamada para o número origem (perna A). Formato DDD + Número, exemplo: 4832830151
            </td>
        </tr>
        <tr>
            <td>
                tags
                <span class="optional">Opcional</span>
                <span class="attribute">string</span>
            </td>
            <td>
                Tags ou comentários sobre esta chamada
            </td>
        </tr>
        <tr>
            <td>
                detecta_caixa_origem
                <span class="optional">Opcional</span>
                <span class="attribute">boolean</span>
            </td>
            <td>
                Desconecta automaticamente em até 3s caso caia em caixa postal (vivo, claro, tim, oi)
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Retorna o ID da chamada
             </td>
        </tr>
    </tbody>
</table>
<h2 id='desligando-uma-chamada'>Desligando uma chamada</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://voice-app.zenvia.com/chamada/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X DELETE --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
               --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
               --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
               <span class="s1">'https://voice-app.zenvia.com/chamada/123'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">chamada</span><span class="o">-&gt;</span><span class="na">encerrar</span><span class="p">(</span><span class="mi">123</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">chamada</span><span class="p">.</span><span class="nx">encerrar</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Chamada</span><span class="o">.</span><span class="n">Encerrar</span><span class="p">(</span><span class="m">123</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">chamada</span><span class="o">.</span><span class="n">deletar</span><span class="p">(</span><span class="s">"123"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Chamada</span> <span class="n">chamada</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Chamada</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">chamada</span><span class="o">.</span><span class="na">encerrar</span><span class="o">(</span><span class="mi">123</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">chamada</span><span class="p">.</span><span class="nf">encerrar</span><span class="p">(</span><span class="s2">"4811111111"</span><span class="p">,</span> <span class="s2">"http://foo.bar/audio.mp3"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"encerrando chamada"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Basta informar o id da chamada ativa</p>
<h4 id='request-2'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID da chamada ativa
             </td>
        </tr>
    </tbody>
</table>
<h2 id='buscar-uma-chamada'>Buscar uma chamada</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/chamada/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="s1">'https://voice-app.zenvia.com/chamada/123'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">chamada</span><span class="o">-&gt;</span><span class="na">buscaChamada</span><span class="p">(</span><span class="mi">123</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">chamada</span><span class="p">.</span><span class="nx">buscar</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Chamada</span><span class="o">.</span><span class="n">Buscar</span><span class="p">(</span><span class="m">123</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">chamada</span><span class="o">.</span><span class="n">get_by_id</span><span class="p">(</span><span class="s">"123"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Chamada</span> <span class="n">chamada</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Chamada</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">chamada</span><span class="o">.</span><span class="na">buscar</span><span class="o">(</span><span class="mi">123</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">chamada</span><span class="p">.</span><span class="nf">buscar</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
     </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-02T10:49:30-03:00"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"ativa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://urlgravacao.com.br/rec/audio.mp3"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"cliente_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="s2">"conta_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="s2">"ramal_id_origem"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">"minha-tags"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"status_geral"</span><span class="p">:</span><span class="w"> </span><span class="s2">"finalizada"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"origem"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
       </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ramal"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
       </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:10"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
       </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:10"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
       </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:10"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w">
       </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"indefinido"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="s2">"destino"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-02T10:49:29-03:00"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4001"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ramal"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w">
       </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:29"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
       </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:01:00"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
       </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:28"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w">
       </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"indefinido"</span><span class="w">
     </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Após o envio de chamadas, você poderá realizar a busca do registro pelo seu ID.</p>
<h5 id='request-3'>Request</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                ID
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID da chamada para recuperar os dados
             </td>
        </tr>
    </tbody>
</table>
<h5 id='response-2'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto <a href="#objeto-chamada">chamada</a>
             </td>
        </tr>
    </tbody>
</table>
<h2 id='buscar-gravacao-da-chamada'>Buscar gravação da chamada</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/chamada/{id}/gravacao
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="s1">'https://voice-app.zenvia.com/chamada/1/gravacao'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">chamada</span><span class="o">-&gt;</span><span class="na">downloadGravacao</span><span class="p">(</span><span class="mi">123</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">chamada</span><span class="p">.</span><span class="nx">downloadGravacao</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Chamada</span><span class="o">.</span><span class="n">DownloadGravacao</span><span class="p">(</span><span class="m">123</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">chamada</span><span class="o">.</span><span class="n">get_gravacao_chamada</span><span class="p">(</span><span class="s">"123"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Chamada</span> <span class="n">chamada</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Chamada</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">chamada</span><span class="o">.</span><span class="na">downloadGravacao</span><span class="o">(</span><span class="mi">123</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">chamada</span><span class="p">.</span><span class="nf">download_gravacao</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"access-control-allow-origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"connection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Keep-Alive"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"content-length"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"content-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"audio/mpeg"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 02 Aug 2018 19:06:54 GMT"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"keep-alive"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timeout=5, max=100"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Você poderá realizar o download do áudio da chamada. Esta funcionalidade estará disponível se você setou a opção &quot;<strong>Gravar Audio</strong>&quot; igual a True no momento da criação da chamada.</p>
<h5 id='request-4'>Request</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                ID
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID da chamada para recuperar os dados da gravação
             </td>
        </tr>
    </tbody>
</table>
<h5 id='response-3'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                response
                <span class="attribute">header</span>
            </td>
            <td>
                Irá retornar um HTTP Response com Cabeçalho de Resposta: Content-Type: "audio/mpeg"
             </td>
        </tr>
    </tbody>
</table>
<h2 id='relatorio-chamadas'>Relatório Chamadas</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/chamada/relatorio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
            <span class="s1">'https://voice-app.zenvia.com/chamada/relatorio?data_inicio=2018-03-14&amp;data_fim=2018-03-15'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">chamada</span><span class="o">-&gt;</span><span class="na">relatorio</span><span class="p">(</span><span class="nv">$dataInicial</span><span class="p">,</span> <span class="nv">$dataFinal</span><span class="p">,</span> <span class="nv">$filtros</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">chamada</span><span class="p">.</span><span class="nx">relatorio</span><span class="p">(</span><span class="nx">dataInicial</span><span class="p">,</span> <span class="nx">dataFinal</span><span class="p">,</span> <span class="nx">filtros</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Chamada</span><span class="o">.</span><span class="n">Relatorio</span><span class="o">.</span><span class="n">Gerar</span><span class="p">(</span><span class="n">dataInicial</span><span class="p">,</span><span class="x"> </span><span class="n">dataFinal</span><span class="p">,</span><span class="x"> </span><span class="n">filtros</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">chamada</span><span class="o">.</span><span class="n">get_relatorio</span><span class="p">(</span><span class="s">"2017-12-08T11:00:32-02:00"</span><span class="p">,</span> <span class="s">"2017-12-08T11:00:32-02:00"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Chamada</span> <span class="n">chamada</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Chamada</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">chamada</span><span class="o">.</span><span class="na">relatorio</span><span class="o">(</span><span class="n">dataInicial</span><span class="o">,</span> <span class="n">dataFinal</span><span class="o">,</span> <span class="n">filtros</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">chamada</span><span class="p">.</span><span class="nf">relatorio</span><span class="p">(</span><span class="n">data_inicial</span><span class="p">,</span> <span class="n">data_final</span><span class="p">,</span> <span class="n">filtros</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-02T10:32:22-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ativa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://urlgravacao.com.br/rec/audio.mp3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cliente_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"conta_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ramal_id_origem"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status_geral"</span><span class="p">:</span><span class="w"> </span><span class="s2">"finalizada"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"origem"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ramal"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"indefinido"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"destino"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-02T10:32:22-03:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4001"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ramal"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
          </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:08"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
          </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:01:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
          </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:08"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"indefinido"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Você pode consultar as Chamadas enviadas. Basta informar o período desejado para que a API retorne os dados.</p>
<h4 id='request-5'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_inicio
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data inicial para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                data_fim
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data final para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                origem
                <span class="optional">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Número de telefone de origem para filtrar. Ex.: 4832830151
            </td>
        </tr>
        <tr>
            <td>
                destino
                <span class="optional">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Número de telefone de destino para filtrar. Ex.: 4832830151
            </td>
        </tr>
        <tr>
            <td>
                posicao
                <span class="optional">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Posição para seleção dos dados do relatório - começa na posição 0. Também chamado de offset.
            </td>
        </tr>
        <tr>
            <td>
                limite
                <span class="optional">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Quantidade de chamadas a retornar na consulta. O limite padrão é 100 e o máximo é 200.
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response-4'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                relatorio
                <span class="attribute">array</span>
            </td>
            <td>
                Retorna um array com objetos <a href="#objeto-chamada">chamada</a>
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br></p>
<h2 id='escuta-de-chamadas'>Escuta de Chamadas</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/chamada/{id}/escuta
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
             -d <span class="s1">'{"numero":"4811111111", "modo": 1}'</span> <span class="se">\</span>
             <span class="s1">'https://voice-app.zenvia.com/chamada/123/escuta'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">chamada</span><span class="o">-&gt;</span><span class="na">escutar</span><span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="s1">'4811111111'</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">chamada</span><span class="p">.</span><span class="nx">escutar</span><span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="s2">"4811111111"</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Chamada</span><span class="o">.</span><span class="n">Escutar</span><span class="p">(</span><span class="m">123</span><span class="p">,</span><span class="x"> </span><span class="s">"4811111111"</span><span class="p">,</span><span class="x"> </span><span class="m">1</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">chamada</span><span class="o">.</span><span class="n">escuta_chamada</span><span class="p">(</span><span class="s">"123"</span><span class="p">,</span> <span class="s">'4811111111'</span><span class="p">,</span><span class="s">"1"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Chamada</span> <span class="n">chamada</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Chamada</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">chamada</span><span class="o">.</span><span class="na">escutar</span><span class="o">(</span><span class="mi">123</span><span class="o">,</span> <span class="s">"4811111111"</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">chamada</span><span class="p">.</span><span class="nf">escutar</span><span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="s2">"4811111111"</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"escuta criada com sucesso"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Você pode realizar uma escuta para uma chamada que está <strong>ativa</strong> (Beta).</p>
<h4 id='request-6'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID da chamada a ser escutada
            </td>
        </tr>
        <tr>
            <td>
                numero
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Número do seu telefone
            </td>
        </tr>
        <tr>
            <td>
                modo
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Modo de Escuta
                <ul>
                    <li>1 = escuta</li>
                    <li>2 = sussurro</li>
                    <li>3 = conferência</li>
                </ul>
            </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h2 id='transferencia-de-chamadas'>Transferência de Chamadas</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://voice-app.zenvia.com/chamada/{id}/transfer
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
            -d <span class="s1">'{"numero":"4811111111", "perna": "destino"}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-app.zenvia.com/chamada/123/transfer'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">chamada</span><span class="o">-&gt;</span><span class="na">transferir</span><span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="s1">'4811111111'</span><span class="p">,</span> <span class="s1">'destino'</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">chamada</span><span class="p">.</span><span class="nx">transferir</span><span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="s2">"4811111111"</span><span class="p">,</span> <span class="s2">"destino"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Chamada</span><span class="o">.</span><span class="n">Transferir</span><span class="p">(</span><span class="m">123</span><span class="p">,</span><span class="x"> </span><span class="s">"4811111111"</span><span class="p">,</span><span class="x"> </span><span class="s">"destino"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">chamada</span><span class="o">.</span><span class="n">transferir</span><span class="p">(</span><span class="s">"123"</span><span class="p">,</span> <span class="s">"4811111111"</span><span class="p">,</span> <span class="s">"destino"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Chamada</span> <span class="n">chamada</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Chamada</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">chamada</span><span class="o">.</span><span class="na">transferir</span><span class="o">(</span><span class="mi">123</span><span class="o">,</span> <span class="s">"4811111111"</span><span class="o">,</span> <span class="s">"destino"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">chamada</span><span class="p">.</span><span class="nf">transferir</span><span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="s2">"4811111111"</span><span class="p">,</span> <span class="s2">"destino"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a chamada está sendo transferida"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Transfere a origem ou destino para outro telefone e desconecta a outra perna (Beta).</p>
<h4 id='request-7'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID da chamada a ser transferida
            </td>
        </tr>
        <tr>
            <td>
                numero
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Número ao qual a chamada será transferida
            </td>
        </tr>
        <tr>
            <td>
                perna
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Qual perna da chamada será transferida?
                <ul>
                    <li>origem</li>
                    <li>destino</li>
                </ul>
            </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h2 id='avaliacao-de-chamadas'>Avaliação de Chamadas</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/chamada/{id}/avaliar
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
            -d <span class="s1">'{"numero":"5", "comentario": "muito boa"}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-app.zenvia.com/chamada/123/avaliar'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">chamada</span><span class="o">-&gt;</span><span class="na">avaliar</span><span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="s1">'5'</span><span class="p">,</span> <span class="s1">'muito boa'</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">chamada</span><span class="p">.</span><span class="nx">avaliar</span><span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="s2">"5"</span><span class="p">,</span> <span class="s2">"muito boa"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Chamada</span><span class="o">.</span><span class="n">Avaliar</span><span class="p">(</span><span class="m">123</span><span class="p">,</span><span class="x"> </span><span class="s">"5"</span><span class="p">,</span><span class="x"> </span><span class="s">"muito boa"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">chamada</span><span class="o">.</span><span class="n">avaliar</span><span class="p">(</span><span class="s">"123"</span><span class="p">,</span> <span class="s">"5"</span><span class="p">,</span> <span class="s">"muito boa"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Chamada</span> <span class="n">chamada</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Chamada</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">chamada</span><span class="o">.</span><span class="na">avaliar</span><span class="o">(</span><span class="mi">123</span><span class="o">,</span> <span class="s">"5"</span><span class="o">,</span> <span class="s">"muito boa"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">chamada</span><span class="p">.</span><span class="nf">avaliar</span><span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="s2">"5"</span><span class="p">,</span> <span class="s2">"muito boa"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"chamada avaliada com sucesso"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Avalie a Chamada para ter estatísticas de qualidade de seus clientes.</p>
<h4 id='request-8'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID da chamada a ser avaliada
            </td>
        </tr>
        <tr>
            <td>
                nota
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Nota de 1 a 5
            </td>
        </tr>
        <tr>
            <td>
                comentario
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Texto de até 1000 caracteres com a avaliação.
            </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h1 id='composto'>Composto</h1>
<blockquote>
<p>Composto Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-app.zenvia.com/composto
</code></pre>
<p>A funcionalidade de <strong>Envio de Composto</strong>, permite que você envie mensagens de voz por telefone misturando gravações de áudio MP3 com TTS e também realize algumas outras funções de central telefônica como coletar DTMF e transferir.</p>

<p>Exemplo: Envie uma mensagem para confirmar uma consulta ou transferir a pessoa para o reagendamento: &quot;Você possui uma consulta agendada para amanhã às 18h. Pressione 1 para confirmar ou 2 para ser remarcado&quot;. Quando o usuário pressionar a opção 2, ele já é transferido para o telefone de remarcação.
JSON DADOS do exemplo:</p>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"acao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"audio"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"acao_dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"url_audio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/composto.mp3"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"acao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tts"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"acao_dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Você possui uma consulta agendada para amanhã 18h. Aperte 1 para confirmar ou 2 para ser remarcar"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"tipo_voz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"br-Ricardo"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"acao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transferir"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"opcao"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"acao_dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"numero_telefone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1132830151"</span><span class="p">,</span><span class="w">
                         </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1132830152"</span><span class="w"> 
                    </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w"> 
</span><span class="p">]</span><span class="w">

</span></code></pre>
<p>O composto aceita um JSON com as seguintes opções:
<ul>
    <li>audio</li>
    <li>tts</li>
    <li>transferir</li>
    <li>ura</li>
</ul></p>

<p>Você pode ver como funciona o envio de dados vendo a utlização em <a href="#criar-um-composto">curl</a></p>

<p>As regras para o arquivo de áudio são as mesmas:</p>
<h4 id='formatos-aceitos'>Formatos aceitos:</h4>
<ul>
<li>.mp3</li>
<li>.wav</li>
</ul>
<h4 id='tamanho-maximo'>Tamanho máximo:</h4>
<ul>
<li>5MB</li>
</ul>
<h2 id='objeto-composto'>Objeto Composto</h2>
<blockquote>
<p><br></p>

<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:60"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:35"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clienteX"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/gravacao.mp3"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+5548988888888"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"chamada_verificada"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo_vcall"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Texto do motivo"</span><span class="w">
    </span><span class="p">}</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Definição do objeto Composto</p>
<h4 id='atributos'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro de Áudio.
             </td>
        </tr>
        <tr>
            <td>
                numero_destino
                <span class="attribute">string</span>
            </td>
            <td>
                Número do destinatário que foi enviado o áudio.
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi criado o registro
            </td>
        </tr>
        <tr>
            <td>
                data_inicio
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi iniciado o processamento do áudio
            </td>
        </tr>
        <tr>
            <td>
                tipo
                <span class="attribute">string</span>
            </td>
            <td>
                Tipo de telefone: fixo, móvel ou ramal
            </td>
        </tr>
        <tr>
            <td>
                status
                <span class="attribute">string</span>
            </td>
            <td>
                Status do registro
            </td>
        </tr>
        <tr>
            <td>
                duracao_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos (inteiro) do total da chamada desde o início do processamento
            </td>
        </tr>
        <tr>
            <td>
                duracao
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração total da chamada desde o início do processamento
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos para fins de cobrança
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração considerada para fins de cobrança
            </td>
        </tr>
                <tr>
            <td>
                duracao_falada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos da chamada desde que o destino atendeu
            </td>
        </tr>
        <tr>
            <td>
                duracao_falada
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração da chamada desde que o destino atendeu
            </td>
        </tr>
        <tr>
            <td>
                preco
                <span class="attribute">float</span>
            </td>
            <td>
                Valor cobrado pela chamada
            </td>
        </tr>
        <tr>
            <td>
                resposta_usuario
                <span class="attribute">boolean</span>
            </td>
            <td>
                Aguarda a resposta do usuário: sim ou não
            </td>
        </tr>
        <tr>
            <td>
                resposta
                <span class="attribute">string</span>
            </td>
            <td>
                Quando o usuário executa alguma ação no teclado do dispositivo, o valor será exibido neste campo (DTMF).
            </td>
        </tr>
        <tr>
            <td>
                url_gravacao
                <span class="attribute">string</span>
            </td>
            <td>
                Quando enviado a opção Gravar Áudio = true, este campo disponibilizará uma URL contendo o áudio da gravação da ligação.
            </td>
        </tr>
        <tr>
            <td>
                tags
                <span class="attribute">string</span>
            </td>
            <td>
                Parâmetro de integração - informado no post e retornado no get. Ex: "clienteX"
            </td>
        </tr>
        <tr>
            <td>
                motivo_desconexao
                <span class="attribute">string</span>
            </td>
            <td>
                Um dos motivos de desconexão:
                <ul>
                    <li>1. telefone não existe</li>
                    <li>2. sem rota para a rede de destino</li>
                    <li>3. sem rota para o destino</li>
                    <li>4. prefixo incorreto</li>
                    <li>6. canal inaceitável</li>
                    <li>7. chamada sendo entregue em canal já estabelecido</li>
                    <li>8. call peemption</li>
                    <li>14. telefone portado para outra operadora</li>
                    <li>16. normal</li>
                    <li>17. ocupado</li>
                    <li>18. sem resposta</li>
                    <li>19. sem resposta - mas chamou</li>
                    <li>20. assinante ausente</li>
                    <li>21. chamada rejeitada</li>
                    <li>22. este número mudou</li>
                    <li>23. redirecionado para novo destino</li>
                    <li>26. atendido em outro lugar</li>
                    <li>27. destino não está funcionando</li>
                    <li>28. formato inválido de número</li>
                    <li>29. rejeitado</li>
                    <li>30. resposta para status enquiry</li>
                    <li>31. normal, não especificado</li>
                    <li>34. sem canal disponível</li>
                    <li>41. falha temporária</li>
                    <li>42. equipamento congestionado</li>
                    <li>44. canal requisitado não está disponível</li>
                    <li>50. não cadastrado</li>
                    <li>52. chamada sainte barrada</li>
                    <li>54. chamada entrante barrada</li>
                    <li>57. capacidade não autorizada</li>
                    <li>58. erro de mídia ou parâmetros incompatíveis</li>
                    <li>65. capacidade do portador não implementada</li>
                    <li>66. tipo de canal não implementado</li>
                    <li>69. não implementado</li>
                    <li>81. valor de referência inválido</li>
                    <li>88. destino incompatível</li>
                    <li>95. mensagem inválida não especificada</li>
                    <li>96. informação obrigatória não presente</li>
                    <li>97. mensagem não implementada</li>
                    <li>98. mensagem não compatível com o estado da chamada ou não existente ou não implementada</li>
                    <li>97. mensagem não implementada</li>
                    <li>99. elemento não existente ou não implementado</li>
                    <li>97. mensagem não implementada</li>
                    <li>100. informação inválida no conteúdo dos elementos</li>
                    <li>101. mensagem não compatível com o estado da chamada</li>
                    <li>102. timeout</li>
                    <li>111. erro de protocolo</li>
                    <li>127. erro de conectividade</li>
                </ul>
            </td>
        </tr>
        <tr>
              <td>
                  bina
                  <span class="attribute">string</span>
              </td>
              <td>
                    Número de telefone que aparece no identificador de quem recebe a chamada
              </td>
          </tr>
        <tr>
         <tr>
              <td>
                  chamada_verificada
                  <span class="attribute">boolean</span>
              </td>
              <td>
                    Se o composto foi enviado com chamada verificada
              </td>
          </tr>
        <tr>
            <td>
                motivo_vcall
                <span class="attribute">objeto</span>
            </td>
            <td>
                Objeto do tipo <a href="#objeto-motivo-vcall">Motivos VCall</a>
            </td>
        </tr>
    </tbody>
</table>
<h2 id='criar-um-composto'>Criar um Composto</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://voice-app.zenvia.com/composto
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
             -d <span class="s1">'{
                "numero_destino":"+551132830151",
                "chamada_verificada": true, 
                "motivo_vcall": 57,
                "bina": "+5548988881111",
                "dados":[
                    {  
                        "acao":"audio",
                        "acao_dados":{  
                            "url_composto":"https://instaud.io/_/3K3k.mp3"
                        }
                    },
                    {  
                        "acao":"tts",
                        "acao_dados":{  
                            "mensagem":"lendo este texto",
                            "resposta_usuario":"true",
                            "tipo_voz":"br-Ricardo"
                        }
                    },
                    {  
                        "acao":"transferir",
                        "opcao":1,
                        "acao_dados":{  
                            "numero_telefone":"+554832830151",
                            "bina":"+554832830152"
                        }
                    },
                        {  
                        "acao":"ura",
                        "opcao":2,
                        "acao_dados":{  
                            "ura_id":"1234"
                        }
                    }'</span> <span class="se">\</span>
             <span class="s1">'https://voice-app.zenvia.com/composto'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$dados</span>  <span class="o">=</span> <span class="s1">'[{"acao":"audio","acao_dados":{"url_audio":"http://fooooo.bar/composto.mp3"}},{"acao":"tts","acao_dados":{"mensagem":"lendo este texto","resposta_usuario":"true","tipo_voz":"br-Ricardo"}},{"acao":"transferir","opcao":1,"acao_dados":{"numero_telefone":"4832830151","bina":"4832830152"}}]'</span><span class="p">;</span>
<span class="nv">$bina</span>   <span class="o">=</span> <span class="s1">'11987654321'</span><span class="p">;</span>
<span class="nv">$tags</span>   <span class="o">=</span> <span class="s1">'clienteY'</span><span class="p">;</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">composto</span><span class="o">-&gt;</span><span class="na">enviar</span><span class="p">(</span><span class="s1">'NUMERO-DESTINO'</span><span class="p">,</span> <span class="nv">$dados</span><span class="p">,</span> <span class="nv">$bina</span><span class="p">,</span> <span class="nv">$tags</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">composto</span><span class="p">.</span><span class="nx">enviar</span><span class="p">(</span><span class="s2">"NUMERO-DESTINO"</span><span class="p">,</span> <span class="s1">'[{"acao":"audio","acao_dados":{"url_audio":"http://fooooo.bar/composto.mp3"}},{"acao":"tts","acao_dados":{"mensagem":"lendo este texto","resposta_usuario":"true","tipo_voz":"br-Ricardo"}},{"acao":"transferir","opcao":1,"acao_dados":{"numero_telefone":"4832830151","bina":"4832830152"}}]'</span><span class="p">,</span><span class="s1">'11987654321'</span> <span class="p">,</span> <span class="s1">'tags'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Composto</span><span class="o">.</span><span class="n">Enviar</span><span class="p">(</span><span class="s">"NUMERO-DESTINO"</span><span class="p">,</span><span class="x"> </span><span class="err">'</span><span class="p">[{</span><span class="s">"acao"</span><span class="o">:</span><span class="s">"audio"</span><span class="p">,</span><span class="s">"acao_dados"</span><span class="o">:</span><span class="p">{</span><span class="s">"url_audio"</span><span class="o">:</span><span class="s">"http://fooooo.bar/composto.mp3"</span><span class="p">}},{</span><span class="s">"acao"</span><span class="o">:</span><span class="s">"tts"</span><span class="p">,</span><span class="s">"acao_dados"</span><span class="o">:</span><span class="p">{</span><span class="s">"mensagem"</span><span class="o">:</span><span class="s">"lendo este texto"</span><span class="p">,</span><span class="s">"resposta_usuario"</span><span class="o">:</span><span class="s">"true"</span><span class="p">,</span><span class="s">"tipo_voz"</span><span class="o">:</span><span class="s">"br-Ricardo"</span><span class="p">}},{</span><span class="s">"acao"</span><span class="o">:</span><span class="s">"transferir"</span><span class="p">,</span><span class="s">"opcao"</span><span class="o">:</span><span class="m">1</span><span class="p">,</span><span class="s">"acao_dados"</span><span class="o">:</span><span class="p">{</span><span class="s">"numero_telefone"</span><span class="o">:</span><span class="s">"4832830151"</span><span class="p">,</span><span class="s">"bina"</span><span class="o">:</span><span class="s">"4832830152"</span><span class="p">}}]</span><span class="sc">','</span><span class="m">11987654321</span><span class="err">'</span><span class="x"> </span><span class="p">,</span><span class="x"> </span><span class="err">'</span><span class="n">tags</span><span class="err">'</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">dados</span> <span class="o">=</span><span class="p">[</span>  
   <span class="p">{</span>  
      <span class="s">"acao"</span><span class="p">:</span><span class="s">"audio"</span><span class="p">,</span>
      <span class="s">"acao_dados"</span><span class="p">:{</span>  
         <span class="s">"url_audio"</span><span class="p">:</span><span class="s">"https://instaud.io/_/3K3k.mp3"</span>
      <span class="p">}</span>
   <span class="p">},</span>
   <span class="p">{</span>  
      <span class="s">"acao"</span><span class="p">:</span><span class="s">"tts"</span><span class="p">,</span>
      <span class="s">"acao_dados"</span><span class="p">:{</span>  
         <span class="s">"mensagem"</span><span class="p">:</span><span class="s">"lendo este texto"</span><span class="p">,</span>
         <span class="s">"resposta_usuario"</span><span class="p">:</span><span class="s">"true"</span><span class="p">,</span>
         <span class="s">"tipo_voz"</span><span class="p">:</span><span class="s">"br-Ricardo"</span>
      <span class="p">}</span>
   <span class="p">},</span>
   <span class="p">{</span>  
      <span class="s">"acao"</span><span class="p">:</span><span class="s">"transferir"</span><span class="p">,</span>
      <span class="s">"opcao"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
      <span class="s">"acao_dados"</span><span class="p">:{</span>  
         <span class="s">"numero_telefone"</span><span class="p">:</span><span class="s">"4832830151"</span><span class="p">,</span>
         <span class="s">"bina"</span><span class="p">:</span><span class="s">"4832830152"</span>
      <span class="p">}</span>
   <span class="p">},</span>
    <span class="p">{</span>  
      <span class="s">"acao"</span><span class="p">:</span><span class="s">"ura"</span><span class="p">,</span>
      <span class="s">"opcao"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
      <span class="s">"acao_dados"</span><span class="p">:{</span>  
         <span class="s">"ura_id"</span><span class="p">:</span><span class="s">"1234"</span>
      <span class="p">}</span>
   <span class="p">}</span>
<span class="p">]</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">composto</span><span class="o">.</span><span class="n">enviar</span><span class="p">(</span><span class="s">"NUMERO-DESTINO"</span><span class="p">,</span> <span class="n">dados</span> <span class="p">,</span><span class="s">'BINA'</span> <span class="p">,</span> <span class="s">'TAGS'</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Composto</span> <span class="n">composto</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Composto</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">composto</span><span class="o">.</span><span class="na">enviar</span><span class="o">(</span><span class="s">"NUMERO-DESTINO"</span><span class="o">,</span> <span class="err">'</span><span class="o">[{</span><span class="s">"acao"</span><span class="o">:</span><span class="s">"audio"</span><span class="o">,</span><span class="s">"acao_dados"</span><span class="o">:{</span><span class="s">"url_audio"</span><span class="o">:</span><span class="s">"http://fooooo.bar/composto.mp3"</span><span class="o">}},{</span><span class="s">"acao"</span><span class="o">:</span><span class="s">"tts"</span><span class="o">,</span><span class="s">"acao_dados"</span><span class="o">:{</span><span class="s">"mensagem"</span><span class="o">:</span><span class="s">"lendo este texto"</span><span class="o">,</span><span class="s">"resposta_usuario"</span><span class="o">:</span><span class="s">"true"</span><span class="o">,</span><span class="s">"tipo_voz"</span><span class="o">:</span><span class="s">"br-Ricardo"</span><span class="o">}},{</span><span class="s">"acao"</span><span class="o">:</span><span class="s">"transferir"</span><span class="o">,</span><span class="s">"opcao"</span><span class="o">:</span><span class="mi">1</span><span class="o">,</span><span class="s">"acao_dados"</span><span class="o">:{</span><span class="s">"numero_telefone"</span><span class="o">:</span><span class="s">"4832830151"</span><span class="o">,</span><span class="s">"bina"</span><span class="o">:</span><span class="s">"4832830152"</span><span class="o">}}]</span><span class="sc">','</span><span class="mi">11987654321</span><span class="err">'</span> <span class="o">,</span> <span class="err">'</span><span class="n">tags</span><span class="err">'</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">composto</span><span class="p">.</span><span class="nf">enviar</span><span class="p">(</span><span class="s2">"NUMERO-DESTINO"</span><span class="p">,</span> <span class="s1">'[{"acao":"audio","acao_dados":{"url_audio":"http://fooooo.bar/composto.mp3"}},{"acao":"tts","acao_dados":{"mensagem":"lendo este texto","resposta_usuario":"true","tipo_voz":"br-Ricardo"}},{"acao":"transferir","opcao":1,"acao_dados":{"numero_telefone":"4832830151","bina":"4832830152"}}]'</span><span class="p">,</span><span class="s1">'11987654321'</span> <span class="p">,</span> <span class="s1">'tags'</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"composto criado com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4921</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Basta informar o número de destino válido e um JSON com o composto</p>
<h4 id='request'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                numero_destino
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Número do telefone que irá receber a chamada, formato DDD + Número exemplo: 4832830151
             </td>
        </tr>
        <tr>
            <td>
                dados
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Objeto JSON com a estrutura de TTS, áudio, transferir e URA ¹
            </td>
        </tr>
        <tr>
            <td>
                resposta_usuario
                <span class="optional">Opcional</span>
            </td>
            <td>
                Aguardar uma resposta do destinatário
            </td>
        </tr>
        <tr>
            <td>
                gravar_audio
                <span class="optional">Opcional</span>
            </td>
            <td>
                Gravar a ligação
            </td>
        </tr>
        <tr>
            <td>
                bina
                <span class="optional">Opcional</span>
            </td>
            <td>
                Número de telefone que aparecerá no identificador de quem receber a chamada, formato DDD + Número exemplo: 4832830151
            </td>
        </tr>
        <tr>
            <td>
                tags
                <span class="optional">Opcional</span>
            </td>
            <td>
                Campo de texto que será atrelado à ligação e devolvido no momento da consulta.  Ex.: "clienteY"
            </td>
        </tr>
        <tr>
            <td>
                bina_inteligente
                <span class="optional">Opcional</span>
            </td>
            <td>
                Quando o valor for true, ao enviar o torpedo o número de telefone que aparecerá para o destino será um número com DDD de sua região. Veja <a href="https://centraltotalvoice.freshdesk.com/support/solutions/articles/35000132235-bina-inteligente-torpedo-de-voz">DDDs disponíveis</a>. 
            </td>
        </tr>
        <tr>
            <td>
                chamada_verificada
                <span class="optional">Opcional</span>
            </td>
            <td>
                 Um valor booleano para identificar se o composto terá chamada verificada
            </td>
        </tr>
         <tr>
            <td>
                motivo_vcall
                <span class="optional">Opcional</span>
            </td>
            <td>
                Id do motivo vcall da chamada verificada
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Retorna o ID do Composto
             </td>
        </tr>
    </tbody>
</table>

<p>¹ Você pode ver como funciona o envio de dados vendo a utlização em <a href="#criar-um-composto">curl</a></p>
<h2 id='buscar-composto'>Buscar Composto</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/composto/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="s1">'https://voice-app.zenvia.com/composto/1'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">composto</span><span class="o">-&gt;</span><span class="na">buscaCompost</span><span class="p">(</span><span class="mi">123</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">composto</span><span class="p">.</span><span class="nx">buscar</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Composo</span><span class="o">.</span><span class="n">Buscar</span><span class="p">(</span><span class="m">123</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">composto</span><span class="o">.</span><span class="n">get_by_id</span><span class="p">(</span><span class="s">"123"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Composto</span> <span class="n">composto</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Composto</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">composto</span><span class="o">.</span><span class="na">buscar</span><span class="o">(</span><span class="mi">123</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"{{access-token}}"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">composto</span><span class="p">.</span><span class="nf">enviar</span><span class="p">(</span><span class="s2">"NUMERO-DESTINO"</span><span class="p">,</span> <span class="s2">"URL-AUDIO"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:60"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:35"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clienteX"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/gravacao.mp3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+5548988888888"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"chamada_verificada"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"motivo_vcall"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
            </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Texto do motivo"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Após o envio de mensagens composto, você poderá realizar a busca do registro pelo seu ID.</p>
<h5 id='request-2'>Request</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                ID
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID do Composto para recuperar os dados
             </td>
        </tr>
    </tbody>
</table>
<h5 id='response-2'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto <a href="#objeto-composto">composto</a>
             </td>
        </tr>
    </tbody>
</table>
<h2 id='relatorio-composto'>Relatório composto</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/composto/relatorio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-app.zenvia.com/composto/relatorio?data_inicio=2018-03-14&amp;data_fim=2018-03-15'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">composto</span><span class="o">-&gt;</span><span class="na">relatorio</span><span class="p">(</span><span class="nv">$dataInicial</span><span class="p">,</span> <span class="nv">$dataFinal</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">composto</span><span class="p">.</span><span class="nx">relatorio</span><span class="p">(</span><span class="nx">data_inicial</span><span class="p">,</span> <span class="nx">data_final</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Audio</span><span class="o">.</span><span class="n">Relatorio</span><span class="o">.</span><span class="n">Gerar</span><span class="p">(</span><span class="n">dataInicial</span><span class="p">,</span><span class="x"> </span><span class="n">dataFinal</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">composto</span><span class="o">.</span><span class="n">get_relatorio</span><span class="p">(</span><span class="s">"2017-12-08T11:00:32-02:00"</span><span class="p">,</span> <span class="s">"2017-12-08T11:00:32-02:00"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Audio</span> <span class="n">composto</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Audio</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">composto</span><span class="o">.</span><span class="na">relatorio</span><span class="o">(</span><span class="n">dataInicial</span><span class="o">,</span> <span class="n">dataFinal</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"{{access-token}}"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">composto</span><span class="p">.</span><span class="nf">enviar</span><span class="p">(</span><span class="s2">"NUMERO-DESTINO"</span><span class="p">,</span> <span class="s2">"URL-AUDIO"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:60"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:35"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clienteX"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/gravacao.mp3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+5548988888888"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"chamada_verificada"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"motivo_vcall"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
            </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Texto do motivo"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">433</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:60"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:35"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clienteX"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/gravacao.mp3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+5548988888888"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"chamada_verificada"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"motivo_vcall"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Você pode consultar os compostos enviados posteriormente. Basta informar o período desejado para que a API retorne os dados.</p>
<h4 id='request-3'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_inicio
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data inicial para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                data_fim
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data final para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                posicao
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Posição para seleção dos dados do relatório - começa na posição 0. Também chamado de offset.            
            </td>
        </tr>
        <tr>
            <td>
                limite
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Quantidade de chamadas a retornar na consulta. O limite padrão é 100 e o máximo é 200.
            </td>
        </tr> 
    </tbody>
</table>
<h4 id='response-3'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                relatorio
                <span class="attribute">array</span>
            </td>
            <td>
                Retorna um array com objetos <a href="#objeto-composto">composto</a>
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br></p>
<h1 id='conferencias'>Conferências</h1>
<blockquote>
<p>Conferência Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-app.zenvia.com/conferencia
</code></pre>
<p>Conferências são como salas privadas que você cria e recebe um ID, só você com esse código consegue realizar
chamadas que ao serem atendidas, conectam-se a essa conferência.   </p>
<h2 id='objeto-conferencia'>Objeto Conferência</h2>
<blockquote>
<p><br></p>

<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_termino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"chamadas"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
                  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">46132</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"conferencia_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/gravacao.mp3"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"cli"</span><span class="p">:</span><span class="w"> </span><span class="mi">3132</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:60"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:35"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:13:11+01:00"</span><span class="w">                  
          </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Definição do objeto Conferência</p>
<h4 id='atributos'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único da conferência.
             </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi criada a conferência.
            </td>
        </tr>
        <tr>
            <td>
                data_termino
                <span class="attribute">datetime</span>
            </td>
            <td>
               Data e hora que a conferência foi fechada.
            </td>
        </tr>
        <tr>
            <td>
                chamadas
                <span class="attribute">array</span>
            </td>
            <td>
                Lista de objetos de cada <a href="#objeto-chamada-da-conferencia">chamada da conferência</a>.
            </td>
        </tr>
    </tbody>
</table>
<h2 id='objeto-chamada-da-conferencia'>Objeto Chamada da Conferência</h2>
<blockquote>
<p><br></p>

<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">46132</span><span class="p">,</span><span class="w">
    </span><span class="s2">"conferencia_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/gravacao.mp3"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cli"</span><span class="p">:</span><span class="w"> </span><span class="mi">3132</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:60"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:35"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:13:11+01:00"</span><span class="w">                  
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Definição do objeto da Chamada da Conferência</p>
<h4 id='atributos-2'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único da chamada da conferência. 
             </td>
        </tr>
        <tr>
            <td>
                conferencia_id
                <span class="attribute">id</span>
            </td>
            <td>
                Identificador único da conferência. 
            </td>
        </tr>
        <tr>
            <td>
                url_gravacao
                <span class="attribute">string</span>
            </td>
            <td>
                Endereço URL da gravação desta chamada na conferência.
            </td>
        </tr>
        <tr>
            <td>
                numero
                <span class="attribute">integer</span>
            </td>
            <td>
                Número do destinatário que foi conectado à conferência.
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi criada a chamada.
            </td>
        </tr>
        <tr>
            <td>
                cli
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único do cliente.
            </td>
        </tr>
        <tr>
            <td>
                duracao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Duração total da chamada desde o início do processamento.
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada
                <span class="attribute">datetime</span>
            </td>
            <td>
                Duração total da chamada considerada para fins de cobrança.
            </td>
        </tr>
        <tr>
            <td>
                duracao_falada
                <span class="attribute">datetime</span>
            </td>
            <td>
                Duração da chamada desde que o destino atendeu.
            </td>
        </tr>
        <tr>
            <td>
                status
                <span class="attribute">string</span>
            </td>
            <td>
                Estado atual da chamada.
            </td>
        </tr>
        <tr>
            <td>
                preco
                <span class="attribute">float</span>
            </td>
            <td>
                Valor cobrado por esta chamada da conferência.
            </td>
        </tr>
        <tr>
            <td>
                data_inicio
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data do início da chamada.
            </td>
        </tr>
    </tbody>
</table>
<h2 id='criar-conferencia'>Criar conferência</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://voice-app.zenvia.com/conferencia
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
             -d <span class="s1">'{"numero_destino":"4811111111","url_conferencia":"http://foo.bar/conferencia.mp3"}'</span> <span class="se">\</span>
             <span class="s1">'https://voice-app.zenvia.com/conferencia'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">conferencia</span><span class="o">-&gt;</span><span class="na">enviar</span><span class="p">(</span><span class="s1">'NUMERO-DESTINO'</span><span class="p">,</span> <span class="s1">'http://foo.bar/conferencia.mp3'</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">conferencia</span><span class="p">.</span><span class="nx">enviar</span><span class="p">(</span><span class="s2">"4811111111"</span><span class="p">,</span> <span class="s2">"http://foo.bar/conferencia.mp3"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Conferencia</span><span class="o">.</span><span class="n">Enviar</span><span class="p">(</span><span class="s">"4811111111"</span><span class="p">,</span><span class="x"> </span><span class="s">"http://foo.bar/conferencia.mp3"</span><span class="p">,</span><span class="x"> </span><span class="no">false</span><span class="p">,</span><span class="x"> </span><span class="s">""</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">conferencia</span><span class="o">.</span><span class="n">cria_conferencia</span><span class="p">()</span>

</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Conferencia</span> <span class="n">conferencia</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Conferencia</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">conferencia</span><span class="o">.</span><span class="na">enviar</span><span class="o">(</span><span class="s">"4811111111"</span><span class="o">,</span> <span class="s">"http://foo.bar/conferencia.mp3"</span><span class="o">);</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"conferencia criado com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4921</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Basta chamar o metodo cria_conferencia para criar o id da sua conferência.</p>
<h4 id='response'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Retorna o ID do Conferência
             </td>
        </tr>
    </tbody>
</table>
<h2 id='buscar-conferencia'>Buscar conferência</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/conferencia/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="s1">'https://voice-app.zenvia.com/conferencia/1'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">conferencia</span><span class="o">-&gt;</span><span class="na">buscaConferencia</span><span class="p">(</span><span class="mi">123</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">conferencia</span><span class="p">.</span><span class="nx">buscar</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Conferencia</span><span class="o">.</span><span class="n">Buscar</span><span class="p">(</span><span class="m">123</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">conferencia</span><span class="o">.</span><span class="n">get_by_id</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Conferencia</span> <span class="n">conferencia</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Conferencia</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">conferencia</span><span class="o">.</span><span class="na">buscar</span><span class="o">(</span><span class="mi">123</span><span class="o">);</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:60"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:35"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_conferencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/conferencia.mp3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Após o envio de mensagens de conferência, você poderá realizar a busca do registro pelo seu ID.</p>
<h5 id='request'>Request</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                ID
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID da Conferência para recuperar os dados
             </td>
        </tr>
    </tbody>
</table>
<h5 id='response-2'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto <a href="#objeto-conferencia">conferência</a>
             </td>
        </tr>
    </tbody>
</table>
<h2 id='encerrar-conferencia'>Encerrar conferência</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/conferencia/relatorio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-app.zenvia.com/conferencia/relatorio?data_inicio=2018-03-14&amp;data_fim=2018-03-15'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">conferencia</span><span class="o">-&gt;</span><span class="na">relatorio</span><span class="p">(</span><span class="nv">$dataInicial</span><span class="p">,</span> <span class="nv">$dataFinal</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">conferencia</span><span class="p">.</span><span class="nx">relatorio</span><span class="p">(</span><span class="nx">data_inicial</span><span class="p">,</span> <span class="nx">data_final</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Conferencia</span><span class="o">.</span><span class="n">Relatorio</span><span class="o">.</span><span class="n">Gerar</span><span class="p">(</span><span class="n">dataInicial</span><span class="p">,</span><span class="x"> </span><span class="n">dataFinal</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">conferencia</span><span class="o">.</span><span class="n">get_relatorio</span><span class="p">(</span><span class="n">data_inicio</span><span class="p">,</span> <span class="n">data_fim</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Conferencia</span> <span class="n">conferencia</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Conferencia</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">conferencia</span><span class="o">.</span><span class="na">relatorio</span><span class="o">(</span><span class="n">dataInicial</span><span class="o">,</span> <span class="n">dataFinal</span><span class="o">);</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:60"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:35"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_conferencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/conferencia.mp3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ocupado"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:10"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_conferencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/conferencia.mp3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Você pode consultar as conferências enviadas posteriormente. Basta informar o período desejado para que a API retorne os dados.</p>
<h4 id='request-2'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_inicio
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data inicial para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                data_fim
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data final para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                posicao
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Posição para seleção dos dados do relatório - começa na posição 0. Também chamado de offset.            
            </td>
        </tr>
        <tr>
            <td>
                limite
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Quantidade de chamadas a retornar na consulta. O limite padrão é 100 e o máximo é 200.
            </td>
        </tr> 
    </tbody>
</table>
<h4 id='response-3'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                relatorio
                <span class="attribute">array</span>
            </td>
            <td>
                Retorna um array com objetos <a href="#objeto-conferencia">conferência</a>
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br></p>
<h1 id='dids'>DIDs</h1><h2 id='objeto-did'>Objeto DID</h2>
<blockquote>
<p>Did Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-app.zenvia.com/did
</code></pre>
<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">    </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4844577</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cidade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"552120182293"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Definição do objeto Áudio</p>
<h4 id='atributos'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do DID(Número receptivo)
             </td>
        </tr>
        <tr>
            <td>
                cidade
                <span class="attribute">string</span>
            </td>
            <td>
                Cidade do número de telefone(DID)
            </td>
        </tr>
        <tr>
            <td>
                estado
                <span class="attribute">string</span>
            </td>
            <td>
                Estado/Região do DID
            </td>
        </tr>
        <tr>
            <td>
                numero
                <span class="attribute">datetime</span>
            </td>
            <td>
                Número completo do DID
            </td>
        </tr>
    </tbody>
</table>

<p><br></p>

<p>A funcionalidade <strong>DID</strong> (Número de telefone para recebimento de chamadas) permite que você gerencie, adquire ou remova um DID da sua Conta. Também será possível extrair relatórios dos DIDs adquiridos e das chamadas recebidas por um número específico da sua Conta.</p>
<h2 id='consulta-dids'>Consulta DIDs</h2>
<p>Lista todos os DIDs da sua conta</p>

<blockquote>
<p>Did Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-app.zenvia.com/did
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="s1">'https://voice-app.zenvia.com/did'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">central</span><span class="o">-&gt;</span><span class="na">listaEstoque</span><span class="p">(</span><span class="s2">"id-ramal"</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="nx">Em</span> <span class="nx">constru</span><span class="err">çã</span><span class="nx">o</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">Em</span><span class="x"> </span><span class="n">construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="no">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"dids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123454</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cidade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"552120128207"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h5 id='request'>Request</h5>
<p>Não precisa passar nenhum parâmetro.</p>
<h4 id='response'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                relatorio
                <span class="attribute">array</span>
            </td>
            <td>
                Retorna um array com objetos <a href="#objeto-did">DID</a>
             </td>
        </tr>
    </tbody>
</table>
<h2 id='atualizar-did'>Atualizar DID</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>PUT https://voice-app.zenvia.com/did/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X PUT --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
             -d <span class="s1">'{"ura_id":"4321789"}'</span> <span class="se">\</span>
             <span class="s1">'https://voice-app.zenvia.com/did/{id}'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nx">Em</span> <span class="nx">constru</span><span class="err">çã</span><span class="nx">o</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">Em</span> <span class="nx">constru</span><span class="err">çã</span><span class="nx">o</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">Em</span><span class="x"> </span><span class="n">construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="no">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados atualizados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='request-2'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Id do ramal que será modificado(O id é passado na URL do endpoint) 
                </td>
        </tr>
        <tr>
            <td>
                ura_id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID da URA, a qual irá atender a ligação no momento em que o número receber uma ligação.¹
            </td>
        </tr>
        <tr>
            <td>
                ramal_id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do ramal, o qual irá atender a ligação no momento em que o número receber uma ligação.¹
            </td>
        </tr>
    </tbody>
</table>
<h5 id='response-2'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                status
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o status da requisição</a>
             </td>
        </tr>
    </tbody>
</table>

<p>Importante¹: Você só pode passar uma das opções, ou uma ura_id ou um ramal_id.</p>

<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>DELETE https://voice-app.zenvia.com/did/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X DELETE --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
             <span class="s1">'https://voice-app.zenvia.com/did/{id}'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nx">Em</span> <span class="nx">constru</span><span class="err">çã</span><span class="nx">o</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">Em</span> <span class="nx">constru</span><span class="err">çã</span><span class="nx">o</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">Em</span><span class="x"> </span><span class="n">construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="no">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Did Removido com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='request-3'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do DID
            </td>
        </tr>
    </tbody>
</table>
<h5 id='response-3'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                 Retorna o status da requisição
             </td>
        </tr>
    </tbody>
</table>
<h2 id='estoque-de-dids'>Estoque de DIDs</h2>
<aside class="notice"> Antes era possível consultar os números de DIDs disponíveis e comprá-los automaticamente. Atualmente é necessário entrar em contato com o time de suporte da equipe de voz da Zenvia pelo email  <a href="">suporte.voz@zenvia.com</a>
</aside>

<p style="color:#5A5A5A;"><b>Nota:</b> Para adquirir um DID você deve ter o cartão de crédito cadastrado na plataforma.</p>

<blockquote>
<p>Did Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-app.zenvia.com/did/estoque
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="s1">'https://voice-app.zenvia.com/did/estoque'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">Em</span> <span class="nx">constru</span><span class="err">çã</span><span class="nx">o</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="nx">Em</span> <span class="nx">constru</span><span class="err">çã</span><span class="nx">o</span><span class="o">&lt;</span><span class="nx">aside</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"notice"</span><span class="o">&gt;</span> <span class="nx">Antes</span> <span class="nx">era</span> <span class="nx">poss</span><span class="err">í</span><span class="nx">vel</span> <span class="nx">consultar</span> <span class="nx">os</span> <span class="nx">n</span><span class="err">ú</span><span class="nx">meros</span> <span class="nx">de</span> <span class="nx">DIDs</span> <span class="nx">dispon</span><span class="err">í</span><span class="nx">veis</span> <span class="nx">e</span> <span class="nx">compr</span><span class="err">á</span><span class="o">-</span><span class="nx">los</span> <span class="nx">automaticamente</span><span class="p">.</span> <span class="nx">Atualmente</span> <span class="err">é</span> <span class="nx">necess</span><span class="err">á</span><span class="nx">rio</span> <span class="nx">entrar</span> <span class="nx">em</span> <span class="nx">contato</span> <span class="nx">com</span> <span class="nx">o</span> <span class="nx">time</span> <span class="nx">de</span> <span class="nx">suporte</span> <span class="nx">da</span> <span class="nx">equipe</span> <span class="nx">de</span> <span class="nx">voz</span> <span class="nx">da</span> <span class="nx">Zenvia</span> <span class="nx">pelo</span> <span class="nx">email</span>  <span class="o">&lt;</span><span class="nx">a</span> <span class="nx">href</span><span class="o">=</span><span class="s2">""</span><span class="o">&gt;</span><span class="nx">suporte</span><span class="p">.</span><span class="nx">voz</span><span class="p">@</span><span class="nd">zenvia</span><span class="p">.</span><span class="nx">com</span><span class="o">&lt;</span><span class="sr">/a</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/aside</span><span class="err">&gt;
</span>
<span class="nx">Em</span> <span class="nx">constru</span><span class="err">çã</span><span class="nx">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="no">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"dids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12341</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cidade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SAO PAULO"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5511203729395"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12341</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cidade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Campinas"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5519350128096"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h5 id='request-4'>Request</h5>
<p><p style="color:#5A5A5A;">Não precisa passar nenhum parâmetro.<p></p>
<h4 id='response-4'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td style="color:#5A5A5A;">
                relatorio
                <span class="attribute">array</span>
            </td>
            <td style="color:#5A5A5A;">
                Retorna um array com objetos <a href="#objeto-did">DIDs</a> disponíveis.
             </td>
        </tr>
    </tbody>
</table>
<h2 id='comprar-did'>Comprar DID</h2>
<aside class="notice"> Antes era possível consultar os números de DIDs disponíveis e comprá-los automaticamente. Atualmente é necessário entrar em contato com o time de suporte da equipe de voz da Zenvia pelo email  <a href="">suporte.voz@zenvia.com</a>
</aside>

<p><p style="color:#5A5A5A;">Para adquirir um DID você deve ter um cartão de crédito cadastrado na plataforma.<p></p>

<blockquote>
<p>Did Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-app.zenvia.com/did/
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            d <span class="s1">'{"did_id":"123"}'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="s1">'https://voice-app.zenvia.com/did/'</span>
</code></pre><pre class="highlight php tab-php"><code>Em construção
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="nx">Em</span> <span class="nx">constru</span><span class="err">çã</span><span class="nx">o</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">Em</span><span class="x"> </span><span class="n">construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="no">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"dids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12341</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cidade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SAO PAULO"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5511203729395"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12341</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cidade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Campinas"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5519350128096"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h5 id='request-5'>Request</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td style="color:#5A5A5A;">
                did_id
                <span class="required" >Obrigatório</span>
            </td>
            <td style="color:#5A5A5A;">
                Id do DID que será comprado
             </td>
        </tr>
    </tbody>
</table>
<h4 id='response-5'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td style="color:#5A5A5A;">
                dados
                <span class="attribute">object</span>
            </td>
            <td style="color:#5A5A5A;">
                Retorna o id do DID adquirido.
             </td>
        </tr>
    </tbody>
</table>
<h2 id='objeto-chamada-did'>Objeto Chamada DID</h2>
<blockquote>
<p>Chamada Recebidas Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-app.zenvia.com/did/chamada/{id}
</code></pre>
<blockquote>
<p><br></p>

<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">21344543</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ativa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.evoline.com.br/rec/sua-gravacao.mp3"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-10T09:45:49-03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"552120182097"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero_origem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4831810323"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sem resposta"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:18"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ramal_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">34484</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"gravacoes_parciais"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Definição do objeto Chamada DID</p>
<h4 id='atributos-2'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro da chamada.
             </td>
        </tr>
        <tr>
            <td>
                ativa
                <span class="attribute">boolean</span>
            </td>
            <td>
                Identifica se a chamada está ativa ou não
             </td>
        </tr>
        <tr>
            <td>
                url_gravacao
                <span class="attribute">string</span>
            </td>
            <td>
                URL com áudio da gravação da chamada
             </td>
        </tr>
        <tr>
            <td>
                data_inicio
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data de início do registro da chamada. Data e Hora no formato UTC
            </td>
        </tr>
        <tr>
            <td>
                numero_destino
                <span class="attribute">string</span>
            </td>
            <td>
                Número de destino da ligação
             </td>
        </tr>
        <tr>
            <td>
                numero_origem
                <span class="attribute">string</span>
            </td>
            <td>
                Número que originou a ligação.
             </td>
        </tr>
        <tr>
             <td>
                 status
                 <span class="attribute">string</span>
             </td>
             <td>
                 Status da ligação na Origem/Destino:
                 <ul>
                     <li>atendida</li>
                     <li>sem resposta</li>
                     <li>ocupado</li>
                     <li>congestionado</li>
                     <li>falha</li>
                     <li>cancelada</li>
                     <li>não existe</li>
                 </ul>
             </td>
        </tr>
         <tr>
             <td>
                 duracao_segundos
                 <span class="attribute">integer</span>
             </td>
             <td>
                 Duração em segundos (inteiro) do total da chamada desde o início do processamento
             </td>
         </tr>
         <tr>
             <td>
                 duracao
                 <span class="attribute">integer</span>
             </td>
             <td>
                 Duração total da chamada desde o início do processamento
             </td>
         </tr>
         <tr>
             <td>
                 duracao_cobrada_segundos
                 <span class="attribute">integer</span>
             </td>
             <td>
                 Duração em segundos para fins de cobrança
             </td>
         </tr>
         <tr>
             <td>
                 duracao_cobrada
                 <span class="attribute">integer</span>
             </td>
             <td>
                 Duração considerada para fins de cobrança
             </td>
         </tr>
                 <tr>
             <td>
                 duracao_falada_segundos
                 <span class="attribute">integer</span>
             </td>
             <td>
                 Duração em segundos da chamada desde que o destino atendeu
             </td>
         </tr>
         <tr>
             <td>
                 duracao_falada
                 <span class="attribute">integer</span>
             </td>
             <td>
                 Duração da chamada desde que o destino atendeu
             </td>
         </tr>
         <tr>
             <td>
                 preco
                 <span class="attribute">float</span>
             </td>
             <td>
                 Valor cobrado pela chamada
             </td>
         </tr>
         <tr>
              <td>
                  ramal_id
                  <span class="attribute">integer</span>
              </td>
              <td>
                  ID do ramal vinculado ao DID
              </td>
          </tr>
    </tbody>
</table>

<p><br>
<br></p>
<h2 id='buscar-uma-chamada-recebida'>Buscar uma chamada recebida</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/did/chamada/{id-chamada}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
            <span class="s1">'https://voice-app.zenvia.com/did/chamada/{id-chamada}'</span>
</code></pre><pre class="highlight php tab-php"><code>Em Construção
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="nx">Em</span> <span class="nx">Constru</span><span class="err">çã</span><span class="nx">o</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">Em</span><span class="x"> </span><span class="n">Construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">Em</span> <span class="n">Constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Em</span> <span class="n">Constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="no">Em</span> <span class="no">Constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"posicao"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"limite"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ativa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://url-gravacao/rec/?id=1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-09-27T16:35:15-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"554811111111"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_origem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"554811111111"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ocupado"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:15"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ramal_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1231313</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Você pode consultar as Chamadas recebidas por um DID. Basta informar o período desejado e o ID do DID para que a API retorne os dados.</p>
<h4 id='request-6'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID da chamada recebida a ser consultada
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response-6'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Dados da chamada recebida.
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br></p>
<h2 id='relatorio-chamadas-recebidas-por-did'>Relatório chamadas recebidas por DID</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/did/{id}/relatorio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
            <span class="s1">'https://voice-app.zenvia.com/did/1/relatorio?data_inicio=2018-03-14&amp;data_fim=2018-03-15'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">did</span><span class="o">-&gt;</span><span class="na">relatorioChamadas</span><span class="p">(</span><span class="nv">$id</span><span class="p">,</span> <span class="nv">$dataInicial</span><span class="p">,</span> <span class="nv">$dataFinal</span><span class="p">,</span> <span class="nv">$filtros</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">did</span><span class="p">.</span><span class="nx">relatorioChamadas</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">dataInicial</span><span class="p">,</span> <span class="nx">dataFinal</span><span class="p">,</span> <span class="nx">filtros</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">DID</span><span class="o">.</span><span class="n">RelatorioChamadas</span><span class="o">.</span><span class="n">Gerar</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="x"> </span><span class="n">dataInicial</span><span class="p">,</span><span class="x"> </span><span class="n">dataFinal</span><span class="p">,</span><span class="x"> </span><span class="n">filtros</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">did</span><span class="o">.</span><span class="n">get_relatorio_chamadas</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">data_inicio</span><span class="p">,</span> <span class="n">data_fim</span><span class="p">,</span> <span class="n">filtros</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Did</span> <span class="n">did</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Did</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">did</span><span class="o">.</span><span class="na">relatorioChamadas</span><span class="o">(</span><span class="n">id</span><span class="o">,</span> <span class="n">dataInicial</span><span class="o">,</span> <span class="n">dataFinal</span><span class="o">,</span> <span class="n">filtros</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">did</span><span class="p">.</span><span class="nf">relatorioChamadas</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">data_inicial</span><span class="p">,</span> <span class="n">data_final</span><span class="p">,</span> <span class="n">filtros</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"posicao"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"limite"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ativa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://url-gravacao/rec/?id=1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-09-27T16:35:15-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"554811111111"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_origem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"554811111111"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ocupado"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:15"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ramal_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1231313</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Você pode consultar as Chamadas recebidas por um DID. Basta informar o período desejado e o ID do DID para que a API retorne os dados.</p>
<h4 id='request-7'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID do DID que será consultado
            </td>
        </tr>
        <tr>
            <td>
                data_inicio
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data inicial para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                data_fim
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data final para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                origem
                <span class="optional">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Número de telefone de origem para filtrar. Ex.: 4832830151
            </td>
        </tr>
        <tr>
            <td>
                destino
                <span class="optional">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Número de telefone de destino para filtrar. Ex.: 4832830151
            </td>
        </tr>
        <tr>
            <td>
                posicao
                <span class="optional">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Posição para seleção dos dados do relatório - começa na posição 0. Também chamado de offset.
            </td>
        </tr>
        <tr>
            <td>
                limite
                <span class="optional">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Quantidade de chamadas a retornar na consulta. O limite padrão é 100 e o máximo é 200.
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response-7'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                total
                <span class="attribute">integer</span>
            </td>
            <td>
                Retorna a quantidade total de registros
             </td>
        </tr>
        <tr>
            <td>
                posicao
                <span class="attribute">integer</span>
            </td>
            <td>
                Posição para seleção dos dados do relatório - começa na posição 0. Também chamado de offset.
             </td>
        </tr>
        <tr>
            <td>
                limite
                <span class="attribute">integer</span>
            </td>
            <td>
                Quantidade de chamadas que retornou na consulta.
             </td>
        </tr>
        <tr>
            <td>
                relatorio
                <span class="attribute">array</span>
            </td>
            <td>
                Retorna um array com objetos <a href="#objeto-chamada-did">chamada DID</a>
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br></p>
<h2 id='relatorio-de-todas-as-chamadas'>Relatório de todas as chamadas</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/did/relatorio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
            <span class="s1">'https://voice-app.zenvia.com/did/relatorio?data_inicio=2018-03-14&amp;data_fim=2018-03-15'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">did</span><span class="o">-&gt;</span><span class="na">relatorioChamadas</span><span class="p">(</span><span class="nv">$dataInicial</span><span class="p">,</span> <span class="nv">$dataFinal</span><span class="p">,</span> <span class="nv">$filtros</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">did</span><span class="p">.</span><span class="nx">relatorioChamadas</span><span class="p">(</span><span class="nx">dataInicial</span><span class="p">,</span> <span class="nx">dataFinal</span><span class="p">,</span> <span class="nx">filtros</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">DID</span><span class="o">.</span><span class="n">RelatorioChamadas</span><span class="o">.</span><span class="n">Gerar</span><span class="p">(</span><span class="n">dataInicial</span><span class="p">,</span><span class="x"> </span><span class="n">dataFinal</span><span class="p">,</span><span class="x"> </span><span class="n">filtros</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">did</span><span class="o">.</span><span class="n">get_relatorio_chamadas</span><span class="p">(</span><span class="n">data_inicio</span><span class="p">,</span> <span class="n">data_fim</span><span class="p">,</span> <span class="n">filtros</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Did</span> <span class="n">did</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Did</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">did</span><span class="o">.</span><span class="na">relatorioChamadas</span><span class="o">(</span><span class="n">dataInicial</span><span class="o">,</span> <span class="n">dataFinal</span><span class="o">,</span> <span class="n">filtros</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">did</span><span class="p">.</span><span class="nf">relatorioChamadas</span><span class="p">(</span><span class="n">data_inicial</span><span class="p">,</span> <span class="n">data_final</span><span class="p">,</span> <span class="n">filtros</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"posicao"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"limite"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ativa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://url-gravacao/rec/?id=1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-09-27T16:35:15-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"554811111111"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_origem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"554811111111"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ocupado"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:15"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ramal_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1231313</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Você pode consultar as Chamadas recebidas por todos DIDs. Basta informar o período desejado para que a API retorne os dados.</p>
<h4 id='request-8'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_inicio
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data inicial para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                data_fim
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data final para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                origem
                <span class="optional">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Número de telefone de origem para filtrar. Ex.: 4832830151
            </td>
        </tr>
        <tr>
            <td>
                destino
                <span class="optional">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Número de telefone de destino para filtrar. Ex.: 4832830151
            </td>
        </tr>
        <tr>
            <td>
                posicao
                <span class="optional">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Posição para seleção dos dados do relatório - começa na posição 0. Também chamado de offset.
            </td>
        </tr>
        <tr>
            <td>
                limite
                <span class="optional">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Quantidade de chamadas a retornar na consulta. O limite padrão é 100 e o máximo é 200.
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response-8'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                total
                <span class="attribute">integer</span>
            </td>
            <td>
                Retorna a quantidade total de registros
             </td>
        </tr>
        <tr>
            <td>
                posicao
                <span class="attribute">integer</span>
            </td>
            <td>
                Posição para seleção dos dados do relatório - começa na posição 0. Também chamado de offset.
             </td>
        </tr>
        <tr>
            <td>
                limite
                <span class="attribute">integer</span>
            </td>
            <td>
                Quantidade de chamadas que retornou na consulta.
             </td>
        </tr>
        <tr>
            <td>
                relatorio
                <span class="attribute">array</span>
            </td>
            <td>
                Retorna um array com objetos <a href="#objeto-chamada-did">chamada DID</a>
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br></p>
<h1 id='gerenciar-contas'>Gerenciar Contas</h1>
<blockquote>
<p>Gerenciar Contas End Point</p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-app.zenvia.com/conta
</code></pre>
<p>Com a funcionalidade de Gerente de Contas você pode criar, consultar, alterar e deletar contas filhas, sendo as contas filhas exatamente iguais a qualquer outra conta na Zenvia,
apenas são vinculadas com uma conta pai que tem o controle sobre ela, tendo o intuito de realizar integrações e automatizar processos de uso e revenda de serviços da API.</p>

<aside class="notice">
A funcionalidade de Gerente de Contas é um acesso especial que precisa ser liberado por nossa equipe, caso tenha interesse, entrar em contato por telefone com a equipe de Vendas.
</aside>
<h2 id='objeto-conta'>Objeto Conta</h2>
<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3132</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zenvia Telecom"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cpf_cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00.000.000/0000-00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"zenvia@zenvia.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"saldo"</span><span class="p">:</span><span class="w"> </span><span class="mf">999.99</span><span class="p">,</span><span class="w">
    </span><span class="s2">"telefone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seu-token"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_fixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.060"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_cel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.350"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email_financeiro"</span><span class="p">:</span><span class="w"> </span><span class="s2">"zenvia@zenvia.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome_fantasia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zenvia"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"conta_ativa"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valor_aviso_saldo_baixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"metodo_pagamento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prepago"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fatura_atual"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Definição do objeto Conta</p>
<h4 id='atributos'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único da Conta.
             </td>
        </tr>
        <tr>
            <td>
                login
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Login para a nova conta, precisa ser um endereço de e-mail válido.
            </td>
        </tr>
        <tr>
            <td>
                cpf_cnpj
                <span class="required">Obrigatório</span>
            </td>
            <td>
                CPF ou CNPJ desta conta, para fim de identificação e integração.
            </td>
        </tr>
        <tr>
            <td>
                telefone
                <span class="optional">Opcional</span>
            </td>
            <td>
                Número de telefone de contato desta conta, precisa ser um número de telefone válido.
            </td>
        </tr>
        <tr>
            <td>
                preco_fixo
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamadas destinadas a números fixos, deve ser maior ou igual ao da conta pai, por padrão vem o valor igual ao atual.
            </td>
        </tr>
        <tr>
            <td>
                preco_cel
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamadas destinadas a números móveis deve ser maior ou igual ao da conta pai, por padrão vem o valor igual ao atual.
            </td>
        </tr>
        <tr>
            <td>
                preco_ramal
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamada entre Ramais dentro dela mesma deve ser maior ou igual ao valor da conta pai, por padrão vem o valor igual ao atual.
            </td>
        </tr>
        <tr>
            <td>
                email_financeiro
                <span class="optional">Opcional</span>
            </td>
            <td>
                E-mail de contato para assuntos financeiros da nova conta, por padrão vem o e-mail da conta pai.
            </td>
        </tr>
        <tr>
            <td>
                nome_fantasia
                <span class="optional">Opcional</span>
            </td>
            <td>
                Nome fantasia desta conta que será utilizado para exibição.
            </td>
        </tr>
        <tr>
            <td>
                valor_aviso_saldo_baixo
                <span class="optional">Opcional</span>
            </td>
            <td>
                É necessário sem um valor inteiro, ex: 100 .Quando o saldo de créditos atingir ou ficar abaixo do valor determinado, você receberá um aviso no email do email_financeiro(caso este não tenha sido cadastrado você receberá no e-mail de login
            </td>
        </tr>
    </tbody>
</table>
<h2 id='criar-conta'>Criar Conta</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://voice-app.zenvia.com/conta
</code></pre>
<blockquote>
<p><br/>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl <span class="s1">'https://voice-app.zenvia.com/conta'</span> <span class="se">\</span>
    -X POST <span class="se">\ </span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
    -d <span class="s1">'{"nome" : "Zenvia", "login" : "zenvia@zenvia.com", "senha" : "senha123"}'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$conta_dados</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"nome"</span> <span class="o">=&gt;</span> <span class="s2">"Zenvia"</span><span class="p">,</span> 
    <span class="s2">"login"</span> <span class="o">=&gt;</span> <span class="s2">"zenvia@zenvia.com"</span><span class="p">,</span> 
    <span class="s2">"senha"</span> <span class="o">=&gt;</span> <span class="s2">"senha123"</span>
<span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">conta</span><span class="o">-&gt;</span><span class="na">criar</span><span class="p">(</span><span class="nv">$conta_dados</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">conta_dados</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">nome</span><span class="p">:</span> <span class="s2">"Zenvia"</span><span class="p">,</span> 
    <span class="na">login</span><span class="p">:</span> <span class="s2">"zenvia@zenvia.com"</span><span class="p">,</span> 
    <span class="na">senha</span><span class="p">:</span> <span class="s2">"senha123"</span>
<span class="p">};</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">conta</span><span class="p">.</span><span class="nx">criar</span><span class="p">(</span><span class="nx">conta_dados</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">

</span><span class="n">conta</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="nb">new</span><span class="p">(</span><span class="n">Conta</span><span class="p">)</span><span class="x">
</span><span class="n">conta</span><span class="o">.</span><span class="n">Nome</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="s">"Zenvia"</span><span class="x">
</span><span class="n">conta</span><span class="o">.</span><span class="n">Login</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="s">"zenvia@zenvia.com"</span><span class="x">
</span><span class="n">conta</span><span class="o">.</span><span class="n">Senha</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="s">"senha123"</span><span class="x">

</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Conta</span><span class="o">.</span><span class="n">Criar</span><span class="p">(</span><span class="n">conta</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">conta</span><span class="o">.</span><span class="n">criar_conta</span><span class="p">(</span><span class="s">"Zenvia"</span><span class="p">,</span> <span class="s">"zenvia@zenvia.com"</span><span class="p">,</span> <span class="s">"senha123"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Conta</span> <span class="n">conta</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Conta</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">contaDados</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">contaDados</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"nome"</span><span class="o">,</span> <span class="s">"Zenvia"</span><span class="o">);</span>
<span class="n">contaDados</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"login"</span><span class="o">,</span> <span class="s">"zenvia@zenvia.com"</span><span class="o">);</span>
<span class="n">contaDados</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"senha"</span><span class="o">,</span> <span class="s">"senha123"</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">conta</span><span class="o">.</span><span class="na">criar</span><span class="o">(</span><span class="n">contaDados</span><span class="o">);</span>
</code></pre>
<blockquote>
<p><br/>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"conta criada com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3132</span><span class="p">,</span><span class="w">
        </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seu-token"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Cria uma nova conta filha.</p>
<h4 id='request'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                nome
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Nome para a nova conta filha.
             </td>
        </tr>
        <tr>
            <td>
                login
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Login para a nova conta, precisa ser um endereço de e-mail válido.
            </td>
        </tr>
        <tr>
            <td>
                senha
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Senha para esta nova conta. (Deve conter 8 caracteres, sendo pelo menos 1 maiúsculo e 1 minúsculo)
            </td>
        </tr>
        <tr>
            <td>
                cpf_cnpj
                <span class="required">Obrigatório</span>
            </td>
            <td>
                CPF ou CNPJ desta conta, para fim de identificação e integração.
            </td>
        </tr>
        <tr>
            <td>
                telefone
                <span class="optional">Opcional</span>
            </td>
            <td>
                Número de telefone de contato desta conta, precisa ser um número de telefone válido.
            </td>
        </tr>
        <tr>
            <td>
                preco_fixo
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamadas destinadas a números fixos, deve ser maior ou igual ao da conta pai, por padrão vem o valor igual ao atual.
            </td>
        </tr>
        <tr>
            <td>
                preco_cel
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamadas destinadas a números móveis deve ser maior ou igual ao da conta pai, por padrão vem o valor igual ao atual.
            </td>
        </tr>
        <tr>
            <td>
                preco_ramal
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamada entre Ramais dentro dela mesma deve ser maior ou igual ao valor da conta pai, por padrão vem o valor igual ao atual.
            </td>
        </tr>
        <tr>
            <td>
                email_financeiro
                <span class="optional">Opcional</span>
            </td>
            <td>
                E-mail de contato para assuntos financeiros da nova conta, por padrão vem o e-mail da conta pai.
            </td>
        </tr>
        <tr>
            <td>
                nome_fantasia
                <span class="optional">Opcional</span>
            </td>
            <td>
                Nome fantasia desta conta que será utilizado para exibição.
            </td>
        </tr>
        <tr>
            <td>
                valor_aviso_saldo_baixo
                <span class="optional">Opcional</span>
            </td>
            <td>
                É necessário sem um valor inteiro, ex: 100 .Quando o saldo de créditos atingir ou ficar abaixo do valor determinado, você receberá um aviso no email do email_financeiro(caso este não tenha sido cadastrado você receberá no e-mail de login
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único da conta criada.
             </td>
        </tr>
        <tr>
            <td>
                access_token
                <span class="attribute">string</span>
            </td>
            <td>
                Token que deverá ser utilizado por esta nova conta para acessar os serviços da API.
             </td>
        </tr>
    </tbody>
</table>
<h2 id='buscar-conta'>Buscar Conta</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/conta/{id}
</code></pre>
<blockquote>
<p><br/>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl <span class="s1">'https://voice-app.zenvia.com/conta/3132'</span> <span class="se">\</span>
    -X GET <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --header <span class="s1">'Access-Token: seu-token'</span> 
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">conta</span><span class="o">-&gt;</span><span class="na">buscaConta</span><span class="p">(</span><span class="mi">3132</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">conta</span><span class="p">.</span><span class="nx">buscar</span><span class="p">(</span><span class="mi">3132</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Conta</span><span class="o">.</span><span class="n">Buscar</span><span class="p">(</span><span class="m">3132</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">conta</span><span class="o">.</span><span class="n">get_by_id</span><span class="p">(</span><span class="mi">3132</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Conta</span> <span class="n">conta</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Conta</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">conta</span><span class="o">.</span><span class="na">buscar</span><span class="o">(</span><span class="mi">3132</span><span class="o">);</span>
</code></pre>
<blockquote>
<p><br/>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3132</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zenvia Telecom"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cpf_cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00.000.000/0000-00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"zenvia@zenvia.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"saldo"</span><span class="p">:</span><span class="w"> </span><span class="mf">999.99</span><span class="p">,</span><span class="w">
        </span><span class="s2">"telefone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seu-token"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco_fixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.060"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco_cel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.350"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco_ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email_financeiro"</span><span class="p">:</span><span class="w"> </span><span class="s2">"zenvia@zenvia.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nome_fantasia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zenvia"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"conta_ativa"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valor_aviso_saldo_baixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"metodo_pagamento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prepago"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fatura_atual"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p><br/><br/><br/></p>
</blockquote>

<p>Busca os detalhes de uma conta filha.</p>
<h5 id='request-2'>Request</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Identificador único da conta filha que você deseja buscar.
             </td>
        </tr>
    </tbody>
</table>
<h5 id='response-2'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto <a href="#objeto-conta">Conta</a>
             </td>
        </tr>
    </tbody>
</table>
<h2 id='alterar-conta'>Alterar Conta</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>PUT https://voice-app.zenvia.com/conta/{id}
</code></pre>
<blockquote>
<p><br/>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl <span class="s1">'https://voice-app.zenvia.com/conta/3132'</span> <span class="se">\</span>
    -X PUT <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
    -d <span class="s1">'{"senha" : "senha123456"}'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$conta_dados</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">"senha"</span> <span class="o">=&gt;</span> <span class="s2">"senha123456"</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">conta</span><span class="o">-&gt;</span><span class="na">atualizar</span><span class="p">(</span><span class="mi">3132</span><span class="p">,</span> <span class="nv">$conta_dados</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">conta_dados</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">senha</span><span class="p">:</span> <span class="s2">"senha123456"</span>
<span class="p">};</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">conta</span><span class="p">.</span><span class="nx">atualizar</span><span class="p">(</span><span class="mi">3132</span><span class="p">,</span> <span class="nx">conta_dados</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">

</span><span class="n">conta</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="nb">new</span><span class="p">(</span><span class="n">Conta</span><span class="p">)</span><span class="x">
</span><span class="n">conta</span><span class="o">.</span><span class="n">senha</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="s">"senha123"</span><span class="x">

</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Conta</span><span class="o">.</span><span class="n">Atualizar</span><span class="p">(</span><span class="n">conta</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">conta</span><span class="o">.</span><span class="n">editar_conta</span><span class="p">(</span><span class="s">"Zenvia"</span><span class="p">,</span> <span class="s">"zenvia@zenvia.com"</span><span class="p">,</span> <span class="s">"senha123"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Conta</span> <span class="n">conta</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Conta</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">contaDados</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">contaDados</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"id"</span><span class="o">,</span> <span class="mi">3132</span><span class="o">);</span>
<span class="n">contaDados</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"senha"</span><span class="o">,</span> <span class="s">"senha123"</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">conta</span><span class="o">.</span><span class="na">atualizar</span><span class="o">(</span><span class="n">contaDados</span><span class="o">);</span>
</code></pre>
<blockquote>
<p><br/>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados atualizados com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Altera as informações de uma conta já existente, você precisa passar na URL o ID da conta e no corpo do request o JSON com os campos que serão alterados, conforme os exemplos.</p>
<h4 id='request-3'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                nome
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo nome para a conta que você deseja alterar
             </td>
        </tr>
        <tr>
            <td>
                login
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo login para a conta, precisa ser um endereço de e-mail válido.
            </td>
        </tr>
        <tr>
            <td>
                senha
                <span class="optional">Opcional</span>
            </td>
            <td>
                Nova senha para esta conta. (Deve conter 8 caracteres, sendo pelo menos 1 maiúsculo e 1 minúsculo)
            </td>
        </tr>
        <tr>
            <td>
                cpf_cnpj
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo CPF ou CNPJ desta conta, para fim de identificação e integração.
            </td>
        </tr>
        <tr>
            <td>
                telefone
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo número de telefone de contato desta conta, precisa ser um número de telefone válido.
            </td>
        </tr>
        <tr>
            <td>
                preco_fixo
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamadas destinadas a números fixos, deve ser maior ou igual ao da conta pai.
            </td>
        </tr>
        <tr>
            <td>
                preco_cel
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamadas destinadas a números móveis deve ser maior ou igual ao da conta pai.
            </td>
        </tr>
        <tr>
            <td>
                preco_ramal
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamada entre Ramais dentro dela mesma deve ser maior ou igual ao valor da conta pai.
            </td>
        </tr>
        <tr>
            <td>
                email_financeiro
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo e-mail de contato para assuntos financeiros desta conta.
            </td>
        </tr>
        <tr>
            <td>
                nome_fantasia
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo nome fantasia desta conta que será utilizado para exibição.
            </td>
        </tr>
        <tr>
            <td>
                valor_aviso_saldo_baixo
                <span class="optional">Opcional</span>
            </td>
            <td>
                É necessário sem um valor inteiro, ex: 100 .Quando o saldo de créditos atingir ou ficar abaixo do valor determinado, você receberá um aviso no email do email_financeiro(caso este não tenha sido cadastrado você receberá no e-mail de login
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response-3'>Response</h4>
<p><br/>
Retorna o objeto <a href="#respostas-da-api">resposta padrão</a> da API com sucesso ou falha.</p>
<h2 id='deletar-conta'>Deletar Conta</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>DELETE https://voice-app.zenvia.com/conta/{id}
</code></pre>
<blockquote>
<p><br/>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl <span class="s1">'https://voice-app.zenvia.com/conta/3132'</span> <span class="se">\</span>
    -X DELETE <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">conta</span><span class="o">-&gt;</span><span class="na">excluir</span><span class="p">(</span><span class="mi">3132</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">conta</span><span class="p">.</span><span class="nx">excluir</span><span class="p">(</span><span class="mi">3132</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Conta</span><span class="o">.</span><span class="n">Excluir</span><span class="p">(</span><span class="m">3132</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">conta</span><span class="o">.</span><span class="n">deletar</span><span class="p">(</span><span class="mi">3132</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Conta</span> <span class="n">conta</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Conta</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">conta</span><span class="o">.</span><span class="na">excluir</span><span class="o">(</span><span class="mi">3132</span><span class="o">);</span>
</code></pre>
<blockquote>
<p><br/>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Conta Removida com sucesso."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p><br/><br/><br/></p>
</blockquote>

<p>Deleta permanentemente uma conta filha, ficando indisponível para uma posterior consulta, 
tome muito cuidado ao executar este comando, após deletada, a conta filha irá perder todos os acessos à Zenvia, 
com isso o login utilizdo ficará disponível (pois não é possível logins duplicados na API).</p>
<h5 id='request-4'>Request</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Identificador único da conta filha que você deseja deletar.
             </td>
        </tr>
    </tbody>
</table>
<h4 id='response-4'>Response</h4>
<p><br/>
Retorna o objeto <a href="#respostas-da-api">resposta padrão</a> da API com sucesso ou falha.</p>
<h2 id='relatorio-de-contas'>Relatório de Contas</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/conta/relatorio
</code></pre>
<blockquote>
<p><br/>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl <span class="s1">'https://voice-app.zenvia.com/conta/relatorio'</span> <span class="se">\</span>
    -X GET <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --header <span class="s1">'Access-Token: seu-token'</span> 
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">conta</span><span class="o">-&gt;</span><span class="na">relatorio</span><span class="p">();</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">conta</span><span class="p">.</span><span class="nx">relatorio</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Conta</span><span class="o">.</span><span class="n">Relatorio</span><span class="o">.</span><span class="n">Gerar</span><span class="p">()</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">conta</span><span class="o">.</span><span class="n">get_relatorio</span><span class="p">()</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Conta</span> <span class="n">conta</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Conta</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">conta</span><span class="o">.</span><span class="na">relatorio</span><span class="o">();</span>
</code></pre>
<blockquote>
<p><br/>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3132</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zenvia Telecom"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cpf_cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00.000.000/0000-00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"zenvia@zenvia.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"saldo"</span><span class="p">:</span><span class="w"> </span><span class="mf">999.99</span><span class="p">,</span><span class="w">
        </span><span class="s2">"telefone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco_fixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.060"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco_cel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.350"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco_ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email_financeiro"</span><span class="p">:</span><span class="w"> </span><span class="s2">"zenvia@zenvia.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nome_fantasia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zenvia"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"conta_ativa"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valor_aviso_saldo_baixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"metodo_pagamento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prepago"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fatura_atual"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3132</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zenvia Telecom"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cpf_cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00.000.000/0000-00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"zenvia@zenvia.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"saldo"</span><span class="p">:</span><span class="w"> </span><span class="mf">999.99</span><span class="p">,</span><span class="w">
        </span><span class="s2">"telefone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco_fixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.060"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco_cel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.350"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco_ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email_financeiro"</span><span class="p">:</span><span class="w"> </span><span class="s2">"zenvia@zenvia.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nome_fantasia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zenvia"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"conta_ativa"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valor_aviso_saldo_baixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"metodo_pagamento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prepago"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fatura_atual"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p><br/><br/><br/></p>
</blockquote>

<p>Retorna um relatório com todas as suas contas filhas. As contas retornadas no relatório vem ordenadas por data de criação.</p>
<h4 id='response-5'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                relatorio
                <span class="attribute">array</span>
            </td>
            <td>
                Retorna um array com objetos <a href="#objeto-conta">conta</a>
             </td>
        </tr>
    </tbody>
</table>

<p><br/>
<br/></p>
<h2 id='credito-bonus'>Crédito bônus</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://voice-app.zenvia.com/conta/{id}/bonus
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
            -d <span class="s1">'{"valor":"100"}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-app.zenvia.com/conta/id-conta/bonus'</span>
</code></pre><pre class="highlight php tab-php"><code>Em Contrução
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="nx">Em</span> <span class="nx">Contru</span><span class="err">çã</span><span class="nx">o</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">Em</span><span class="x"> </span><span class="n">Contrução</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">Em</span> <span class="n">Contru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Em</span> <span class="n">Contru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="no">Em</span> <span class="no">Contru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"valor adicionado com sucesso"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Permite adicionar crédito de bônus nas contas criadas por mim.
<br>
<br>
<aside class="notice">
A funcionalidade de Crédito de Bônus é um limite especial configurado em sua conta gerente, que precisa ser liberado por nossa equipe, caso tenha interesse, entre em contato
</aside></p>
<h4 id='request-5'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID da conta que vai receber os creditos
            </td>
        </tr>
        <tr>
            <td>
                valor
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Valor que será adicionado como crédito bônus na conta
            </td>
        </tr>
    </tbody>
</table>

<p><br/>
<br/></p>
<h2 id='listar-webhooks'>Listar Webhooks</h2>
<p>Este método permite a listagem de todos os webhooks default configurados para suas subcontas(Contas filhas). <a href="#webhooks">Clique aqui</a> para obter mais informações sobre cada webhook da ZenAPI. </p>

<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/conta/webhook-default
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-app.zenvia.com/conta/webhook-default'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">conta</span><span class="o">-&gt;</span><span class="na">webhooksDefault</span><span class="p">();</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kd">var</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">conta</span><span class="p">.</span><span class="nx">webhooksDefault</span><span class="p">()</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">WebhookDefault</span><span class="o">.</span><span class="n">Listar</span><span class="p">();</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">conta</span><span class="o">.</span><span class="n">get_webhook_default</span><span class="p">()</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Conta</span> <span class="n">conta</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Conta</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">conta</span><span class="o">.</span><span class="na">webhookDefault</span><span class="o">()</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">conta</span><span class="p">.</span><span class="nf">webhooks_default</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"webhooks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"webhook"</span><span class="p">:</span><span class="w"> </span><span class="s2">"status_tempo_real"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://webhook.site/T3st1dew3b400k"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"webhook"</span><span class="p">:</span><span class="w"> </span><span class="s2">"chamada_fim"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://webhook.site/T3st1dew3b400k"</span><span class="w">
      </span><span class="p">},</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='request-6'>Request</h4>
<table class="table-parameters">
    <p>Não precisa passar nenhum parâmetro.</p>
</table>
<h4 id='response-6'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                webhooks
                <span class="attribute">array</span>
            </td>
           <td>
                Retorna dentro de dados um arrays com os webhooks default cadastros.
            </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h2 id='remover-webhook'>Remover Webhook</h2>
<p>Este método permite a remoção de um webhook default específico.<a href="#webhooks">Clique aqui</a> para obter mais informações sobre cada webhook da ZenAPI. </p>

<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>DELETE https://voice-app.zenvia.com/conta/webhook-default/{nome_webhook}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X DELETE --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-app.zenvia.com/conta/webhook-default/chamada_fim'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">conta</span><span class="o">-&gt;</span><span class="na">excluirWebhookDefault</span><span class="p">(</span><span class="s2">"nome"</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kd">var</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">conta</span><span class="p">.</span><span class="nx">excluirWebhookDefault</span><span class="p">(</span><span class="s2">"nome"</span><span class="p">)</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">WebhookDefault</span><span class="o">.</span><span class="n">Excluir</span><span class="p">(</span><span class="s">"nome"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">client</span><span class="o">.</span><span class="n">conta</span><span class="o">.</span><span class="n">delete_webhook_default</span><span class="p">(</span><span class="s">"nome"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Conta</span> <span class="n">conta</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Conta</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">conta</span><span class="o">.</span><span class="na">excluirWebhookDefault</span><span class="o">(</span><span class="s">"nome"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">conta</span><span class="p">.</span><span class="nf">excluir_webhook_default</span><span class="p">(</span><span class="s2">"nome"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"webhook default apagado com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='request-7'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                webhook
                <span class="required">string</span>
            </td>
            <td>
                Nome do webhook
             </td>
        </tr>
    </tbody>
</table>
<h4 id='response-7'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">string</span>
            </td>
            <td>
                Retorna dados null e mensagem de sucesso
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h2 id='alterar-um-webhook'>Alterar um webhook</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>PUT https://voice-app.zenvia.com/conta/webhook-default/{nome_webhook}
</code></pre>
<blockquote>
<p><br/>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl <span class="s1">'https://voice-app.zenvia.com/conta/webhook-default/chamada_fim'</span> <span class="se">\</span>
    -X PUT <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --header <span class="s1">'Access-Token: Seu_Token'</span> <span class="se">\</span>
    -d <span class="s1">'{"url" : "www.urlretorno.com.br"}'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'Seu_Token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">conta</span><span class="o">-&gt;</span><span class="na">salvaWebhookDefault</span><span class="p">(</span><span class="s2">"nome"</span><span class="p">,</span><span class="s2">"url"</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"Seu_Token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">conta</span><span class="p">.</span><span class="nx">salvaWebhookDefault</span><span class="p">(</span><span class="s2">"nome"</span><span class="p">,</span><span class="s2">"url"</span><span class="p">)</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">WebhookDefault</span><span class="o">.</span><span class="n">Salvar</span><span class="p">(</span><span class="s">"nome"</span><span class="p">,</span><span class="s">"url"</span><span class="p">);</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">conta</span><span class="o">.</span><span class="n">edit_webhook_default</span><span class="p">(</span><span class="s">"nome"</span><span class="p">,</span><span class="s">"url"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"Seu_Token"</span><span class="o">);</span>
<span class="n">Conta</span> <span class="n">conta</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Conta</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">conta</span><span class="o">.</span><span class="na">salvarWebhookDefault</span><span class="o">(</span><span class="s">"nome"</span><span class="o">,</span><span class="s">"url"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">conta</span><span class="p">.</span><span class="nf">salvar_webhook_default</span><span class="p">(</span><span class="s2">"nome"</span><span class="p">,</span><span class="s2">"url"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p><br/>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"webhook default atualizado com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Altera as informações de um webhook default, você precisa passar no corpo do request o JSON com a url que vai receber o webhook.</p>
<h4 id='request-8'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                nome
                <span class="required">string</span>
            </td>
            <td>
                Nome do webhook que vai ser alterado
             </td>
        </tr>
        <tr>
            <td>
                url
                <span class="required">string</span>
            </td>
            <td>
                Sua URL que vai receber o callback
             </td>
        </tr>
    </tbody>
</table>
<h4 id='response-8'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">string</span>
            </td>
            <td>
                Retorna dados null e mensagem de sucesso
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h1 id='minha-conta'>Minha Conta</h1>
<blockquote>
<p>Minha Conta Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-app.zenvia.com/conta
</code></pre>
<p>O <strong>Minha Conta</strong> permite que você visualize seu saldo, monitore suas contas e suas recargas,
edite suas contas e configure e visualize seus webhooks.</p>
<h3 id='objeto-minha-conta'>Objeto Minha Conta</h3>
<blockquote>
<p><br></p>

<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zenvia Telecom"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cpf_cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.123.123</span><span class="se">\/</span><span class="s2">0001-10"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"teste@zenvia.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"saldo"</span><span class="p">:</span><span class="w"> </span><span class="mf">950.64</span><span class="p">,</span><span class="w">
    </span><span class="s2">"telefone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234asdkgh1g23213nkbdfsh3v43"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_fixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.060"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_sms"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.090"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_cel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.350"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email_financeiro"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testefinanceiro@zenvia.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome_fantasia"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"conta_ativa"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valor_aviso_saldo_baixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"metodo_pagamento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prepago"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fatura_atual"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.52</span><span class="p">,</span><span class="w">
    </span><span class="s2">"limite_credito_bonus"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Definição do objeto Conta</p>
<h4 id='atributos'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                nome
                <span class="attribute">string</span>
            </td>
            <td>
                Nome da conta.
             </td>
        </tr>
        <tr>
            <td>
                login
                <span class="attribute">string</span>
            </td>
            <td>
                Login de acesso da sua conta
            </td>
        </tr>
        <tr>
            <td>
                cpf_cnpj
                <span class="attribute">string</span>
            </td>
            <td>
                CPF ou CNPJ da sua conta
            </td>
        </tr>
        <tr>
            <td>
                telefone
                <span class="attribute">string</span>
            </td>
            <td>
                Telefone da sua conta
            </td>
        </tr>
        <tr>
            <td>
                preco_fixo
                <span class="attribute">string</span>
            </td>
            <td>
                Preço por minuto do fixo
            </td>
        </tr>
        <tr>
            <td>
                preco_cel
                <span class="attribute">string</span>
            </td>
            <td>
                Preço por minuto para celular
            </td>
        </tr>
        <tr>
        <tr>
            <td>
                preco_ramal
                <span class="attribute">string</span>
            </td>
            <td>
                Preço por minuto do ramal
            </td>
        </tr>
        <tr>
            <td>
                email_financeiro
                <span class="attribute">string</span>
            </td>
            <td>
                E-mail do financeiro da sua empresa
            </td>
        </tr>
        <tr>
            <td>
                nome_fantasia
                <span class="attribute">string</span>
            </td>
            <td>
                Nome fantasia da sua empresa
            </td>
        </tr>
    </tbody>
</table>
<h3 id='objeto-resposta-minha-conta'>Objeto Resposta Minha Conta</h3>
<blockquote>
<p><br></p>

<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zenvia Telecom"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cpf_cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.123.123</span><span class="se">\/</span><span class="s2">0001-10"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"teste@zenvia.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"saldo"</span><span class="p">:</span><span class="w"> </span><span class="mf">950.64</span><span class="p">,</span><span class="w">
    </span><span class="s2">"telefone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234asdkgh1g23213nkbdfsh3v43"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_fixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.060"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_sms"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.090"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_cel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.350"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email_financeiro"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testefinanceiro@zenvia.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome_fantasia"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"conta_ativa"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valor_aviso_saldo_baixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"metodo_pagamento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prepago"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fatura_atual"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.52</span><span class="p">,</span><span class="w">
    </span><span class="s2">"limite_credito_bonus"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Definição do objeto resposta Minha Conta</p>
<h4 id='atributos-2'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro da sua conta
             </td>
        </tr>
        <tr>
            <td>
                nome
                <span class="attribute">string</span>
            </td>
            <td>
                Nome da sua conta
             </td>
        </tr>
        <tr>
            <td>
                cpf_cnpj
                <span class="attribute">string</span>
            </td>
            <td>
                CPF ou CNPJ da sua conta
            </td>
        </tr>
        <tr>
            <td>
                login
                <span class="attribute">string</span>
            </td>
            <td>
                Login de acesso da sua conta
            </td>
        </tr>
        <tr>
            <td>
                saldo
                <span class="attribute">float</span>
            </td>
            <td>
                Saldo atual da conta
            </td>
        </tr>
        <tr>
            <td>
                telefone
                <span class="attribute">string</span>
            </td>
            <td>
                Telefone da sua conta
            </td>
        </tr>
        <tr>
            <td>
                access_token
                <span class="attribute">string</span>
            </td>
            <td>
                Access Token da sua conta
            </td>
        </tr>
        <tr>
            <td>
                preco_fixo
                <span class="attribute">string</span>
            </td>
            <td>
                Preço por minuto para fixo
            </td>
        </tr>
        <tr>
            <td>
                preco_cel
                <span class="attribute">string</span>
            </td>
            <td>
                Preço por minuto para celulares
            </td>
        </tr>
        <tr>
            <td>
                preco_ramal
                <span class="attribute">string</span>
            </td>
            <td>
                Preço por minuto para ramal
            </td>
        </tr>
        <tr>
            <td>
                email_financeiro
                <span class="attribute">string</span>
            </td>
            <td>
                E-mail do financeiro da sua empresa
            </td>
        </tr>
        <tr>
            <td>
                nome_fantasia
                <span class="attribute">string</span>
            </td>
            <td>
                Nome fantasia da sua empresa
            </td>
        </tr>
        <tr>
            <td>
                metodo_pagamento
                <span class="attribute">string</span>
            </td>
            <td>
                Método de faturamento da sua conta
            </td>
        </tr>
    </tbody>
</table>
<h3 id='saldo-da-conta'>Saldo da Conta</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/saldo
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-app.zenvia.com/saldo'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">perfil</span><span class="o">-&gt;</span><span class="na">consultaSaldo</span><span class="p">();</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kd">var</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">perfil</span><span class="p">.</span><span class="nx">consultaSaldo</span><span class="p">()</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">)</span><span class="x">

 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Saldo</span><span class="o">.</span><span class="n">ConsultaSaldo</span><span class="p">()</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">minha_conta</span><span class="o">.</span><span class="n">get_saldo</span><span class="p">()</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Perfil</span> <span class="n">perfil</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Perfil</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">perfil</span><span class="o">.</span><span class="na">consultaSaldo</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">perfil</span><span class="p">.</span><span class="nf">consulta_saldo</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"saldo atual"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"saldo"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.00</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='response'>Response</h4>
<table class="table-parameters">
    <tbody>
 <tr>
            <td>
                saldo
                <span class="attribute">float</span>
            </td>
            <td>
                Saldo atual da sua conta
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h3 id='buscar-minha-conta'>Buscar minha conta</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/conta/
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="s1">'https://voice-app.zenvia.com/conta'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">perfil</span><span class="o">-&gt;</span><span class="na">minhaConta</span><span class="p">();</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kd">var</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">perfil</span><span class="p">.</span><span class="nx">minhaConta</span><span class="p">()</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">)</span><span class="x">

 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Perfil</span><span class="o">.</span><span class="n">MinhaConta</span><span class="p">()</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">minha_conta</span><span class="o">.</span><span class="n">get_conta</span><span class="p">()</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Perfil</span> <span class="n">perfil</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Perfil</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">perfil</span><span class="o">.</span><span class="na">minhaConta</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">perfil</span><span class="p">.</span><span class="nf">minha_conta</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zenvia Telecom"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cpf_cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.123.123</span><span class="se">\/</span><span class="s2">0001-10"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"teste@zenvia.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"saldo"</span><span class="p">:</span><span class="w"> </span><span class="mf">950.64</span><span class="p">,</span><span class="w">
    </span><span class="s2">"telefone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234asdkgh1g23213nkbdfsh3v43"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_fixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.060"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_sms"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.090"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_cel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.350"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email_financeiro"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testefinanceiro@zenvia.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome_fantasia"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"conta_ativa"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valor_aviso_saldo_baixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"metodo_pagamento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prepago"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fatura_atual"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.52</span><span class="p">,</span><span class="w">
    </span><span class="s2">"limite_credito_bonus"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h5 id='response-2'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto <a href="#objeto-minha-conta">Minha Conta</a>
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h2 id='alterar-sua-conta'>Alterar sua Conta</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>PUT https://voice-app.zenvia.com/conta
</code></pre>
<blockquote>
<p><br/>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl <span class="s1">'https://voice-app.zenvia.com/conta/3132'</span> <span class="se">\</span>
    -X PUT <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --header <span class="s1">'Access-Token: Seu_Token'</span> <span class="se">\</span>
    -d <span class="s1">'{"senha" : "senha123456"}'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'Seu_Token'</span><span class="p">);</span>

<span class="nv">$conta_dados</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">"senha"</span> <span class="o">=&gt;</span> <span class="s2">"senha123456"</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">perfil</span><span class="o">-&gt;</span><span class="na">atualizaDadosConta</span><span class="p">(</span><span class="nv">$conta_dados</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"Seu_Token"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">conta_dados</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">senha</span><span class="p">:</span> <span class="s2">"senha123456"</span>
<span class="p">};</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">perfil</span><span class="p">.</span><span class="nx">atualizaDadosConta</span><span class="p">(</span><span class="nx">conta_dados</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">)</span><span class="x">

</span><span class="n">perfil</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="nb">new</span><span class="p">(</span><span class="n">Perfil</span><span class="p">)</span><span class="x">
</span><span class="n">perfil</span><span class="o">.</span><span class="n">NomeFantasia</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="s">"NovoNome"</span><span class="x">

</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Perfil</span><span class="o">.</span><span class="n">AtualizarConta</span><span class="p">(</span><span class="n">perfil</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">perfil</span><span class="o">.</span><span class="n">editar_conta</span><span class="p">(</span><span class="s">"Zenvia"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"Seu_Token"</span><span class="o">);</span>
<span class="n">Perfil</span> <span class="n">perfil</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Perfil</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">perfil</span><span class="o">.</span><span class="na">atualizaDadosConta</span><span class="o">(</span><span class="err">'</span><span class="o">{</span><span class="s">"nome"</span><span class="o">:</span><span class="s">"TotalVoice"</span><span class="o">}</span><span class="err">'</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">perfil</span><span class="p">.</span><span class="nf">atualizar</span><span class="p">(</span><span class="s1">'{"nome":"TotalVoice"}'</span><span class="p">)</span>
</code></pre>
<blockquote>
<p><br/>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados atualizados com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Altera as informações de sua conta principal, você precisa passar no corpo do request o JSON com os campos que serão alterados, conforme os exemplos.</p>
<h4 id='request'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                nome
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo nome para a conta que você deseja alterar
             </td>
        </tr>
        <tr>
            <td>
                login
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo login para a conta, precisa ser um endereço de e-mail válido.
            </td>
        </tr>
        <tr>
            <td>
                senha
                <span class="optional">Opcional</span>
            </td>
            <td>
                Nova senha para esta conta. (Deve conter 8 caracteres, sendo pelo menos 1 maiúsculo e 1 minúsculo)
            </td>
        </tr>
        <tr>
            <td>
                cpf_cnpj
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo CPF ou CNPJ desta conta, para fim de identificação e integração.
            </td>
        </tr>
        <tr>
            <td>
                telefone
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo número de telefone de contato desta conta, precisa ser um número de telefone válido.
            </td>
        </tr>
        <tr>
            <td>
                preco_fixo
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamadas destinadas a números fixos deve ser maior ou igual ao da conta pai.
            </td>
        </tr>
        <tr>
            <td>
                preco_cel
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamadas destinadas a números móveis, deve ser maior ou igual ao da conta pai.
            </td>
        </tr>
        <tr>
            <td>
                preco_ramal
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamada entre Ramais dentro dela mesma deve ser maior ou igual ao valor da conta pai.
            </td>
        </tr>
        <tr>
            <td>
                email_financeiro
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo e-mail de contato para assuntos financeiros desta conta.
            </td>
        </tr>
        <tr>
            <td>
                nome_fantasia
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo nome fantasia desta conta que será utilizado para exibição.
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response-3'>Response</h4>
<p><br/>
Retorna o objeto <a href="#respostas-da-api">resposta padrão</a> da API com sucesso ou falha.
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h2 id='relatorio-de-recarga'>Relatório de recarga</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/conta/recargas
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-app.zenvia.com/conta/recargas'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">perfil</span><span class="o">-&gt;</span><span class="na">relatorioRecarga</span><span class="p">();</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kd">var</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">perfil</span><span class="p">.</span><span class="nx">relatorioRecarga</span><span class="p">();</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">)</span><span class="x">

 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Perfil</span><span class="o">.</span><span class="n">RelatorioRecarga</span><span class="p">()</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">minha_conta</span><span class="o">.</span><span class="n">get_recargas</span><span class="p">()</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Perfil</span> <span class="n">perfil</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Perfil</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">perfil</span><span class="o">.</span><span class="na">relatorioRecarga</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">perfil</span><span class="p">.</span><span class="nf">relatorio_recarga</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6470</span><span class="p">,</span><span class="w">
        </span><span class="s2">"credito"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-05T09:42:03-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"descricao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Recarga"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5873</span><span class="p">,</span><span class="w">
        </span><span class="s2">"credito"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-28T11:34:49-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"descricao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Recarga"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='response-4'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID da transação de recarga
             </td>
        </tr>
        <tr>
            <td>
                credito
                <span class="attribute">float</span>
            </td>
            <td>
                Valor da recarga
             </td>
        </tr>
        <tr>
            <td>
                data
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data da transação
             </td>
        </tr>
        <tr>
            <td>
                descricao
                <span class="attribute">string</span>
            </td>
            <td>
                Descrição da transação
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h2 id='url-de-recarga'>URL de Recarga</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/conta/urlrecarga
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-app.zenvia.com/conta/urlrecarga?url_retorno=www.urlretorno.com.br'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">perfil</span><span class="o">-&gt;</span><span class="na">urlRecarga</span><span class="p">(</span><span class="s2">"www.urlretorno.com.br"</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kd">var</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">perfil</span><span class="p">.</span><span class="nx">urlRecarga</span><span class="p">(</span><span class="s2">"www.urlretorno.com.br"</span><span class="p">);</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">)</span><span class="x">

 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Perfil</span><span class="o">.</span><span class="n">GeraURLRecarga</span><span class="p">(</span><span class="s">"www.urlretorno.com.br"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">minha_conta</span><span class="o">.</span><span class="n">get_url_recarga</span><span class="p">(</span><span class="s">"www.urlretorno.com.br"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Perfil</span> <span class="n">perfil</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Perfil</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">perfil</span><span class="o">.</span><span class="na">urlRecarga</span><span class="o">(</span><span class="s">"www.urlretorno.com.br"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">perfil</span><span class="p">.</span><span class="nf">url_recarga</span><span class="p">(</span><span class="s2">"www.urlretorno.com.br"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.evoline.com.br/recarga/index.php?id=eagr&amp;public_key=teste5a4b033e14e69"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='request-2'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                url_retorno
                <span class="optional">Opcional</span>
            </td>
            <td>
                URL para retorno depois da recarga ou ao cancelar.
             </td>
        </tr>
    </tbody>
</table>
<h4 id='response-5'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                url
                <span class="attribute">string</span>
            </td>
            <td>
                URL para acessar o painel de recarga
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h2 id='listar-webhooks'>Listar Webhooks</h2>
<p>Este método permite a listagem de todos os webhooks configurados da sua conta. <a href="#webhooks">Clique aqui</a> para obter mais informações sobre cada webhook da ZenAPI. </p>

<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/webhook
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-app.zenvia.com/webhook'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">perfil</span><span class="o">-&gt;</span><span class="na">webhooks</span><span class="p">();</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kd">var</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">perfil</span><span class="p">.</span><span class="nx">webhooks</span><span class="p">();</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">)</span><span class="x">

 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Webhook</span><span class="o">.</span><span class="n">Listar</span><span class="p">()</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">minha_conta</span><span class="o">.</span><span class="n">get_webhook</span><span class="p">()</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Perfil</span> <span class="n">perfil</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Perfil</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">perfil</span><span class="o">.</span><span class="na">webhooks</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">perfil</span><span class="p">.</span><span class="nf">webhooks</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"webhooks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"webhook"</span><span class="p">:</span><span class="w"> </span><span class="s2">"status_tempo_real"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://webhook.site/T3st1dew3b400k"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"webhook"</span><span class="p">:</span><span class="w"> </span><span class="s2">"chamada_fim"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://webhook.site/T3st1dew3b400k"</span><span class="w">
      </span><span class="p">},</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='request-3'>Request</h4>
<table class="table-parameters">
    <p>Não precisa passar nenhum parâmetro.</p>
</table>
<h4 id='response-6'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                webhooks
                <span class="attribute">array</span>
            </td>
           <td>
                Retorna dentro de dados um arrays com os webhooks cadastros.
            </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h2 id='remover-webhook'>Remover Webhook</h2>
<p>Este método permite a remoção de um webhook específico de sua conta. <a href="#webhooks">Clique aqui</a> para obter mais informações sobre cada webhook da ZenAPI. </p>

<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>DELETE https://voice-app.zenvia.com/webhook/{nome_webhook}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X DELETE --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-app.zenvia.com/webhook/chamada_fim'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">perfil</span><span class="o">-&gt;</span><span class="na">excluirWebhook</span><span class="p">(</span><span class="s2">"chamada_fim"</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kd">var</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">perfil</span><span class="p">.</span><span class="nx">excluirWebhook</span><span class="p">(</span><span class="s2">"chamada_fim"</span><span class="p">);</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">)</span><span class="x">

 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Webhook</span><span class="o">.</span><span class="n">Excluir</span><span class="p">(</span><span class="s">"chamada_fim"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">minha_conta</span><span class="o">.</span><span class="n">delete_webhook</span><span class="p">(</span><span class="s">"chamada_fim"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Perfil</span> <span class="n">perfil</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Perfil</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">perfil</span><span class="o">.</span><span class="na">excluirWebhook</span><span class="o">(</span><span class="s">"chamada_fim"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">perfil</span><span class="p">.</span><span class="nf">excluir_webhook</span><span class="p">(</span><span class="s2">"chamada_fim"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"webhook default apagado com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='request-4'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                webhook
                <span class="required">string</span>
            </td>
            <td>
                Nome do webhook
             </td>
        </tr>
    </tbody>
</table>
<h4 id='response-7'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">string</span>
            </td>
            <td>
                Retorna dados null e mensagem de sucesso
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h2 id='alterar-um-webhook'>Alterar um webhook</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>PUT https://voice-app.zenvia.com/webhook/{nome_webhook}
</code></pre>
<blockquote>
<p><br/>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl <span class="s1">'https://voice-app.zenvia.com/webhook/chamada_fim'</span> <span class="se">\</span>
    -X PUT <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --header <span class="s1">'Access-Token: Seu_Token'</span> <span class="se">\</span>
    -d <span class="s1">'{"url" : "www.urlretorno.com.br"}'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'Seu_Token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">perfil</span><span class="o">-&gt;</span><span class="na">salvaWebhook</span><span class="p">(</span><span class="s2">"chamada_fim"</span><span class="p">,</span> <span class="s2">"www.urlretorno.com.br"</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"Seu_Token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">perfil</span><span class="p">.</span><span class="nx">salvaWebhook</span><span class="p">(</span><span class="s2">"chamada_fim"</span><span class="p">,</span> <span class="s2">"www.urlretorno.com.br"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">)</span><span class="x">

</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Webhook</span><span class="o">.</span><span class="n">Salva</span><span class="p">(</span><span class="s">"chamada_fim"</span><span class="p">,</span><span class="x"> </span><span class="s">"www.urlretorno.com.br"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">perfil</span><span class="o">.</span><span class="n">editar_webhook</span><span class="p">(</span><span class="s">"chamada_fim"</span><span class="p">,</span> <span class="s">"www.urlretorno.com.br"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"Seu_Token"</span><span class="o">);</span>
<span class="n">Perfil</span> <span class="n">perfil</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Perfil</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">perfil</span><span class="o">.</span><span class="na">salvaWebhook</span><span class="o">(</span><span class="s">"chamada_fim"</span><span class="o">,</span> <span class="s">"www.urlretorno.com.br"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">perfil</span><span class="p">.</span><span class="nf">salva_webhook</span><span class="p">(</span><span class="s2">"chamada_fim"</span><span class="p">,</span> <span class="s2">"www.urlretorno.com.br"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p><br/>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"webhook default atualizado com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Altera as informações de um webhook default, você precisa passar no corpo do request o JSON com a url que vai receber o webhook.</p>
<h4 id='request-5'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                nome
                <span class="required">string</span>
            </td>
            <td>
                Nome do webhook que vai ser alterado
             </td>
        </tr>
        <tr>
            <td>
                url
                <span class="required">string</span>
            </td>
            <td>
                Sua URL que vai receber o callback
             </td>
        </tr>
    </tbody>
</table>
<h4 id='response-8'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">string</span>
            </td>
            <td>
                Retorna dados null e mensagem de sucesso
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h1 id='bina'>Bina</h1>
<blockquote>
<p>Bina Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-app.zenvia.com/bina
</code></pre>
<p>Bina é o número identificador do telefone de origem e que aparece no telefone do destino.</p>

<p>Este endpoint permite que você cadastre e valide suas binas para utilizá-las em chamadas e torpedos de voz com o intuito de identificar ao destino que a ligação é sua, independente do número que estiver sendo utilizado para realizar a chamada.</p>

<p>Tendo a sua bina cadastrada e aprovada, você pode vincular Motivos VCall (Motivos de Chamadas Verificadas) a ela. </p>

<p>Chamadas Verificadas são um recurso para prevenir spam e golpes por telefone, ao mesmo tempo em que ajuda empresas legítimas a transmitirem mais confiança e segurança para os seus clientes.</p>

<p>Para utilizar as Chamadas Verificadas, é necessário fazer a contratação prévia da funcionalidade.</p>
<h3 id='objeto-bina'>Objeto Bina</h3>
<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero_telefone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+5548911111111"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-18T00:51:22.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fixo"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"confirmado"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"chamadas_verificadas"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span><span class="w">
            </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Estamos retornando a sua solicitação"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aprovado"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Definição do objeto Bina</p>
<h4 id='atributos'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro de Bina
             </td>
        </tr>
        <tr>
            <td>
                numero_telefone
                <span class="attribute">string</span>
            </td>
            <td>
                Número do telefone que será binado
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi criado o registro
            </td>
        </tr>
        <tr>
            <td>
                fixo
                <span class="attribute">boolean</span>
            </td>
            <td>
                Se o número da bina se refere a um telefone fixo
            </td>
        </tr>
        <tr>
            <td>
                confirmado
                <span class="attribute">boolean</span>
            </td>
            <td>
                Se está confirmado que o número de telefone da bina pertence a você
            </td>
        </tr>
        <tr>
            <td>
                chamadas_verificadas
                <span class="attribute">array</span>
            </td>
            <td>
               Um array de <a href="#objeto-motivo-vcall">Motivos VCall</a>
            </td>
        </tr>
    </tbody>
</table>
<h3 id='objeto-motivo-vcall'>Objeto Motivo VCall</h3>
<blockquote>
<p><br></p>

<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Estamos retornando a sua solicitação"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aprovado"</span><span class="w">
</span><span class="p">}</span><span class="w">   
</span></code></pre>
<p>Motivo VCall são os motivos das Chamadas Verificadas. Os Motivos Vcall são vinculados a bina e são cadastrados atráves do painel em <a href="https://voice-app.zenvia.com/painel/">voice-app.zenvia.com/painel/</a></p>

<p>Definição do objeto Motivo VCall</p>
<h4 id='atributos-2'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do motivo da Chamada Verificada
             </td>
        </tr>
        <tr>
            <td>
                motivo
                <span class="attribute">string</span>
            </td>
            <td>
                Motivo da Chamada Verificada que aparecerá no display do aparelho celular do destino
            </td>
        </tr>
        <tr>
            <td>
                status
                <span class="attribute">string</span>
            </td>
            <td>
                Informa qual o status do motivo da Chamada Verificada. Pode ser <b>Aprovado</b> | <b>Em análise</b> | <b>Recusado</b>
            </td>
        </tr>
    </tbody>
</table>
<h3 id='cadastrar-uma-bina'>Cadastrar uma Bina</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://voice-app.zenvia.com/bina
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
             -d <span class="s1">'{"telefone":"+5548988888888", "mensagem_sms": "Teste SMS", "mensagem_tts": "Teste TTS"}'</span> <span class="se">\</span>
             <span class="s1">'https://voice-app.zenvia.com/bina'</span>
</code></pre>
<p>Envia um número de telefone para que receba um código via SMS (celular) ou TTS (fixo). Nossa API identificará automaticamente o tipo de número (fixo ou móvel) e enviará a mensagem com o código.</p>
<h4 id='request'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                telefone
                <span class="required">Obrigatório</span>
                <span class="attribute">string</span>
            </td>
            <td>
                Número do telefone que irá receber a Chamada (fixo) ou SMS (móvel) com o código para validação
             </td>
        </tr>
        <tr>
            <td>
                mensagem_sms
                <span class="optional">Opcional</span>
                <span class="attribute">string</span>
            </td>
            <td>
                Mensagem customizada para validação da Bina para números móveis (SMS). Temos a opção de enviar uma mensagem customizada com formatação de String (%s)
            </td>
        </tr>
        <tr>
            <td>
                mensagem_tts
                <span class="optional">Opcional</span>
                <span class="attribute">string</span>
            </td>
            <td>
                Mensagem customizada para validação da Bina para números fixos (TTS). Temos a opção de enviar uma mensagem customizada com formatação de String (%s)
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response'>Response</h4>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Código enviado com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                Null
                <span class="attribute">Null</span>
            </td>
            <td>
                O retorno é nulo, apenas uma mensagem informando que o código foi enviado para o número fornecido
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br></p>
<h3 id='validar-uma-bina'>Validar uma Bina</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/bina
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-app.zenvia.com/bina?codigo=1234&amp;telefone=+5548988888888'</span>
</code></pre>
<p>Você deve informar o número do telefone e o código recebido no celular (SMS) ou telefone (TTS) informados no método POST, para realizarmos a validação</p>
<h4 id='request-2'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                telefone
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Número do telefone que será validado
             </td>
        </tr>
        <tr>
            <td>
                codigo
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Código que será validado
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response-2'>Response</h4>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Verificação realizada com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"valido"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                valido
                <span class="attribute">booleano</span>
            </td>
            <td>
               Retorna true se o código e o número conferem. Caso contrário retorna false
             </td>
        </tr>
        <tr>
            <td>
                id
                <span class="attribute">Integer</span>
            </td>
            <td>
               Retorna o ID da bina cadastrada
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h3 id='buscar-uma-bina'>Buscar uma Bina</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/bina/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\ </span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-app.zenvia.com/bina/1'</span>
</code></pre>
<p>Após a criação de uma bina, você poderá realizar a busca do registro pelo seu ID</p>
<h4 id='request-3'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                ID
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID da Bina para recuperar os dados
             </td>
        </tr>
    </tbody>
</table>
<h4 id='response-3'>Response</h4>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero_telefone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+5548988888888"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-18T00:51:22.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fixo"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"confirmado"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"chamadas_verificadas"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2678</span><span class="p">,</span><span class="w">
            </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Estamos retornando sua solicitação de contato"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aprovado"</span><span class="w">
       </span><span class="p">},</span><span class="w">
       </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2998</span><span class="p">,</span><span class="w">
            </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Estamos retornando sua solicitação de contato"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aprovado"</span><span class="w">
       </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
               Retorna o objeto <a href="#objeto-bina">Bina</a>
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h3 id='deletar-uma-bina'>Deletar uma Bina</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>DELETE https://voice-app.zenvia.com/bina/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X DELETE --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\ </span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-app.zenvia.com/bina/1'</span>
</code></pre>
<p>Apaga o número de telefone (Bina) cadastrado na Conta. Você deve informar o ID da bina que deseja remover.</p>

<p>Caso a Bina esteja vinculada ao Caller ID Default ou à um motivo de Chamada Verificada, será necessário desvincular via painel de voz, antes de deletar.</p>
<h4 id='request-4'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                ID
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID da Bina a ser removida
             </td>
        </tr>
    </tbody>
</table>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bina removida com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h3 id='relatorio-bina'>Relatório Bina</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/bina/relatorio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\ </span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-app.zenvia.com/bina/relatorio'</span>
</code></pre>
<p>Busca os telefones (Bina) cadastrados na Conta</p>
<h4 id='response-4'>Response</h4>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
            </span><span class="s2">"numero_telefone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+554832830151"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fixo"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"confirmado"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"chamadas_verificadas"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Estamos retornando sua solicitação de contato"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aprovado"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">99</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Estamos retornando sua solicitação de contato"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aprovado"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">array</span>
            </td>
            <td>
               Retorna um array de objetos <a href="#objeto-bina">Bina</a>
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h1 id='sms'>SMS</h1>
<blockquote>
<p>SMS Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-app.zenvia.com/sms
</code></pre>
<aside class="notice">
Este endpoint foi descontinuado e não receberá novas atualizações e melhorias. Para novas implementações de SMS, acesse:
<a href="https://zenvia.github.io/zenvia-openapi-spec/v2/#tag/SMS">https://zenvia.github.io/zenvia-openapi-spec/v2/#tag/SMS</a>
</aside>

<p>O <strong>SMS</strong> permite que você envie mensagens de texto pela nossa API. Você precisa informar
um número de destino e uma mensagem a ser enviada. Existem algumas opções adicionais
que permitem aguardar uma resposta do usuário, enviar multi sms ou agendar uma 
data de envio por exemplo.</p>
<h3 id='objeto-sms'>Objeto Sms</h3>
<blockquote>
<p><br></p>
</blockquote>

<aside class="notice">
Este endpoint foi descontinuado e não receberá novas atualizações e melhorias. Para novas implementações de SMS, acesse:
<a href="https://zenvia.github.io/zenvia-openapi-spec/v2/#tag/SMS">https://zenvia.github.io/zenvia-openapi-spec/v2/#tag/SMS</a>
</aside>

<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48111111111"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-18T00:51:22.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Oi, tudo bem?"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.09</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status_envio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"enviada"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-19T00:51:36.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"respostas"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sms_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tudo bem, e voce?"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-31T22:46:42-03:00"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Definição do objeto Sms</p>
<h4 id='atributos'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro de SMS.
             </td>
        </tr>
        <tr>
            <td>
                numero_destino
                <span class="attribute">string</span>
            </td>
            <td>
                Número do destinatário (móvel) que será enviado o SMS.
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi criado o registro
            </td>
        </tr>
        <tr>
            <td>
                mensagem
                <span class="attribute">string</span>
            </td>
            <td>
                Mensagem que será enviada para o número.
            </td>
        </tr>
        <tr>
            <td>
                preco
                <span class="attribute">float</span>
            </td>
            <td>
                Valor cobrado pelo envio
            </td>
        </tr>
        <tr>
            <td>
                status
                <span class="attribute">string</span>
            </td>
            <td>
                Status do registro:
                <ul>
                    <li>enviada: enviado para processamento</li>
                    <li>erro: erro no processamento</li>
                    <li>entregue: entregue para o número de destino</li>
                    <li>aguardando: aguardando o envio para processamento</li>
                    <li>em análise:  conteúdo da mensagem em análise</li>
                    <li>bloqueado: mensagem bloqueada por conteúdo proibido</li>
                </ul> 
            </td>
        </tr>
        <tr>
            <td>
                data_status
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que o status foi alterado 
            </td>
        </tr>
        <tr>
            <td>
                resposta_usuario
                <span class="attribute">boolean</span>
            </td>
            <td>
                Aguarda a resposta do usuário: sim ou não
            </td>
        </tr>
        <tr>
            <td>
                respostas
                <span class="attribute">array</span>
            </td>
            <td>
                Array contendo os objetos de <a href="#objeto-resposta-sms">resposta</a>
            </td>
        </tr>
        <tr>
            <td>
                tags
                <span class="attribute">string</span>
            </td>
            <td>
                String com a tag enviado no momento do post.
            </td>
        </tr>
    </tbody>
</table>
<h3 id='objeto-resposta-sms'>Objeto Resposta SMS</h3>
<blockquote>
<p><br></p>
</blockquote>

<aside class="notice">
Este endpoint foi descontinuado e não receberá novas atualizações e melhorias. Para novas implementações de SMS, acesse:
<a href="https://zenvia.github.io/zenvia-openapi-spec/v2/#tag/SMS">https://zenvia.github.io/zenvia-openapi-spec/v2/#tag/SMS</a>
</aside>

<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sms_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tudo bem, e voce?"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-31T22:46:42-03:00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Definição do objeto Resposta SMS</p>
<h4 id='atributos-2'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro de Resposta.
             </td>
        </tr>
        <tr>
            <td>
                sms_id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do SMS vinculado a resposta.
             </td>
        </tr>
        <tr>
            <td>
                resposta
                <span class="attribute">string</span>
            </td>
            <td>
                Texto com a resposta do usuário
            </td>
        </tr>
        <tr>
            <td>
                data_resposta
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi respondido pelo usuário
            </td>
        </tr>
    </tbody>
</table>
<h3 id='enviar-um-sms'>Enviar um SMS</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://voice-app.zenvia.com/sms
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
             -d <span class="s1">'{"numero_destino":"48111111111","mensagem":"Ola tudo bem?"}'</span> <span class="se">\</span>
             <span class="s1">'https://voice-app.zenvia.com/sms'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">sms</span><span class="o">-&gt;</span><span class="na">enviar</span><span class="p">(</span><span class="s1">'48111111111'</span><span class="p">,</span> <span class="s1">'Ola tudo bem?'</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">sms</span><span class="p">.</span><span class="nx">enviar</span><span class="p">(</span><span class="s2">"48111111111"</span><span class="p">,</span> <span class="s2">"Ola tudo bem?"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">SMS</span><span class="o">.</span><span class="n">Enviar</span><span class="p">(</span><span class="s">"4811111111"</span><span class="p">,</span><span class="x"> </span><span class="s">"Ola tudo bem?"</span><span class="p">,</span><span class="x"> </span><span class="no">false</span><span class="p">,</span><span class="x"> </span><span class="no">false</span><span class="p">,</span><span class="x"> </span><span class="no">nil</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">sms</span><span class="o">.</span><span class="n">enviar</span><span class="p">(</span><span class="s">"48111111111"</span><span class="p">,</span> <span class="s">"Ola tudo bem?"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>

<span class="n">Sms</span> <span class="n">sms</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Sms</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">sms</span><span class="o">.</span><span class="na">enviar</span><span class="o">(</span><span class="s">"48111111111"</span><span class="o">,</span> <span class="s">"Ola tudo bem?"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">sms</span><span class="p">.</span><span class="nf">enviar</span><span class="p">(</span><span class="s2">"48111111111"</span><span class="p">,</span> <span class="s2">"Ola tudo bem?"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sms criado com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4921</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<aside class="notice">
Este endpoint foi descontinuado e não receberá novas atualizações e melhorias. Para novas implementações de SMS, acesse:
<a href="https://zenvia.github.io/zenvia-openapi-spec/v2/#tag/SMS">https://zenvia.github.io/zenvia-openapi-spec/v2/#tag/SMS</a>
</aside>

<p>Para o envio de SMS é necessário informar um número móvel válido e uma mensagem de texto.</p>
<h4 id='request'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                numero_destino
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Número do telefone móvel que irá receber a mensagem de texto.
             </td>
        </tr>
        <tr>
            <td>
                mensagem
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Mensagem de texto para ser enviada com limite de 160 caracteres e não aceita acentos.
            </td>
        </tr>
        <tr>
            <td>
                resposta_usuario
                <span class="optional">
                    Opcional,
                    <span>default <b>false</b></span>
                </span>
            </td>
            <td>
                Aguardar uma resposta do destinário.
            </td>
        </tr>
        <tr>
            <td>
                multi_sms
                <span class="optional">
                    Opcional 
                    <span>default <b>false</b></span>
                </span>
            </td>
            <td>
                Aceita SMS com mais de 160 caracteres, máximo é de 16.000 caracteres. Envia multiplos SMSs para o mesmo número (um a cada 160 caracteres) e retorna array de IDs.
            </td>
        </tr>
        <tr>
            <td>
                tags
                <span class="optional">
                    Opcional 
                </span>
            </td>
            <td>
                Você pode enviar informações em texto no campo tags com até 50 caracteres.
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="optional">
                    Opcional
                    <span>default <b>null</b></span>
                </span>
            </td>
            <td>
                Informe uma data e hora para agendar a entrega do SMS. vazio = liga imediatamente. Data e Hora no formato UTC.
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer/array</span>
            </td>
            <td>
                A resposta pode ser um Objeto com o ID do SMS, ou um array com vários IDs caso seja setado para o envio de multi_sms = true.
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h3 id='buscar-sms'>Buscar SMS</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/sms/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="s1">'https://voice-app.zenvia.com/sms/1'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">sms</span><span class="o">-&gt;</span><span class="na">buscaSms</span><span class="p">(</span><span class="mi">123</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">sms</span><span class="p">.</span><span class="nx">buscar</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">SMS</span><span class="o">.</span><span class="n">Buscar</span><span class="p">(</span><span class="m">123</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">sms</span><span class="o">.</span><span class="n">get_by_id</span><span class="p">(</span><span class="s">"123"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>

<span class="n">Sms</span> <span class="n">sms</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Sms</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">sms</span><span class="o">.</span><span class="na">buscar</span><span class="o">(</span><span class="mi">123</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">sms</span><span class="p">.</span><span class="nf">buscar</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"status"</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span><span class="w">
   </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="s2">"motivo"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
   </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"dados"</span><span class="p">:{</span><span class="w">  
      </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">25536757</span><span class="p">,</span><span class="w">
      </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="s2">"48933445566"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="s2">"2019-05-29T17:49:00.000-03:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="s2">"Ola tudo bem?"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"preco"</span><span class="p">:</span><span class="mf">0.045</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status_envio"</span><span class="p">:</span><span class="s2">"enviada"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data_status"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"respostas"</span><span class="p">:[</span><span class="w">  

      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"tags"</span><span class="p">:</span><span class="s2">"informações adicionais"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<aside class="notice">
Este endpoint foi descontinuado e não receberá novas atualizações e melhorias. Para novas implementações de SMS, acesse:
<a href="https://zenvia.github.io/zenvia-openapi-spec/v2/#tag/SMS">https://zenvia.github.io/zenvia-openapi-spec/v2/#tag/SMS</a>
</aside>

<p>Após o envio de mensagens de SMS você poderá realizar a busca do registro pelo seu ID.</p>
<h5 id='request-2'>Request</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                ID
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID do SMS para recuperar os dados
             </td>
        </tr>
    </tbody>
</table>
<h5 id='response-2'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto <a href="#objeto-sms">SMS</a>
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h3 id='relatorio-sms'>Relatório SMS</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/sms/relatorio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-app.zenvia.com/sms/relatorio?data_inicio=2018-03-14&amp;data_fim=2018-03-15'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">sms</span><span class="o">-&gt;</span><span class="na">relatorio</span><span class="p">(</span><span class="nv">$dataInicial</span><span class="p">,</span> <span class="nv">$dataFinal</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">sms</span><span class="p">.</span><span class="nx">relatorio</span><span class="p">(</span><span class="nx">data_inicial</span><span class="p">,</span> <span class="nx">data_final</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">SMS</span><span class="o">.</span><span class="n">Relatorio</span><span class="o">.</span><span class="n">Gerar</span><span class="p">(</span><span class="n">dataInicial</span><span class="p">,</span><span class="x"> </span><span class="n">dataFinal</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">sms</span><span class="o">.</span><span class="n">get_relatorio</span><span class="p">(</span><span class="s">"2017-12-08T11:00:32-02:00"</span><span class="p">,</span> <span class="s">"2017-12-08T11:00:32-02:00"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>

<span class="n">Sms</span> <span class="n">sms</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Sms</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">sms</span><span class="o">.</span><span class="na">relatorio</span><span class="o">(</span><span class="n">dataInicial</span><span class="o">,</span> <span class="n">dataFinal</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">sms</span><span class="p">.</span><span class="nf">relatorio</span><span class="p">(</span><span class="n">data_inicial</span><span class="p">,</span> <span class="n">data_final</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">151</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4899999999"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-30T23:34:08-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_envio"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mensagem de teste"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"enviada"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"respostas"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">204</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4899999999"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-31T22:39:36-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_envio"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Oi, tudo bem?"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.05</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"enviada"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"respostas"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tudo bem, e voce?"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"data_resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-31T22:46:42-03:00"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<aside class="notice">
Este endpoint foi descontinuado e não receberá novas atualizações e melhorias. Para novas implementações de SMS, acesse:
<a href="https://zenvia.github.io/zenvia-openapi-spec/v2/#tag/SMS">https://zenvia.github.io/zenvia-openapi-spec/v2/#tag/SMS</a>
</aside>

<p>Você pode consultar os SMSs enviados posteriormente. Basta informar o período desejado para que a API retorne os dados.</p>
<h4 id='request-3'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_inicio
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data inicial para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                data_fim
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data final para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                posicao
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Posição para seleção dos dados do relatório - começa na posição 0. Também chamado de offset.            
            </td>
        </tr>
        <tr>
            <td>
                limite
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Quantidade de chamadas a retornar na consulta. O limite padrão é 100 e o máximo é 200.
            </td>
        </tr> 
    </tbody>
</table>
<h4 id='response-3'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                relatorio
                <span class="attribute">array</span>
            </td>
            <td>
                Retorna um array com objetos <a href="#objeto-sms">SMS</a>
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br></p>
<h1 id='tts-leitura-de-texto'>TTS Leitura de Texto</h1>
<blockquote>
<p><b>TTS Endpoint</b></p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-app.zenvia.com/tts
</code></pre>
<p>A funcionalidade de <strong>TTS</strong> permite que você nos envie uma mensagem de texto e nosso torpedo de voz irá tranformar em áudio.</p>

<p>Assim, quando o número destino atende o mesmo irá escutar uma voz falando a mensagem que você escreveu.</p>

<p>Você poderá enviar algumas opções adicionais, tais como aguardar uma resposta do usuário, gravar o áudio da ligação ou colocar um número bina que aparecerá no momento da ligação.</p>
<h2 id='objeto-tts'>Objeto TTS</h2>
<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345678</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48912341234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-22T09:18:44.000-03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-22T09:18:44.000-03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movel"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:22"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:01:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:02"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.35</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Olá, se você gostaria de utilizar a zenvia, digite 1."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://voice-app.zenvia.com/rec/123456789"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+5548988888888"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"chamada_verificada"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo_vcall"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Texto do motivo"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Definição do objeto TTS</p>
<h4 id='atributos'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro do TTS.
             </td>
        </tr>
        <tr>
            <td>
                numero_destino
                <span class="attribute">string</span>
            </td>
            <td>
                Número do destinatário que foi enviado o TTS.
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi criado o registro.
            </td>
        </tr>
        <tr>
            <td>
                data_inicio
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi iniciado o processamento do TTS.
            </td>
        </tr>
        <tr>
            <td>
                tipo
                <span class="attribute">string</span>
            </td>
            <td>
                Tipo de telefone: fixo, móvel ou ramal.
            </td>
        </tr>
        <tr>
            <td>
                status
                <span class="attribute">string</span>
            </td>
            <td>
                Status do registro.
            </td>
        </tr>
        <tr>
            <td>
                duracao_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração total em <i>segundos</i> da chamada, desde o início do processamento.
            </td>
        </tr>
        <tr>
            <td>
                duracao
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração total da chamada desde o início do processamento
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em <i>segundos</i> para fins de cobrança.
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração considerada para fins de cobrança.
            </td>
        </tr>
                <tr>
            <td>
                duracao_falada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em <i>segundos</i> da chamada desde que o destino atendeu.
            </td>
        </tr>
        <tr>
            <td>
                duracao_falada
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração da chamada desde que o destino atendeu.
            </td>
        </tr>
        <tr>
            <td>
                preco
                <span class="attribute">float</span>
            </td>
            <td>
                Valor cobrado pela chamada.
            </td>
        </tr>
        <tr>
            <td>
                mensagem
                <span class="attribute">float</span>
            </td>
            <td>
                Mensagem em forma de texto que você nos enviou.
            </td>
        </tr>
        <tr>
            <td>
                resposta_usuario
                <span class="attribute">boolean</span>
            </td>
            <td>
                Valor enviado identificando se aceita a resposta do usuário.¹
            </td>
        </tr>
        <tr>
            <td>
                resposta
                <span class="attribute">string</span>
            </td>
            <td>
                Se você enviou resposta_usuario = true, quando o usuário executa alguma ação no teclado númerico do dispositivo, o valor será exibido neste campo (DTMF).¹
            </td>
        </tr>
        <tr>
            <td>
                motivo_desconexao
                <span class="attribute">string</span>
            </td>
            <td>
                Aqui é informado o motivo do derrubamento da ligação, você pode ver mais em <a href="#codigos-de-motivos">motivos de desconecção</a>
            </td>
        </tr>
        <tr>
            <td>
                url_gravacao
                <span class="attribute">string</span>
            </td>
            <td>
                Quando enviado a opção Gravar Áudio = true, este campo disponibilizará uma URL contendo o áudio da gravação da ligação.
            </td>
        </tr>
        <tr>
              <td>
                  bina
                  <span class="attribute">string</span>
              </td>
              <td>
                    Número de telefone que aparece no identificador de quem recebe a chamada
              </td>
          </tr>
        <tr>
         <tr>
              <td>
                  chamada_verificada
                  <span class="attribute">boolean</span>
              </td>
              <td>
                    Se o tts foi enviado com chamada verificada
              </td>
          </tr>
        <tr>
            <td>
                motivo_vcall
                <span class="attribute">objeto</span>
            </td>
            <td>
                Objeto do tipo <a href="#objeto-motivo-vcall">Motivos VCall</a>
            </td>
        </tr>
    </tbody>
</table>

<p><br>
¹ Após o usuário digitar algo no teclado númerico a ligação sera derrubada.</p>
<h2 id='criar-um-tts'>Criar um TTS</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://voice-app.zenvia.com/tts
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
             -d <span class="s1">'{"numero_destino":"+554888881111", "bina": "+554811111111", "mensagem":"Olá", "chamada_verificada": true, "motivo_vcall": 57}'</span> <span class="se">\</span>
             <span class="s1">'https://voice-app.zenvia.com/tts'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">tts</span><span class="o">-&gt;</span><span class="na">enviar</span><span class="p">(</span><span class="s1">'4811111111'</span><span class="p">,</span> <span class="s1">'Olá, essa é a minha mensagem'</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">tts</span><span class="p">.</span><span class="nx">enviar</span><span class="p">(</span><span class="s2">"4811111111"</span><span class="p">,</span> <span class="s2">"Olá, essa é a minha mensagem"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Tts</span><span class="o">.</span><span class="n">Enviar</span><span class="p">(</span><span class="s">"4811111111"</span><span class="p">,</span><span class="x"> </span><span class="s">"Olá, essa é a minha mensagem"</span><span class="p">,</span><span class="x"> </span><span class="no">false</span><span class="p">,</span><span class="x"> </span><span class="s">""</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">tts</span><span class="o">.</span><span class="n">enviar</span><span class="p">(</span><span class="s">"4811111111"</span><span class="p">,</span> <span class="s">"Olá, essa é a minha mensagem"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Tts</span> <span class="n">tts</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Tts</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">tts</span><span class="o">.</span><span class="na">enviar</span><span class="o">(</span><span class="s">"4811111111"</span><span class="o">,</span> <span class="s">"Olá, essa é a minha mensagem"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">tts</span><span class="p">.</span><span class="nf">enviar</span><span class="p">(</span><span class="s2">"4811111111"</span><span class="p">,</span> <span class="s2">"Olá, essa é a minha mensagem"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tts criado com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='request'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                numero_destino
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Número do telefone que irá receber a chamada, formato DDD + Número. Exemplo: 4832830151.
             </td>
        </tr>
        <tr>
            <td>
                mensagem
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Mensagem que será falada quando o número destino atender a ligação. Exemplo: Olá, essa é a minha mensagem.
            </td>
        </tr>
        <tr>
            <td>
                resposta_usuario
                <span class="optional">Opcional</span>
            </td>
            <td>
                Aguardar uma resposta do destinatário.
            </td>
        </tr>
        <tr>
            <td>
                tipo_voz
                <span class="optional">Opcional</span>
            </td>
            <td>
                Idioma em que a mensagem deve ser lida e também o tipo da voz¹
            </td>
        </tr>
        <tr>
            <td>
                bina
                <span class="optional">Opcional</span>
            </td>
            <td>
                Número de telefone que aparecerá no identificador de quem receber a chamada, formato DDD + Número. Exemplo: 4832830151
            </td>
        </tr>
        <tr>
            <td>
                gravar_audio
                <span class="optional">Opcional</span>
            </td>
            <td>
                Gravar a ligação
            </td>
        </tr>
        <tr>
            <td>
                detecta_caixa
                <span class="optional">Opcional</span>
            </td>
            <td>
                Caso seja identificado caixa postal a ligação será derrubada antes que inicie a mensagem para a caixa postal. Esse serviço tem um custo adicional.
            </td>
        </tr>
        <tr>
            <td>
                bina_inteligente
                <span class="optional">Opcional</span>
            </td>
            <td>
                Quando o valor for true, ao enviar o torpedo o número de telefone que aparecerá para o destino será um número com DDD de sua região. Veja <a href="https://centraltotalvoice.freshdesk.com/support/solutions/articles/35000132235-bina-inteligente-torpedo-de-voz">DDDs disponíveis</a>. 
            </td>
        </tr>
        <tr>
            <td>
                chamada_verificada
                <span class="optional">Opcional</span>
            </td>
            <td>
                 Um valor booleano para identificar se o tts terá chamada verificada
            </td>
        </tr>
         <tr>
            <td>
                motivo_vcall
                <span class="optional">Opcional</span>
            </td>
            <td>
                Id do motivo vcall da chamada verificada
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Retorna o ID do TTS criado
             </td>
        </tr>
    </tbody>
</table>

<p>¹ Lista de vozes disponíveis.
<ul>
    <li>br-Camila</li>
    <li>br-Vitoria</li>
    <li>br-Ricardo</li>
    <li>en-Joey</li>
    <li>en-Joanna</li>
    <li>fre-Celine</li>
    <li>fre-Mathieu</li>
    <li>ger-Vicki</li>
    <li>ger-Hans</li>
    <li>ita-Carla</li>
    <li>ita-Giorgio</li>
    <li>jap-Mizuki</li>
    <li>pol-Jan</li>
    <li>rus-Tatyana</li>
    <li>rus-Maxim</li>
    <li>esp-Conchita</li>
    <li>esp-Enrique</li>
</ul> </p>
<h2 id='buscar-tts'>Buscar TTS</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/tts/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="s1">'https://voice-app.zenvia.com/tts/ID-Audio'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">tts</span><span class="o">-&gt;</span><span class="na">buscaAudio</span><span class="p">(</span><span class="nx">id</span><span class="o">-</span><span class="nx">audio</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">tts</span><span class="p">.</span><span class="nx">buscar</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">tts</span><span class="o">.</span><span class="n">Buscar</span><span class="p">(</span><span class="m">123</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">tts</span><span class="o">.</span><span class="n">get_by_id</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Tts</span> <span class="n">tts</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Tts</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">tts</span><span class="o">.</span><span class="na">buscar</span><span class="o">(</span><span class="mi">123</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">tts</span><span class="p">.</span><span class="nf">enviar</span><span class="p">(</span><span class="s2">"NUMERO-DESTINO"</span><span class="p">,</span> <span class="s2">"MENSAGEM"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123453</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-09T10:59:42.000-03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-09T10:59:43.000-03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movel"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mensagem de teste"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16. normal"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+5548988888888"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"chamada_verificada"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo_vcall"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Texto do motivo"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Após o envio do TTS você poderá realizar a busca do registro pelo seu ID.</p>
<h5 id='request-2'>Request</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                ID
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID do TTS para recuperar os dados
             </td>
        </tr>
    </tbody>
</table>
<h5 id='response-2'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto <a href="#objeto-tts">TTS</a>
             </td>
        </tr>
    </tbody>
</table>
<h2 id='relatorio-tts'>Relatório TTS</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/tts/relatorio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
            <span class="s1">'https://voice-app.zenvia.com/tts/relatorio?data_inicio=2018-03-14&amp;data_fim=2018-03-15'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">tts</span><span class="o">-&gt;</span><span class="na">relatorio</span><span class="p">(</span><span class="nv">$dataInicial</span><span class="p">,</span> <span class="nv">$dataFinal</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">tts</span><span class="p">.</span><span class="nx">relatorio</span><span class="p">(</span><span class="nx">data_inicial</span><span class="p">,</span> <span class="nx">data_final</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">tts</span><span class="o">.</span><span class="n">Relatorio</span><span class="o">.</span><span class="n">Gerar</span><span class="p">(</span><span class="n">dataInicial</span><span class="p">,</span><span class="x"> </span><span class="n">dataFinal</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">tts</span><span class="o">.</span><span class="n">get_relatorio</span><span class="p">(</span><span class="n">data_inicio</span><span class="p">,</span> <span class="n">data_fim</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Tts</span> <span class="n">tts</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Tts</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">audio</span><span class="o">.</span><span class="na">relatorio</span><span class="o">(</span><span class="n">dataInicial</span><span class="o">,</span> <span class="n">dataFinal</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">tts</span><span class="p">.</span><span class="nf">enviar</span><span class="p">(</span><span class="s2">"NUMERO-DESTINO"</span><span class="p">,</span> <span class="s2">"MENSAGEM"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345679</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-09T10:59:42.000-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-09T10:59:43.000-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movel"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Olá, tudo bem?"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16. normal"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+5548988888888"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"chamada_verificada"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"motivo_vcall"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
            </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Texto do motivo"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">13246578</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-09T15:33:01.000-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-09T15:33:01.000-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movel"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ocupado"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">33</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:33"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Olá esse é uma mensagem enviada por tts"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17. ocupado"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+5548988888888"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"chamada_verificada"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"motivo_vcall"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Você pode consultar os TTSs enviados posteriormente. Basta informar o período desejado para que a API retorne os dados.</p>
<h4 id='request-3'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_inicio
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data inicial para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                data_fim
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data final para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                posicao
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Posição para seleção dos dados do relatório - começa na posição 0. Também chamado de offset.            
            </td>
        </tr>
        <tr>
            <td>
                limite
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Quantidade de chamadas a retornar na consulta. O limite padrão é 100 e o máximo é 200.
            </td>
        </tr> 

    </tbody>
</table>
<h4 id='response-3'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                relatorio
                <span class="attribute">array</span>
            </td>
            <td>
                Retorna um array com objetos <a href="#objeto-audio">TTS</a>
             </td>
        </tr>
    </tbody>
</table>

<p><b>Exemplo: </b> Se você tiver um relatório com 350 TTSs, na primeira página será retornado 200 TTSs. Para pegar os dados da segunda página o valor da posição deve ser 201.</p>

<p><br>
<br></p>
<h1 id='verificacao-2fa'>Verificação (2FA)</h1>
<blockquote>
<p><b>Verificação (2FA) Endpoint</b></p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-app.zenvia.com/verificacao
</code></pre>
<p>A funcionalidade de <strong>verificação</strong> ou Two Factor Authentication(2FA), envia um código para um número de telefone e depois você pode verificar se o código informado pelo usuário é válido.</p>

<p>Esse código(apenas números) pode ser enviado via SMS(formato de texto), ou então TTS onde você nos passa a mensagem que o usuário que atender a ligação irá ouvir.</p>

<p><b>Mensagem enviada:</b> Seu código de verificação <em>nome_produto</em> é: 1234</p>

<p><b>Observação:</b> O código enviado para o número de telefone expira em 1 hora.</p>
<h2 id='enviar-um-codigo'>Enviar um código</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://voice-app.zenvia.com/verificacao
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
             -d <span class="s1">'{"numero_destino":"4811111111","nome_produto":"ZenAPI de Voz","tts":"true"}'</span> <span class="se">\</span>
             <span class="s1">'https://voice-app.zenvia.com/verificacao'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">verificacao</span><span class="o">-&gt;</span><span class="na">enviar</span><span class="p">(</span><span class="s1">'4811111111'</span><span class="p">,</span> <span class="s1">'ZenAPI de Voz'</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">verificacao</span><span class="p">.</span><span class="nx">enviar</span><span class="p">(</span><span class="s2">"4811111111"</span><span class="p">,</span> <span class="s2">"ZenAPI de Voz"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">verificacao</span><span class="o">.</span><span class="n">enviar</span><span class="p">(</span><span class="s">"4811111111"</span><span class="p">,</span><span class="x"> </span><span class="s">"ZenAPI de Voz"</span><span class="p">,</span><span class="x"> </span><span class="no">false</span><span class="p">,</span><span class="x"> </span><span class="s">""</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">verificacao</span><span class="o">.</span><span class="n">enviar</span><span class="p">(</span><span class="s">"4811111111"</span><span class="p">,</span> <span class="s">"ZenAPI de Voz"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Verificacao</span> <span class="n">verificacao</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Verificacao</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">verificacao</span><span class="o">.</span><span class="na">enviar</span><span class="o">(</span><span class="s">"4811111111"</span><span class="o">,</span> <span class="s">"ZenAPI de Voz"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">verificacao</span><span class="p">.</span><span class="nf">enviar</span><span class="p">(</span><span class="s2">"4811111111"</span><span class="p">,</span> <span class="s2">"ZenAPI de Voz"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='request'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                numero_destino
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Número do telefone que irá receber o código, via sms ou tts.
             </td>
        </tr>
        <tr>
            <td>
                nome_produto
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Nome do produto que será substituído na mensagem. 
            </td>
        </tr>
        <tr>
            <td>
                tamanho
                <span class="optional">Opcional</span>
            </td>
            <td>
                Tamanho do código que será enviado. Mínimo 4 e máximo 10, o código possui apenas números. Caso não seja informado, é utilizado o valor default = 4.
            </td>
        </tr>
        <tr>
            <td>
                tts
                <span class="optional">Opcional</span>
            </td>
            <td>
                Para que o código de verificação seja enviado por uma ligação (TTS) ao invés de um SMS, basta enviar esse parâmetro como "true". Quando o parâmetro não for enviado, é considerado o valor default "false".
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Retorna o ID de verificação do código enviada.
             </td>
        </tr>
    </tbody>
</table>
<h2 id='consultar-codigo'>Consultar código</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/verificacao
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="s1">'https://voice-app.zenvia.com/verificacao/?id=1234&amp;pin=36355'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">Em</span> <span class="nx">Constru</span><span class="err">çã</span><span class="nx">o</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="nx">Em</span> <span class="nx">Constru</span><span class="err">çã</span><span class="nx">o</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">Em</span><span class="x"> </span><span class="n">Construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">Em</span> <span class="n">Constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Em</span> <span class="n">Constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="no">Em</span> <span class="no">Constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"resultado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"valido"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Após o envio do código, você pode pedir para o usuário inserir na sua platarforma o código recebido para que você possa validar o número dele.</p>
<h5 id='request-2'>Request</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID da verificação enviada
             </td>
        </tr>
        <td>
                pin
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Código informado
             </td>
        </tr>
    </tbody>
</table>
<h5 id='response-2'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o 'resultado' da verificação, o resultado pode ser 'válido' ou 'inválido'
             </td>
        </tr>
    </tbody>
</table>
<h1 id='webphone'>Webphone</h1>
<blockquote>
<p>Webphone End Point</p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-app.zenvia.com/webphone
</code></pre>
<p>Webphone é uma maneira de se conectar a um Ramal diretamente por um computador, todo ramal tem uma URL na qual
pode acessar o Webphone sem precisar se conectar a plataforma da ZenAPI, muito utilizado em integrações
para implementar ligações diretamente em um software ou sistema de uma maneira fácil.</p>

<p>Há três tipos de Webphone:</p>

<ul>
<li><strong>Floating</strong>: Quando você vai abrir o Webphone em um popup;</li>
<li><strong>Embedded</strong>: Se o Webphone ficará embutido no site / sistema;</li>
<li><strong>Hidden</strong>: Sem interface, apenas funções Javascript.</li>
</ul>

<p>Um webphone é vinculado diretamente a um Ramal.</p>
<h2 id='consultar-url-webphone'>Consultar URL Webphone</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-app.zenvia.com/webphone
</code></pre>
<p>Consulta a URL do Webphone de um determinado Ramal enviando os parâmetros para pré-configuração do webphone, a URL
gerada vem com um código único para acesso daquele Webphone sem ser necessário login na plataforma da ZenAPI.</p>

<blockquote>
<p><br/>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl <span class="s1">'https://voice-app.zenvia.com/webphone?ramal=4000'</span> <span class="se">\</span>
    -X GET <span class="se">\</span>
    --header <span class="s1">'Access-Token: Seu_Token'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'Seu_Token'</span><span class="p">);</span>

<span class="nv">$webphone_dados</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">"ramal"</span> <span class="o">=&gt;</span> <span class="mi">4000</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">central</span><span class="o">-&gt;</span><span class="na">webphone</span><span class="p">(</span><span class="nv">$webphone_dados</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"Seu_Token"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">webphone_dados</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="na">ramal</span><span class="p">:</span> <span class="mi">4000</span>
<span class="p">};</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">central</span><span class="p">.</span><span class="nx">webphone</span><span class="p">(</span><span class="nx">webphone_dados</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">)</span><span class="x">

</span><span class="n">m</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="k">interface</span><span class="p">{}]</span><span class="k">interface</span><span class="p">{}{}</span><span class="x">
</span><span class="n">m</span><span class="p">[</span><span class="s">"ramal"</span><span class="p">]</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="m">4000</span><span class="x">

</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Ramal</span><span class="o">.</span><span class="n">Webphone</span><span class="p">(</span><span class="n">m</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">,</span> <span class="s">'voice-app.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">webphone</span><span class="o">.</span><span class="n">get_webphone</span><span class="p">(</span><span class="s">"floating"</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">4000</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"Seu_Token"</span><span class="o">);</span>
<span class="n">Central</span> <span class="n">central</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Central</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">webphone_dados</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">webphone_dados</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"ramal"</span><span class="o">,</span> <span class="mi">4000</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">central</span><span class="o">.</span><span class="na">webphone</span><span class="o">(</span><span class="n">webphone_dados</span><span class="o">);</span>
</code></pre>
<blockquote>
<p><br/>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"url webphone"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://voice-app.zenvia.com/w3/?key=XXXXXXXXXXXXXXXXXXXXXX83b3420&amp;pop=1"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p><br/><br/><br/></p>
</blockquote>
<h5 id='request-query'>Request Query</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id_ramal
                <span class="optional">Opcional</span>
            </td>
            <td>
               Identificador único do Ramal que você deseja usar no Webphone, obrigatório caso não for informar o campo ramal.
            </td>
        </tr>
        <tr>
            <td>
                ramal
                <span class="optional">Opcional</span>
            </td>
            <td>
               Número do Ramal que você deseja buscar o Webphone, obrigatório caso não for informar o campo id_ramal.
            </td>
        </tr>
        <tr>
            <td>
                ligar_para
                <span class="optional">Opcional</span>
            </td>
            <td>
               Se você deseja que o Webphone já disque automaticamente para algum número quando abrir, deverá informar o número neste campo.
            </td>
        </tr>
        <tr>
            <td>
                fechar_fim
                <span class="optional">Opcional</span>
            </td>
            <td>
                Se você quiser que o Webphone feche ao fim da ligação deve colocar esse campo como true;
            </td>
        </tr>
        <tr>
            <td>
                tipo
                <span class="optional">Opcional</span>
            </td>
            <td>
                Tipo do Webphone, poderá ser: floating, embedded, hidden, por padrão irá o Floating.
            </td>
        </tr>
    </tbody>
</table>
<h5 id='response'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                url
                <span class="attribute">string</span>
            </td>
            <td>
                Retorna a URL completa do Webphone do Ramal desejado. 
             </td>
        </tr>
    </tbody>
</table>
<h2 id='criar-webphone'>Criar Webphone</h2>
<p>Você pode criar um webphone utilizando nosso exemplo localizado em <a href = "https://github.com/totalvoice/webphone-js">Exemplo Webphone</a>.</p>
<h2 id='funcoes-do-webphone'>Funções do Webphone</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">conectar</span><span class="p">(){</span>
                <span class="nx">webphone</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">({</span><span class="na">message</span> <span class="p">:</span> <span class="s1">'conectar'</span><span class="p">},</span> <span class="s1">'*'</span><span class="p">);</span>
            <span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">desconectar</span><span class="p">(){</span>
                <span class="nx">webphone</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">({</span><span class="na">message</span> <span class="p">:</span> <span class="s1">'desconectar'</span><span class="p">},</span> <span class="s1">'*'</span><span class="p">);</span>
            <span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">chamaNumero</span><span class="p">(</span><span class="nx">numero</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">webphone</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">({</span>
                    <span class="na">message</span><span class="p">:</span> <span class="s1">'chamaNumero'</span><span class="p">,</span>
                    <span class="s1">'numero'</span><span class="p">:</span> <span class="nx">numero</span>
                <span class="p">},</span> <span class="s1">'*'</span><span class="p">);</span>
            <span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">atender</span><span class="p">()</span> <span class="p">{</span>
                <span class="nx">webphone</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">({</span>
                    <span class="na">message</span><span class="p">:</span> <span class="s1">'answer'</span>
                <span class="p">},</span> <span class="s1">'*'</span><span class="p">);</span>
            <span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">desligaChamada</span><span class="p">()</span> <span class="p">{</span>
                <span class="nx">webphone</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">({</span>
                    <span class="na">message</span><span class="p">:</span> <span class="s1">'hangup'</span>
                <span class="p">},</span> <span class="s1">'*'</span><span class="p">);</span>
            <span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">enviaDTMF</span><span class="p">(</span><span class="nx">meuDTMF</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">webphone</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">({</span>
                    <span class="na">message</span><span class="p">:</span> <span class="s1">'enviaDTMF'</span><span class="p">,</span>
                    <span class="s1">'dtmf'</span><span class="p">:</span> <span class="nx">meuDTMF</span>
                <span class="p">},</span> <span class="s1">'*'</span><span class="p">);</span>
            <span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">mute</span><span class="p">()</span> <span class="p">{</span>
                <span class="nx">webphone</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">({</span>
                    <span class="na">message</span><span class="p">:</span> <span class="s1">'mute'</span>
                <span class="p">},</span> <span class="s1">'*'</span><span class="p">);</span>
            <span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">transferir</span><span class="p">(</span><span class="nx">numeroTelefone</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">webphone</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">({</span>
                    <span class="na">message</span><span class="p">:</span> <span class="s1">'transferir'</span><span class="p">,</span>
                    <span class="s1">'numeroTelefone'</span><span class="p">:</span> <span class="nx">numeroTelefone</span>
                <span class="p">},</span> <span class="s1">'*'</span><span class="p">);</span>
            <span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">transferirConsulta</span><span class="p">(</span><span class="nx">numeroTelefone</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">webphone</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">({</span>
                    <span class="na">message</span><span class="p">:</span> <span class="s1">'transferirConsulta'</span><span class="p">,</span>
                    <span class="s1">'numeroTelefone'</span><span class="p">:</span> <span class="nx">numeroTelefone</span>
                <span class="p">},</span> <span class="s1">'*'</span><span class="p">);</span>
            <span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">recstart</span><span class="p">()</span> <span class="p">{</span>
                <span class="nx">webphone</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">({</span>
                    <span class="na">message</span><span class="p">:</span> <span class="s1">'recStart'</span>
                <span class="p">},</span> <span class="s1">'*'</span><span class="p">);</span>
            <span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">recstop</span><span class="p">()</span> <span class="p">{</span>
                <span class="nx">webphone</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">({</span>
                    <span class="na">message</span><span class="p">:</span> <span class="s1">'recStop'</span>
                <span class="p">},</span> <span class="s1">'*'</span><span class="p">);</span>                
            <span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">pausarNaFila</span><span class="p">(</span><span class="nx">filaId</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">webphone</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">({</span>
                <span class="na">message</span><span class="p">:</span> <span class="s1">'pausarNaFila'</span><span class="p">,</span>
                <span class="na">filaId</span><span class="p">:</span> <span class="nx">filaId</span>
                <span class="p">},</span> <span class="s1">'*'</span><span class="p">);</span>
            <span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">despausarNaFila</span><span class="p">(</span><span class="nx">filaId</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">webphone</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">({</span>
                <span class="na">message</span><span class="p">:</span> <span class="s1">'despausarNaFila'</span><span class="p">,</span>
                <span class="na">filaId</span><span class="p">:</span> <span class="nx">filaId</span>
                <span class="p">},</span> <span class="s1">'*'</span><span class="p">);</span>
            <span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">entrarNaFila</span><span class="p">(</span><span class="nx">filaId</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">webphone</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">({</span>
                <span class="na">message</span><span class="p">:</span> <span class="s1">'entrarNaFila'</span><span class="p">,</span>
                <span class="na">filaId</span><span class="p">:</span> <span class="nx">filaId</span>
                <span class="p">},</span> <span class="s1">'*'</span><span class="p">);</span>
            <span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">sairDaFila</span><span class="p">(</span><span class="nx">filaId</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">webphone</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">({</span>
                <span class="na">message</span><span class="p">:</span> <span class="s1">'sairDaFila'</span><span class="p">,</span>
                <span class="na">filaId</span><span class="p">:</span> <span class="nx">filaId</span>
                <span class="p">},</span> <span class="s1">'*'</span><span class="p">);</span>
            <span class="p">}</span>
</code></pre>
<table class="table-parameters">
    
    <tbody>
        <tr>
            <td>
                <b>conectar()<b>
            </td>
            <td>
                Conecta o webphone
            </td>
        </tr>
        

        <tr>
             <td>
                <b>desconectar()<b>
            </td>
            <td>
                Desconecta o webphone
            </td>
        </tr>
        

        <tr>
            <td>
                <b>chamaNumero(numero)<b>
            </td>
            <td>
                Telefona para o número/ramal destino
            </td>
        </tr>
        <tr>
            <td>
                <b>atender()<b>
            </td>
            <td>
                Atender chamada
            </td>
        </tr>
        <tr>
            <td>
                <b>desligaChamada()<b>
            </td>
            <td>
                Encerra chamada ativa
            </td>
        </tr>
        <tr>
            <td>
                <b>enviaDTMF(meuDTMF)<b>
            </td>
            <td>
                Envia um DTMF(número ou caracter) através de uma tecla. Números de 0 à 9, Asterisco(*) ou Sustenido(#).
            </td>
        </tr>
        <tr>
            <td>
                <b>mute()<b>
            </td>
            <td>
                Microfone fica mudo
            </td>
        </tr>
        <tr>
            <td>
                <b>transferir(numeroTelefone)<b>
            </td>
            <td>
                Transferir ligação sem consulta
            </td>
        </tr>
        <tr>
            <td>
                <b>transferirConsulta(numeroTelefone)<b>
            </td>
            <td>
                Transferir ligação com consulta
            </td>
        </tr>
        <tr>
            <td>
                <b>recstart()<b>
            </td>
            <td>
                Inicia a gravação parcial de uma chamada
            </td>
        </tr>
        <tr>
            <td>
                <b>recstop()<b>
            </td>
            <td>
                Encerra a gravação parcial da chamada
            </td>
        </tr>

        <tr>
            <td>
                <b>pausarNaFila(filaId)<b>
            </td>
            <td>
                Pausa um ramal na fila `filaId` ou em todas as filas caso nenhum valor seja passado
            </td>
        </tr>

        <tr>
            <td>
                <b>despausarNaFila(filaId)<b>
            </td>
            <td>
                Despausa um ramal na fila `filaId` ou em todas as filas caso nenhum valor seja passado
            </td>
        </tr>

        <tr>
            <td>
                <b>entrarNaFila(filaId)<b>
            </td>
            <td>
                Insere o ramal na fila definida em `filaId`
            </td>
        </tr>

        <tr>
            <td>
                <b>sairDaFila(filaId)<b>
            </td>
            <td>
                Remove o ramal na fila definida em `filaId`
            </td>
        </tr>
    </tbody>
</table>
<h2 id='eventos-do-webphone'>Eventos do Webphone</h2><pre class="highlight javascript tab-javascript"><code>
<span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">message</span> <span class="o">==</span> <span class="s1">'chegandoChamada'</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">'Chegando Chamada de '</span> <span class="o">+</span> <span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">numeroChegando</span> <span class="o">+</span> <span class="s1">' para: '</span> <span class="o">+</span> 
    <span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">numeroDestino</span> <span class="o">+</span> <span class="s1">' chamada_recebida_id: '</span> <span class="o">+</span> <span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">chamadaRecebidaId</span><span class="p">);</span>
<span class="p">}</span>


<span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">message</span> <span class="o">==</span> <span class="s1">'status'</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">'Status: '</span> <span class="o">+</span> <span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
<span class="p">}</span>


<span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">message</span> <span class="o">==</span> <span class="s1">'chamada_id'</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">'Chamada_id: '</span> <span class="o">+</span> <span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">chamada_id</span><span class="p">);</span>
<span class="p">}</span>


<span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">message</span> <span class="o">==</span> <span class="s1">'status_erro'</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">'Sem Permissão: '</span> <span class="o">+</span> <span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">status_erro</span><span class="p">);</span>
<span class="p">}</span>


<span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">message</span> <span class="o">==</span> <span class="s1">'stats_webphone'</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">'Internet: '</span> <span class="o">+</span> <span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">internet</span> <span class="o">+</span> <span class="s1">' e computador: '</span> <span class="o">+</span> <span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">computador</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">message</span> <span class="o">==</span> <span class="s1">'entrou_na_fila'</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">'Ramal entrou na fila'</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">message</span> <span class="o">==</span> <span class="s1">'saiu_da_fila'</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">'Ramal saiu da fila'</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">message</span> <span class="o">==</span> <span class="s1">'pausou_na_fila'</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">'Ramal foi pausado na fila'</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">message</span> <span class="o">==</span> <span class="s1">'despausou_na_fila'</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">'Ramal foi despausado na fila'</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                <b>chegandoChamada<b>
            </td>
            <td>
                Ao receber uma chamada é disparado uma mensagem com o número de envio(e.data.numeroChegando), número de destino(e.data.numeroDestino) e o ID da chamada( e.data.chamadaRecebidaId).
            </td>
        </tr>
        <tr>
             <td>
                <b>status<b>
            </td>
            <td>
                Dispara uma mensagem ao ser alterado o status da chamada(e.data.status), que são exemplos de status: <b>conectado<b>, <b>desconectado<b>, <b>chamando<b>, <b>encerrada<b>, <b>conversando<b>.
            </td>
        </tr>
        <tr>
            <td>
                <b>chamada_id<b>
            </td>
            <td>
                Ao ser iniciada a chamada é disparado esse evento que retorna o identificador único da chamada(e.data.chamada_id), o ID é único e pode ser utilizado na api para recuperação de mais informações (get na api ou webhooks). 
            </td>
        </tr>
        <tr>
            <td>
                <b>status_erro<b>
            </td>
            <td>
                Ao ocorrer um erro(e.data.status_erro) durante a efetuação da chamada é disparado esse evento.
            </td>
        </tr>
        <tr>
            <td>
                <b>stats_webphone<b>
            </td>
            <td>
                Recebe o status da qualidade de conexão(Diagnóstico do Ping e Jitter) e computador(Uso da CPU) para verificar a qualidade da ligação.
            </td>
        </tr>
        <tr>
            <td>
                <b>pausou_na_fila<b>
            </td>
            <td>
                É chamado quando o ramal é pausado em alguma fila.
            </td>
        </tr>
        <tr>
            <td>
                <b>despausou_na_fila<b>
            </td>
            <td>
                É chamado quando o ramal é despausado em alguma fila.
            </td>
        </tr>
        <tr>
            <td>
                <b>entrou_na_fila<b>
            </td>
            <td>
                É chamado quando o ramal entra em alguma fila.
            </td>
        </tr>
        <tr>
            <td>
                <b>saiu_da_fila<b>
            </td>
            <td>
                É chamado quando o ramal sai de alguma fila.
            </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h1 id='webhooks'>Webhooks</h1>
<p>Também conhecidos como Callbacks ou Reverse API, os Webhooks são notificações que enviamos para alguma URL (End Point) sua que é configurada 
no painel de Voz da ZenAPI, a notificação é enviada assim que determinados eventos acontecem.</p>

<p>Todos os Webhooks enviados vão por HTTP POST, sendo que as informações referentes ao evento vão no corpo da requisição em formato JSON.</p>

<p><i>Obs: Na requisição GET para visualizar os webhooks cadastrados ele irá trazer apenas os que possuem URL. Caso a conta seja uma subconta e não tiver URL de webhook, irá buscar os webhooks default configurados na conta principal.</i></p>
<h2 id='configuracao'>Configuração</h2>
<p>Entre no painel de Voz da ZenAPI com a conta administradora, vá até o menu Minha Conta e escolha Configurações da API, lá terão todos os campos para preencher em cada Webhook.</p>

<p><i>Poderá levar até 20 minutos após a configuração no Painel para começar o envio das notificações para o endereço escolhido.</i></p>
<h2 id='eventos-em-tempo-real-de-chamada'>Eventos em Tempo Real de Chamada</h2>
<p>Sempre que uma das pernas de uma chamada muda de estado este webhook é enviado, entram nessas condições apenas ligações realizadas pela API e pelo Webphone/Softphone/Dispositivo de chamada conectado ao nosso sistema.</p>

<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">\\Chamando</span><span class="w"> </span><span class="err">Perna</span><span class="w"> </span><span class="err">A</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T17:21:33"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"origem"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T14:21:33"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movel"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ativo"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T14:21:34"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48988888888"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"chamando"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"gravar_audio"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">37794869</span><span class="p">,</span><span class="w">
  </span><span class="s2">"destino"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movel"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48966663333"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"cliente_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2150</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='atributos'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora em que a ligação foi criada.
            </td>
        </tr>
        <tr>
            <td>
                gravar_audio
                <span class="attribute">boolean</span>
            </td>
            <td>
                Se a chamada foi gravada ou não.
             </td>
        </tr>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único desta Chamada.
            </td>
        </tr>
        <tr>
            <td>
                cliente_id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único (na ZenAPI) do cliente que realizou a Chamada.
            </td>
        </tr> 
        <tr>
            <td>
                tags
                <span class="attribute">string</span>
            </td>
            <td>
                Campo de tags que pode ser utilizado pelo cliente na hora da criação da Chamada.
            </td>
        </tr>
        <tr>
            <td>
                origem
                <span class="attribute">object</span>
            </td>
            <td>
                Objeto da perna de <b>origem</b> da Chamada.
            </td>
        </tr>
        <tr>
            <td>
                destino
                <span class="attribute">object</span>
            </td>
            <td>
                Objeto da perna de <b>destino</b> da Chamada.
            </td>
        </tr>
    </tbody>
</table>
<h2 id='envio-de-sms'>Envio de SMS</h2>
<p>Informa se o SMS foi enviado ou houve falha.</p>

<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37787430"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48988888888"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T14:00:38-03:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Olá ZenAPI"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.09</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status_envio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entregue"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T14:01:13-03:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"respostas"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='atributos-2'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora em que o SMS foi criado.
            </td>
        </tr>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único deste SMS.
            </td>
        </tr>
        <tr>
            <td>
                numero_destino
                <span class="attribute">string</span>
            </td>
            <td>
                Número do telefone que irá receber o SMS, formato DDD + Número. Exemplo: 4832830151.
            </td>
        </tr>
        <tr>
            <td>
                mensagem
                <span class="attribute">string</span>
            </td>
            <td>
                Mensagem que será enviada para o número. 
            </td>
        </tr>
        <tr>
            <td>
                preco
                <span class="attribute">float</span>
            </td>
            <td>
                Valor cobrado pelo envio
            </td>
        </tr>
        <tr>
            <td>
                preco
                <span class="attribute">float</span>
            </td>
            <td>
                Valor cobrado pelo envio
            </td>
        </tr>
        <tr>
            <td>
                status_envio
                <span class="attribute">float</span>
            </td>
            <td>
                Situação do envio do SMS.
            </td>
        </tr>
        <tr>
            <td>
                data_status
                <span class="attribute">datatime</span>
            </td>
            <td>
                Data e hora que o status foi alterado.
            </td>
        </tr>
        <tr>
            <td>
                resposta_usuario
                <span class="attribute">boolean</span>
            </td>
            <td>
                Aguarda a resposta do usuário: sim ou não
            </td>
        </tr>
        <tr>
            <td>
                respostas
                <span class="attribute">boolean</span>
            </td>
            <td>
                Array contendo os objetos de resposta.
            </td>
        </tr>
    </tbody>
</table>
<h2 id='resposta-de-sms'>Resposta de SMS</h2>
<p>Informa quando um usuário responde um SMS.</p>

<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w"> 
   </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">16347</span><span class="p">,</span><span class="w">
   </span><span class="s2">"sms_id"</span><span class="p">:</span><span class="mi">133830</span><span class="p">,</span><span class="w">
   </span><span class="s2">"resposta"</span><span class="p">:</span><span class="s2">"SIM"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"data_resposta"</span><span class="p">:</span><span class="s2">"2016-10-17T18:02:20-02:00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='atributos-3'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro de Resposta.
             </td>
        </tr>
        <tr>
            <td>
                sms_id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do SMS vinculado a resposta.
             </td>
        </tr>
        <tr>
            <td>
                resposta
                <span class="attribute">string</span>
            </td>
            <td>
                Texto com a resposta do usuário
            </td>
        </tr>
        <tr>
            <td>
                data_resposta
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi respondido pelo usuário
            </td>
        </tr>
    </tbody>
</table>
<h2 id='eventos-em-tempo-real-de-ramal'>Eventos em Tempo Real de Ramal</h2>
<p>A cada mudança de status de alguma chamada de algum Ramal, este Webhook é disparado, enviando os dados da chamada do Ramal.</p>

<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data_atendimento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T14:37:03"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ativo"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T14:36:55"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ramal"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"indefinido"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37806158"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="mi">9000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h4 id='atributos-4'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora em que a ligação para o Ramal foi criada.
            </td>
        </tr>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único desta ligação.
            </td>
        </tr>
        <tr>
            <td>
                tipo
                <span class="attribute">string</span>
            </td>
            <td>
                O tipo do telefone desta perna, vem sempre <b><i>ramal</b></i>.
             </td>
        </tr>
        <tr>
            <td>
                ativo
                <span class="attribute">boolean</span>
            </td>
            <td>
                Informa se a chamada está ativa, caso true, o ramal atendeu e a ligação ainda está conectada.
            </td>
        </tr>
        <tr>
            <td>
                ramal
                <span class="attribute">integer</span>
            </td>
            <td>
                O número do Ramal desta ligação.
            </td>
        </tr>
        <tr>
            <td>
                status
                <span class="attribute">string</span>
            </td>
            <td>
                Representa o <a href="#status-perna-de-ligacao">status atual</a> desta perna na ligação.
            </td>
        </tr>
        <tr>
            <td>
                data_atendimento
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora do momento em que a ligação foi atendida, caso a ligação não tenha sido atendida este atributo não vem.
            </td>
        </tr>
        <tr>
            <td>
                duracao_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração total em segundos da ligação, desde a criação até o encerramento (seja por desligar ou por não atender).
            </td>
        </tr>
        <tr>
            <td>
                duracao_falada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos contados a partir do momento que o ramal atendeu a ligação, até o momento em que foi desligada.
            </td>
        </tr>
        <tr>
            <td>
                motivo_desconexao
                <span class="attribute">String</span>
            </td>
            <td>
                Aqui é informado o motivo do derrubamento da ligação, você pode ver mais em motivos de desconecção.
            </td>
        </tr>
    </tbody>
</table>
<h2 id='eventos-em-tempo-real-de-chamada-did'>Eventos em Tempo Real de Chamada DID</h2>
<p>A cada mudança de status de alguma chamada recebida por um DID, este Webhook é disparado, enviando os dados da chamada e do Ramal que atendeu (se algum ramal atendeu).</p>

<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data_atendimento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T14:37:03"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ativo"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T14:36:55"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ramal"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37806158"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="mi">9000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='atributos-5'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único desta Chamada.
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora em que a ligação foi criada.
            </td>
        </tr>
        <tr>
            <td>
                data_atendimento
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora do momento em que a ligação foi atendida pelo DID.
            </td>
        </tr>
        <tr>
            <td>
                ativo
                <span class="attribute">boolean</span>
            </td>
            <td>
                Informa se a chamada está ativa.
            </td>
        </tr>
        <tr>
            <td>
                status
                <span class="attribute">string</span>
            </td>
            <td>
                Representa o <a href="#status-perna-de-ligacao">status atual</a> desta chamada para o DID.
            </td>
        </tr>
        <tr>
            <td>
                duracao_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração total da chamada em segundos, desde a criação até o encerramento (seja por desligar ou por não atender).
            </td>
        </tr>
        <tr>
            <td>
                duracao_falada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos contados a partir do momento que o DID atendeu a ligação até o momento em que foi desligada.
            </td>
        </tr>
        <tr>
            <td>
                ramal
                <span class="attribute">object</span>
            </td>
            <td>
                Caso a ligação para este DID caia em algum ramal, este campo vem preenchido com informações da perna do ramal.
            </td>
        </tr>
        <tr>
            <td>
                tipo
                <span class="attribute">String</span>
            </td>
            <td>
                Tipo de telefone: fixo, móvel ou ramal.
            </td>
        </tr>
    </tbody>
</table>
<h2 id='aviso-de-saldo'>Aviso de saldo</h2>
<p>Notifica quando o valor do saldo for inferior ao configurado no &quot;Aviso de Saldo&quot;.</p>
<pre class="highlight json tab-json"><code><span class="w">   </span><span class="p">{</span><span class="w">
   </span><span class="s2">"saldo"</span><span class="p">:</span><span class="s2">"56.8616"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='atributos-6'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                saldo
                <span class="attribute">float</span>
            </td>
            <td>
                Saldo atual da sua conta
            </td>
        </tr>
    </tbody>
</table>
<h2 id='novo-voicemail'>Novo Voicemail</h2>
<p>Notifica quando houver um novo voicemail / nova mensagem de voz na caixa postal.</p>
<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1411</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ramal_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">87787</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9561"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"numero_telefone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6136271444"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T17:05:18-03:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.evoline.com.br/recvm/?id=1411&amp;x=094bba9d3a&amp;cid=2150"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='atributos-7'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único deste voicemail.
            </td>
        </tr>
        <tr>
            <td>
                ramal_id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do ramal, o qual irá receber o voicemail.
            </td>
        </tr> 
        <tr>
            <td>
                numero_telefone
                <span class="attribute">string</span>
            </td>
            <td>
                Número do telefone que irá enviar o voicemail para o ramal, formato DDD + Número. Exemplo: 4832830151.
            </td>
        </tr>
        <tr>
            <td>
                data_mensagem
                <span class="attribute">datatime</span>
            </td>
            <td>
                Data e hora em que o voicemail foi recebido.
            </td>
        </tr>
        <tr>
            <td>
                duracao_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração total do voicemail em segundos.
            </td>
        </tr>
        <tr>
            <td>
                url_gravacao
                <span class="attribute">string</span>
            </td>
            <td>
                Quando enviado a opção Gravar Áudio = true, este campo disponibilizará uma URL contendo o áudio da gravação da ligação.
            </td>
        </tr>
    </tbody>
</table>
<h2 id='eventos-em-tempo-real-de-conferencias'>Eventos em Tempo Real de Conferências</h2>
<p>A cada mudança dentro de uma conferência você recebe informações, quem entrou e quem saiu da conferência, id da chamada, id da conferência, número que entrou.</p>
<pre class="highlight json tab-json"><code><span class="err">\\Entrada</span><span class="w"> </span><span class="err">de</span><span class="w"> </span><span class="err">número</span><span class="w"> </span><span class="err">na</span><span class="w"> </span><span class="err">conferência.</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T18:48:05"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"evento_conferencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Entrou"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48988888888"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"gravar_audio"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"conferencia_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">42874</span><span class="p">,</span><span class="w">
  </span><span class="s2">"chamada_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37823279"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cliente_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2150</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='atributos-8'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora em que a conferência foi criada.
            </td>
        </tr>
        <tr>
            <td>
                gravar_audio
                <span class="attribute">boolean</span>
            </td>
            <td>
                Se a chamada foi gravada ou não.
             </td>
        </tr>
        <tr>
            <td>
                evento_conferencia
                <span class="attribute">String</span>
            </td>
            <td>
                Informa ação do número/pessoa referente à conferência.
            </td>
        </tr>
        <tr>
            <td>
                cliente_id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único (na Zenvia) do cliente que executou determinada ação na conferência.
            </td>
        </tr> 
        <tr>
            <td>
                numero
                <span class="attribute">String</span>
            </td>
            <td>
                Número do telefone que executou determinada ação na conferência, formato DDD + Número. Exemplo: 4832830151.
            </td>
        </tr> 
        <tr>
            <td>
                conferencia_id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único da conferência.
            </td>
        </tr> 
        <tr>
            <td>
                chamada_id
                <span class="attribute">String</span>
            </td>
            <td>
                Identificador único da chamada realizada para a conferência.
            </td>
        </tr> 
    </tbody>
</table>
<h2 id='tts-fim'>TTS Fim</h2>
<p>Ao fim de toda chamada TTS, um callback é feito para este endereço, enviando detalhes como duração e status.</p>

<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">37784550</span><span class="p">,</span><span class="w">
  </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48988888888"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T13:34:57.000-03:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T13:34:58.000-03:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movel"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:17"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:01:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:10"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.35</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16. normal"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ôôôôoooooooolááaaaaaaaaaa"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='atributos-9'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro do TTS.
             </td>
        </tr>
        <tr>
            <td>
                numero_destino
                <span class="attribute">string</span>
            </td>
            <td>
                Número do destinatário que foi enviado o TTS.
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi criado o registro.
            </td>
        </tr>
        <tr>
            <td>
                data_inicio
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi iniciado o processamento do TTS.
            </td>
        </tr>
        <tr>
            <td>
                tipo
                <span class="attribute">string</span>
            </td>
            <td>
                Tipo de telefone: fixo, móvel ou ramal.
            </td>
        </tr>
        <tr>
            <td>
                status
                <span class="attribute">string</span>
            </td>
            <td>
                Status do registro.
            </td>
        </tr>
        <tr>
            <td>
                duracao_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração total em <i>segundos</i> da chamada, desde o início do processamento.
            </td>
        </tr>
        <tr>
            <td>
                duracao
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração total da chamada desde o início do processamento
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em <i>segundos</i> para fins de cobrança.
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração considerada para fins de cobrança.
            </td>
        </tr>
                <tr>
            <td>
                duracao_falada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em <i>segundos</i> da chamada desde que o destino atendeu.
            </td>
        </tr>
        <tr>
            <td>
                duracao_falada
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração da chamada desde que o destino atendeu.
            </td>
        </tr>
        <tr>
            <td>
                preco
                <span class="attribute">float</span>
            </td>
            <td>
                Valor cobrado pela chamada.
            </td>
        </tr>
        <tr>
            <td>
                mensagem
                <span class="attribute">float</span>
            </td>
            <td>
                Mensagem em forma de texto que você nos enviou.
            </td>
        </tr>
        <tr>
            <td>
                resposta_usuario
                <span class="attribute">boolean</span>
            </td>
            <td>
                Valor enviado identificando se aceita a resposta do usuário.
            </td>
        </tr>
        <tr>
            <td>
                resposta
                <span class="attribute">string</span>
            </td>
            <td>
                Se você enviou resposta_usuario = true, quando o usuário executa alguma ação no teclado númerico do dispositivo, o valor será exibido neste campo (DTMF).
            </td>
        </tr>
        <tr>
            <td>
                motivo_desconexao
                <span class="attribute">string</span>
            </td>
            <td>
                Aqui é informado o motivo do derrubamento da ligação, você pode ver mais em <a href="#codigos-de-motivos">motivos de desconecção</a>
            </td>
        </tr>
    </tbody>
</table>
<h2 id='status-tempo-real'>Status Tempo Real</h2>
<p>Durante uma chamada, este webhook é acionado sempre que o status mudar (de &quot;chamando&quot; para &quot;atendido&quot;, por exemplo). Limitado em 1 request a cada 2s por chamada ativa.</p>

<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="err">\\Chamando</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">37785949</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T13:48:19-03:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ativa"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cliente_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">91227</span><span class="p">,</span><span class="w">
  </span><span class="s2">"conta_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">91227</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ramal_id_origem"</span><span class="p">:</span><span class="w"> </span><span class="mi">86453</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status_geral"</span><span class="p">:</span><span class="w"> </span><span class="s2">"curso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"origem"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ramal"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"chamando"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:10"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"indefinido"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"destino"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48988888888"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movel"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"preparando"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:09"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"indefinido"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"gravacoes_parciais"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='atributos-10'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro da chamada.
             </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data de criação do registro da chamada. Data e Hora no formato UTC.
            </td>
        </tr>
        <tr>
            <td>
                ativa
                <span class="attribute">boolean</span>
            </td>
            <td>
                Identifica se a chamada está ativa ou não.
             </td>
        </tr>
        <tr>
            <td>
                url_gravacao
                <span class="attribute">string</span>
            </td>
            <td>
                URL com áudio da gravação da chamada.
             </td>
        </tr>
        <tr>
            <td>
                cliente_id
                <span class="attribute">integer</span>
            </td>
            <td>
               Identificação do cliente referente a chamada.
            </td>
        </tr>
        <tr>
            <td>
                conta_id
                <span class="attribute">integer</span>
            </td>
            <td>
               Identificação da Conta referente a chamada.
            </td>
        </tr>
        <tr>
            <td>
                ramal_id_origem
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do ramal que originou a chamada referente a ligação, se houver. 
            </td>
        </tr>
        <tr>
            <td>
                tags
                <span class="attribute">string</span>
            </td>
            <td>
                Informação adicional que pode ser retornada no objeto, como um ID Externo por exemplo. Você consegue enviar essa informação no Post da Chamada e recuperar posteriormente nessa consulta. 
            </td>
        </tr>
        <tr>
            <td>
                status_geral
                <span class="attribute">string</span>
            </td>
            <td>
                Status geral da Chamada. 
                <ul>
                    <li>criada: chamada foi criada</li>
                    <li>curso: está em andamento</li>
                    <li>finalizada: chamada foi finalizada</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td>
                origem / destino
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna os objetos <a href="#objeto-origem-destino">origem/destino</a>
            </td>
        </tr>
    </tbody>
</table>
<h2 id='fim-chamada'>Fim Chamada</h2>
<p>Ao fim de toda chamada, um callback é feito para este endereço, enviando detalhes como duração e preço.</p>

<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">37721262</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T11:19:11-03:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ativa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.evoline.com.br/rec/?id=37721262&amp;x=7a8718b28b&amp;cid=2150"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cliente_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2150</span><span class="p">,</span><span class="w">
  </span><span class="s2">"conta_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2150</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ramal_id_origem"</span><span class="p">:</span><span class="w"> </span><span class="mi">62291</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status_geral"</span><span class="p">:</span><span class="w"> </span><span class="s2">"finalizada"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"origem"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9998"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ramal"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"indefinido"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"destino"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T11:19:11-03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48988888888"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movel"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:24"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:01:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:14"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.35</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16. normal"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"gravacoes_parciais"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='atributos-11'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro da chamada.
             </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data de criação do registro da chamada. Data e Hora no formato UTC.
            </td>
        </tr>
        <tr>
            <td>
                ativa
                <span class="attribute">boolean</span>
            </td>
            <td>
                Identifica se a chamada está ativa ou não.
             </td>
        </tr>
        <tr>
            <td>
                url_gravacao
                <span class="attribute">string</span>
            </td>
            <td>
                URL com áudio da gravação da chamada.
             </td>
        </tr>
        <tr>
            <td>
                cliente_id
                <span class="attribute">integer</span>
            </td>
            <td>
               Identificação do cliente referente a chamada.
            </td>
        </tr>
        <tr>
            <td>
                conta_id
                <span class="attribute">integer</span>
            </td>
            <td>
               Identificação da Conta referente a chamada.
            </td>
        </tr>
        <tr>
            <td>
                ramal_id_origem
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do ramal que originou a chamada referente a ligação, se houver. 
            </td>
        </tr>
        <tr>
            <td>
                tags
                <span class="attribute">string</span>
            </td>
            <td>
                Informação adicional que pode ser retornada no objeto, como um ID Externo por exemplo. Você consegue enviar essa informação no Post da Chamada e recuperar posteriormente nessa consulta. 
            </td>
        </tr>
        <tr>
            <td>
                status_geral
                <span class="attribute">string</span>
            </td>
            <td>
                Status geral da Chamada. 
                <ul>
                    <li>criada: chamada foi criada</li>
                    <li>curso: está em andamento</li>
                    <li>finalizada: chamada foi finalizada</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td>
                origem / destino
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna os objetos <a href="#objeto-origem-destino">origem/destino</a>
            </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br></p>
<h2 id='did-fim-chamada'>DID Fim Chamada</h2>
<p>Ao fim de toda chamada recebida(DID), um callback é feito para este endereço, enviando detalhes como duração e status.</p>

<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">37721125</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T11:18:20-03:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ativa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.evoline.com.br/rec/?id=37721125&amp;x=7a020a1a16&amp;cid=2150"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cliente_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2150</span><span class="p">,</span><span class="w">
  </span><span class="s2">"conta_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2150</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ramal_id_origem"</span><span class="p">:</span><span class="w"> </span><span class="mi">62291</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status_geral"</span><span class="p">:</span><span class="w"> </span><span class="s2">"finalizada"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"origem"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9998"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ramal"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"indefinido"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"destino"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T11:18:19-03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48988888888"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movel"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ocupado"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">31</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:31"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"indefinido"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"gravacoes_parciais"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='atributos-12'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro da chamada.
             </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data de criação do registro da chamada. Data e Hora no formato UTC.
            </td>
        </tr>
        <tr>
            <td>
                ativa
                <span class="attribute">boolean</span>
            </td>
            <td>
                Identifica se a chamada está ativa ou não.
             </td>
        </tr>
        <tr>
            <td>
                url_gravacao
                <span class="attribute">string</span>
            </td>
            <td>
                URL com áudio da gravação da chamada.
             </td>
        </tr>
        <tr>
            <td>
                cliente_id
                <span class="attribute">integer</span>
            </td>
            <td>
               Identificação do cliente referente a chamada.
            </td>
        </tr>
        <tr>
            <td>
                conta_id
                <span class="attribute">integer</span>
            </td>
            <td>
               Identificação da Conta referente a chamada.
            </td>
        </tr>
        <tr>
            <td>
                ramal_id_origem
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do ramal que originou a chamada referente a ligação, se houver. 
            </td>
        </tr>
        <tr>
            <td>
                tags
                <span class="attribute">string</span>
            </td>
            <td>
                Informação adicional que pode ser retornada no objeto, como um ID Externo por exemplo. Você consegue enviar essa informação no Post da Chamada e recuperar posteriormente nessa consulta. 
            </td>
        </tr>
        <tr>
            <td>
                status_geral
                <span class="attribute">string</span>
            </td>
            <td>
                Status geral da Chamada. 
                <ul>
                    <li>criada: chamada foi criada</li>
                    <li>curso: está em andamento</li>
                    <li>finalizada: chamada foi finalizada</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td>
                origem / destino
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna os objetos <a href="#objeto-origem-destino">origem/destino</a>
            </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h2 id='composto-fim-chamada'>Composto Fim Chamada</h2>
<p>Ao fim de toda chamada do tipo Composto, um callback é feito para este endereço, enviando detalhes como duração e status.</p>

<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">37850704</span><span class="p">,</span><span class="w">
  </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48988888888"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T16:38:50.000-03:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T16:38:55.000-03:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movel"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">51</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:51"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:01:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:42"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.38</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16. normal"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clienteX"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='atributos-13'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro de Áudio.
             </td>
        </tr>
        <tr>
            <td>
                numero_destino
                <span class="attribute">string</span>
            </td>
            <td>
                Número do destinatário que foi enviado o áudio.
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi criado o registro
            </td>
        </tr>
        <tr>
            <td>
                data_inicio
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi iniciado o processamento do áudio
            </td>
        </tr>
        <tr>
            <td>
                tipo
                <span class="attribute">string</span>
            </td>
            <td>
                Tipo de telefone: fixo, móvel ou ramal
            </td>
        </tr>
        <tr>
            <td>
                status
                <span class="attribute">string</span>
            </td>
            <td>
                Status do registro
            </td>
        </tr>
        <tr>
            <td>
                duracao_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos (inteiro) do total da chamada desde o início do processamento
            </td>
        </tr>
        <tr>
            <td>
                duracao
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração total da chamada desde o início do processamento
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos para fins de cobrança
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração considerada para fins de cobrança
            </td>
        </tr>
                <tr>
            <td>
                duracao_falada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos da chamada desde que o destino atendeu
            </td>
        </tr>
        <tr>
            <td>
                duracao_falada
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração da chamada desde que o destino atendeu
            </td>
        </tr>
        <tr>
            <td>
                preco
                <span class="attribute">float</span>
            </td>
            <td>
                Valor cobrado pela chamada
            </td>
        </tr>
        <tr>
            <td>
                resposta_usuario
                <span class="attribute">boolean</span>
            </td>
            <td>
                Aguarda a resposta do usuário: sim ou não
            </td>
        </tr>
        <tr>
            <td>
                resposta
                <span class="attribute">string</span>
            </td>
            <td>
                Quando o usuário executa alguma ação no teclado do dispositivo, o valor será exibido neste campo (DTMF).
            </td>
        </tr>
        <tr>
            <td>
                url_gravacao
                <span class="attribute">string</span>
            </td>
            <td>
                Quando enviado a opção Gravar Áudio = true, este campo disponibilizará uma URL contendo o áudio da gravação da ligação.
            </td>
        </tr>
        <tr>
            <td>
                tags
                <span class="attribute">string</span>
            </td>
            <td>
                Parâmetro de integração - informado no post e retornado no get. Ex: "clienteX"
            </td>
        </tr>
        <tr>
            <td>
                motivo_desconexao
                <span class="attribute">string</span>
            </td>
            <td>
                Um dos motivos de desconexão:
                <ul>
                    <li>1. telefone não existe</li>
                    <li>2. sem rota para a rede de destino</li>
                    <li>3. sem rota para o destino</li>
                    <li>4. prefixo incorreto</li>
                    <li>6. canal inaceitável</li>
                    <li>7. chamada sendo entregue em canal já estabelecido</li>
                    <li>8. call peemption</li>
                    <li>14. telefone portado para outra operadora</li>
                    <li>16. normal</li>
                    <li>17. ocupado</li>
                    <li>18. sem resposta</li>
                    <li>19. sem resposta - mas chamou</li>
                    <li>20. assinante ausente</li>
                    <li>21. chamada rejeitada</li>
                    <li>22. este número mudou</li>
                    <li>23. redirecionado para novo destino</li>
                    <li>26. atendido em outro lugar</li>
                    <li>27. destino não está funcionando</li>
                    <li>28. formato inválido de número</li>
                    <li>29. rejeitado</li>
                    <li>30. resposta para status enquiry</li>
                    <li>31. normal, não especificado</li>
                    <li>34. sem canal disponível</li>
                    <li>41. falha temporária</li>
                    <li>42. equipamento congestionado</li>
                    <li>44. canal requisitado não está disponível</li>
                    <li>50. não cadastrado</li>
                    <li>52. chamada sainte barrada</li>
                    <li>54. chamada entrante barrada</li>
                    <li>57. capacidade não autorizada</li>
                    <li>58. erro de mídia ou parâmetros incompatíveis</li>
                    <li>65. capacidade do portador não implementada</li>
                    <li>66. tipo de canal não implementado</li>
                    <li>69. não implementado</li>
                    <li>81. valor de referência inválido</li>
                    <li>88. destino incompatível</li>
                    <li>95. mensagem inválida não especificada</li>
                    <li>96. informação obrigatória não presente</li>
                    <li>97. mensagem não implementada</li>
                    <li>98. mensagem não compatível com o estado da chamada ou não existente ou não implementada</li>
                    <li>97. mensagem não implementada</li>
                    <li>99. elemento não existente ou não implementado</li>
                    <li>97. mensagem não implementada</li>
                    <li>100. informação inválida no conteúdo dos elementos</li>
                    <li>101. mensagem não compatível com o estado da chamada</li>
                    <li>102. timeout</li>
                    <li>111. erro de protocolo</li>
                    <li>127. erro de conectividade</li>
                </ul>
            </td>
        </tr>
    </tbody>
</table>
<h2 id='audio-fim'>Áudio Fim</h2>
<p>Ao fim de toda chamada de áudio um callback é feito para este endereço, enviando detalhes como duração e status.</p>

<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">37785542</span><span class="p">,</span><span class="w">
  </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48988888888"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T13:44:52.000-03:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T13:44:52.000-03:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movel"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">44</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:44"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:01:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:25"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.35</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16. normal"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_audio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://65381g.ha.azioncdn.net/7/7/b/3/daniellimaofficial-never-enough-72a13242.mp3"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='atributos-14'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro de Áudio.
             </td>
        </tr>
        <tr>
            <td>
                numero_destino
                <span class="attribute">string</span>
            </td>
            <td>
                Número do destinatário que foi enviado o áudio.
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi criado o registro.
            </td>
        </tr>
        <tr>
            <td>
                data_inicio
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi iniciado o processamento do áudio.
            </td>
        </tr>
        <tr>
            <td>
                tipo
                <span class="attribute">string</span>
            </td>
            <td>
                Tipo de telefone: fixo, móvel ou ramal.
            </td>
        </tr>
        <tr>
            <td>
                status
                <span class="attribute">string</span>
            </td>
            <td>
                Status do registro.
            </td>
        </tr>
        <tr>
            <td>
                duracao_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em total em <i>segundos</i>, da chamada, desde o início do processamento.
            </td>
        </tr>
        <tr>
            <td>
                duracao
                <span class="attribute">String</span>
            </td>
            <td>
                Duração total da chamada desde o início do processamento
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em <i>segundos</i> para fins de cobrança.
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada
                <span class="attribute">String</span>
            </td>
            <td>
                Duração considerada para fins de cobrança.
            </td>
        </tr>
                <tr>
            <td>
                duracao_falada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em <i>segundos</i> da chamada desde que o destino atendeu.
            </td>
        </tr>
        <tr>
            <td>
                duracao_falada
                <span class="attribute">String</span>
            </td>
            <td>
                Duração da chamada desde que o destino atendeu.
            </td>
        </tr>
        <tr>
            <td>
                preco
                <span class="attribute">float</span>
            </td>
            <td>
                Valor cobrado pela chamada.
            </td>
        </tr>
        <tr>
            <td>
                url_audio
                <span class="attribute">string</span>
            </td>
            <td>
                URL do Áudio enviado para a chamada.
            </td>
        </tr>
        <tr>
            <td>
                resposta_usuario
                <span class="attribute">boolean</span>
            </td>
            <td>
                Valor enviado identendificando se aceita a resposta do usuário.¹
            </td>
        </tr>
        <tr>
            <td>
                resposta
                <span class="attribute">string</span>
            </td>
            <td>
                Se você enviou resposta_usuario = true, quando o usuário executa alguma ação no teclado númerico do dispositivo, o valor será exibido neste campo (DTMF).¹
            </td>
        </tr>
        <tr>
            <td>
                motivo_desconexao
                <span class="attribute">string</span>
            </td>
            <td>
                Aqui é informado o motivo do derrubamento da ligação, você pode ver mais em <a href="#codigos-de-motivos">motivos de desconeção</a>
            </td>
        </tr>
        <tr>
            <td>
                url_gravacao
                <span class="attribute">string</span>
            </td>
            <td>
                Quando enviado a opção Gravar Áudio = true, este campo disponibilizará uma URL contendo o áudio da gravação da ligação.
            </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br></p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell--curl">curl</a>
                <a href="#" data-language-name="php">php</a>
                <a href="#" data-language-name="javascript--node">node</a>
                <a href="#" data-language-name="go">go</a>
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="java">java</a>
                <a href="#" data-language-name="ruby">ruby</a>
          </div>
      </div>
    </div>
  </body>
</html>
