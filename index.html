
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>TotalVoice API Doc</title>
    <link rel="icon" href="https://zenvia-static.s3.amazonaws.com/favicon.ico" sizes="16x16" />

    <meta property="og:locale" content="pt_BR">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Documentação TotalVoice - API de ligação, voz e SMS">
    <meta property="og:url" content="https://www.totalvoice.com.br/doc">
    <meta property="og:site_name" content="TotalVoice">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="TotalVoice - API de ligação, voz e SMS">

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>

    <script type="text/javascript">
      !function(d,w){var t="SxwDe1SHyKIPk9yVrOBdgIZEJCbYyPqSsj4j9aBTi7kTE0-1KuSgl-CsEfJq8JP4SVT8gb",c="chmln",m="identify alias track clear set show on off custom help _data".split(" "),i=d.createElement("script");if(w[c]||(w[c]={}),!w[c].root){w[c].accountToken=t,w[c].location=w.location.href.toString(),w[c].now=new Date;for(var s=0;s<m.length;s++){!function(){var t=w[c][m[s]+"_a"]=[];w[c][m[s]]=function(){t.push(arguments);};}();}i.src="https://fast.trychameleon.com/messo/"+t+"/messo.min.js",i.async=!0,d.head.appendChild(i);}}(document,window);
     /* chmln code snippet */
      var uid;
      if(getCookie('chmln-uid')) { 
        uid = getCookie('chmln-uid');
      } else {
        uid = Math.random().toString(36).substring(2);
        setCookie('chmln-uid', uid+'; expires=Tue, Oct 13 2037 04:24:07 UTC; path=/;');
      }
      chmln.identify(uid, { visitor: true });

      /* normal chmln.identify with user.id */

      function setCookie(cname, cvalue) {
        document.cookie = cname + "=" + cvalue;
      };

      function getCookie(cname) {
          var name = cname + "=";
          var ca = document.cookie.split(';');
          for(var i=0; i<ca.length; i++) {
              var c = ca[i];
              while (c.charAt(0)==' ') c = c.substring(1);
              if (c.indexOf(name) == 0) return c.substring(name.length,c.length);
          }
          return "";
      };
    </script>
  </head>

  <body class="index" data-languages="[&quot;shell--curl&quot;,&quot;php&quot;,&quot;javascript--node&quot;,&quot;go&quot;,&quot;python&quot;,&quot;java&quot;,&quot;ruby&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="https://zenvia-static.s3.amazonaws.com/brand/zenvia-brand-mark-regular.svg" class="logo" alt="Zenvia brand mark regular" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell--curl">curl</a>
              <a href="#" data-language-name="php">php</a>
              <a href="#" data-language-name="javascript--node">node</a>
              <a href="#" data-language-name="go">go</a>
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="java">java</a>
              <a href="#" data-language-name="ruby">ruby</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Pesquisar">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
           <li>
            <a href="#comecando" class="toc-h1 toc-link" data-title="Começando">Começando</a>
            <ul class="toc-list-h2">
                <li>
                  <a href="#visao-geral-da-plataforma" class="toc-h2 toc-link" data-title="Visão geral da plataforma">
                    Visão geral da plataforma
                  </a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#por-que-usar-nossas-apis" class="toc-h3 toc-link" data-title="Por que usar nossas APIs?">
                            Por que usar nossas APIs?
                          </a>
                        </li>
                        <li>
                          <a href="#como-a-plataforma-esta-organizada" class="toc-h3 toc-link" data-title="Como a plataforma está organizada">
                            Como a plataforma está organizada
                          </a>
                        </li>
                    </ul>
                </li>
                <li>
                  <a href="#bibliotecas" class="toc-h2 toc-link" data-title="Bibliotecas">
                    Bibliotecas
                  </a>
                </li>
                <li>
                  <a href="#suporte" class="toc-h2 toc-link" data-title="Suporte">
                    Suporte
                  </a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#visite-as-paginas-especificas-de-cada-api-para-obter-mais-informacoes-sobre-como-comecar-a-utiliza-las" class="toc-h3 toc-link" data-title="Visite as páginas específicas de cada API para obter mais informações sobre como começar a utilizá-las.">
                            Visite as páginas específicas de cada API para obter mais informações sobre como começar a utilizá-las.
                          </a>
                        </li>
                    </ul>
                </li>
            </ul>
          
          </li>
           <li>
            <a href="#guia-do-usuario" class="toc-h1 toc-link" data-title="Guia do usuário">Guia do usuário</a>
            <ul class="toc-list-h2">
                <li>
                  <a href="#introducao" class="toc-h2 toc-link" data-title="Introdução">
                    Introdução
                  </a>
                </li>
                <li>
                  <a href="#guia-de-inicio-inscreva-se-para-uma-conta" class="toc-h2 toc-link" data-title="Guia de início: Inscreva-se para uma conta">
                    Guia de início: Inscreva-se para uma conta
                  </a>
                </li>
                <li>
                  <a href="#permissoes-de-conta" class="toc-h2 toc-link" data-title="Permissões de conta">
                    Permissões de conta
                  </a>
                </li>
            </ul>
          
          </li>
           <li>
            <a href="#recursos-de-desenvolvedor" class="toc-h1 toc-link" data-title="Recursos de desenvolvedor">Recursos de desenvolvedor</a>
            <ul class="toc-list-h2">
                <li>
                  <a href="#autenticacao" class="toc-h2 toc-link" data-title="Autenticação">
                    Autenticação
                  </a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#sobre-tokens-de-acesso" class="toc-h3 toc-link" data-title="Sobre Tokens de Acesso">
                            Sobre Tokens de Acesso
                          </a>
                        </li>
                        <li>
                          <a href="#geracao-do-access-token" class="toc-h3 toc-link" data-title="Geração do Access-Token">
                            Geração do Access-Token
                          </a>
                        </li>
                        <li>
                          <a href="#requisicoes" class="toc-h3 toc-link" data-title="Requisições">
                            Requisições
                          </a>
                        </li>
                        <li>
                          <a href="#solicitacoes" class="toc-h3 toc-link" data-title="Solicitações">
                            Solicitações
                          </a>
                        </li>
                    </ul>
                </li>
                <li>
                  <a href="#respostas-de-api" class="toc-h2 toc-link" data-title="Respostas de API">
                    Respostas de API
                  </a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#codigos-http" class="toc-h3 toc-link" data-title="Códigos HTTP">
                            Códigos HTTP
                          </a>
                        </li>
                        <li>
                          <a href="#codigos-de-motivos" class="toc-h3 toc-link" data-title="Códigos de Motivos">
                            Códigos de Motivos
                          </a>
                        </li>
                        <li>
                          <a href="#status-para-chamada" class="toc-h3 toc-link" data-title="Status para Chamada">
                            Status para Chamada
                          </a>
                        </li>
                        <li>
                          <a href="#status-perna-de-ligacao" class="toc-h3 toc-link" data-title="Status Perna de Ligação">
                            Status Perna de Ligação
                          </a>
                        </li>
                    </ul>
                </li>
                <li>
                  <a href="#testes" class="toc-h2 toc-link" data-title="Testes">
                    Testes
                  </a>
                </li>
            </ul>
          
          </li>
          <li style="margin-top: 20px;">
            <a href="#apis-de-voz" class="toc-h1 toc-link" data-title="APIs de Voz">APIs de Voz</a>
            <ul class="toc-list-h2">
                <li>
                  <a href="#verificacao-2fa" class="toc-h2 toc-link" data-title="Verificação (2FA)">
                    Verificação (2FA)
                  </a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#enviar-codigo" class="toc-h3 toc-link" data-title="Enviar código">
                            Enviar código
                          </a>
                        </li>
                        <li>
                          <a href="#consultar-codigo" class="toc-h3 toc-link" data-title="Consultar código">
                            Consultar código
                          </a>
                        </li>
                    </ul>
                </li>
                <li>
                  <a href="#webhooks" class="toc-h2 toc-link" data-title="Webhooks">
                    Webhooks
                  </a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#configurar-webhook" class="toc-h3 toc-link" data-title="Configurar webhook">
                            Configurar webhook
                          </a>
                        </li>
                        <li>
                          <a href="#webhooks-disponiveis" class="toc-h3 toc-link" data-title="Webhooks disponíveis">
                            Webhooks disponíveis
                          </a>
                        </li>
                        <li>
                          <a href="#eventos-em-tempo-real-das-chamadas" class="toc-h3 toc-link" data-title="Eventos em Tempo Real das Chamadas">
                            Eventos em Tempo Real das Chamadas
                          </a>
                        </li>
                        <li>
                          <a href="#eventos-em-tempo-real-de-ramal" class="toc-h3 toc-link" data-title="Eventos em Tempo Real de Ramal">
                            Eventos em Tempo Real de Ramal
                          </a>
                        </li>
                        <li>
                          <a href="#eventos-em-tempo-real-de-chamada-did" class="toc-h3 toc-link" data-title="Eventos em Tempo Real de Chamada DID">
                            Eventos em Tempo Real de Chamada DID
                          </a>
                        </li>
                        <li>
                          <a href="#eventos-em-tempo-real-de-conferencias" class="toc-h3 toc-link" data-title="Eventos em Tempo Real de Conferências">
                            Eventos em Tempo Real de Conferências
                          </a>
                        </li>
                        <li>
                          <a href="#envio-de-sms" class="toc-h3 toc-link" data-title="Envio de SMS">
                            Envio de SMS
                          </a>
                        </li>
                        <li>
                          <a href="#resposta-de-sms" class="toc-h3 toc-link" data-title="Resposta de SMS">
                            Resposta de SMS
                          </a>
                        </li>
                        <li>
                          <a href="#aviso-de-saldo" class="toc-h3 toc-link" data-title="Aviso de Saldo">
                            Aviso de Saldo
                          </a>
                        </li>
                        <li>
                          <a href="#novo-voicemail" class="toc-h3 toc-link" data-title="Novo Voicemail">
                            Novo Voicemail
                          </a>
                        </li>
                        <li>
                          <a href="#status-tempo-real" class="toc-h3 toc-link" data-title="Status Tempo Real">
                            Status Tempo Real
                          </a>
                        </li>
                        <li>
                          <a href="#tts-fim-de-chamada" class="toc-h3 toc-link" data-title="TTS - Fim de Chamada">
                            TTS - Fim de Chamada
                          </a>
                        </li>
                        <li>
                          <a href="#chamada-fim" class="toc-h3 toc-link" data-title="Chamada - Fim">
                            Chamada - Fim
                          </a>
                        </li>
                        <li>
                          <a href="#did-fim-de-chamada" class="toc-h3 toc-link" data-title="DID - Fim de Chamada">
                            DID - Fim de Chamada
                          </a>
                        </li>
                        <li>
                          <a href="#composto-fim-de-chamada" class="toc-h3 toc-link" data-title="Composto - Fim de Chamada">
                            Composto - Fim de Chamada
                          </a>
                        </li>
                        <li>
                          <a href="#audio-fim-de-chamada" class="toc-h3 toc-link" data-title="Áudio - Fim de Chamada">
                            Áudio - Fim de Chamada
                          </a>
                        </li>
                    </ul>
                </li>
            </ul>
          
          </li>
           <li>
            <a href="#apis-de-central" class="toc-h1 toc-link" data-title="APIs de Central">APIs de Central</a>
            <ul class="toc-list-h2">
                <li>
                  <a href="#bina" class="toc-h2 toc-link" data-title="Bina">
                    Bina
                  </a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#objeto-bina" class="toc-h3 toc-link" data-title="Objeto Bina">
                            Objeto Bina
                          </a>
                        </li>
                        <li>
                          <a href="#buscar-bina" class="toc-h3 toc-link" data-title="Buscar Bina">
                            Buscar Bina
                          </a>
                        </li>
                        <li>
                          <a href="#deletar-bina" class="toc-h3 toc-link" data-title="Deletar Bina">
                            Deletar Bina
                          </a>
                        </li>
                        <li>
                          <a href="#relatorio-bina" class="toc-h3 toc-link" data-title="Relatório Bina">
                            Relatório Bina
                          </a>
                        </li>
                    </ul>
                </li>
                <li>
                  <a href="#central-telefonica" class="toc-h2 toc-link" data-title="Central Telefônica">
                    Central Telefônica
                  </a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#objeto-ramal" class="toc-h3 toc-link" data-title="Objeto Ramal">
                            Objeto Ramal
                          </a>
                        </li>
                        <li>
                          <a href="#criar-ramal" class="toc-h3 toc-link" data-title="Criar ramal">
                            Criar ramal
                          </a>
                        </li>
                        <li>
                          <a href="#buscar-ramal" class="toc-h3 toc-link" data-title="Buscar Ramal">
                            Buscar Ramal
                          </a>
                        </li>
                        <li>
                          <a href="#editar-ramal" class="toc-h3 toc-link" data-title="Editar Ramal">
                            Editar Ramal
                          </a>
                        </li>
                        <li>
                          <a href="#editar-ramal-na-fila" class="toc-h3 toc-link" data-title="Editar Ramal na fila">
                            Editar Ramal na fila
                          </a>
                        </li>
                        <li>
                          <a href="#deletar-ramal" class="toc-h3 toc-link" data-title="Deletar Ramal">
                            Deletar Ramal
                          </a>
                        </li>
                        <li>
                          <a href="#listar-ramais-criados" class="toc-h3 toc-link" data-title="Listar Ramais criados">
                            Listar Ramais criados
                          </a>
                        </li>
                        <li>
                          <a href="#listar-pausas-do-ramal" class="toc-h3 toc-link" data-title="Listar pausas do ramal">
                            Listar pausas do ramal
                          </a>
                        </li>
                        <li>
                          <a href="#listar-ligacoes-do-ramal" class="toc-h3 toc-link" data-title="Listar ligações do ramal">
                            Listar ligações do ramal
                          </a>
                        </li>
                    </ul>
                </li>
                <li>
                  <a href="#fila" class="toc-h2 toc-link" data-title="Fila">
                    Fila
                  </a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#objeto-fila" class="toc-h3 toc-link" data-title="Objeto Fila">
                            Objeto Fila
                          </a>
                        </li>
                        <li>
                          <a href="#criar-fila" class="toc-h3 toc-link" data-title="Criar Fila">
                            Criar Fila
                          </a>
                        </li>
                        <li>
                          <a href="#buscar-fila" class="toc-h3 toc-link" data-title="Buscar Fila">
                            Buscar Fila
                          </a>
                        </li>
                        <li>
                          <a href="#editar-fila" class="toc-h3 toc-link" data-title="Editar Fila">
                            Editar Fila
                          </a>
                        </li>
                        <li>
                          <a href="#adicionar-ramal" class="toc-h3 toc-link" data-title="Adicionar ramal">
                            Adicionar ramal
                          </a>
                        </li>
                        <li>
                          <a href="#deletar-ramal-2" class="toc-h3 toc-link" data-title="Deletar ramal">
                            Deletar ramal
                          </a>
                        </li>
                        <li>
                          <a href="#buscar-ramal-2" class="toc-h3 toc-link" data-title="Buscar ramal">
                            Buscar ramal
                          </a>
                        </li>
                        <li>
                          <a href="#relatorio-fila" class="toc-h3 toc-link" data-title="Relatório Fila">
                            Relatório Fila
                          </a>
                        </li>
                    </ul>
                </li>
                <li>
                  <a href="#numeros-de-telefone-did" class="toc-h2 toc-link" data-title="Números de telefone (DID)">
                    Números de telefone (DID)
                  </a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#objeto-did" class="toc-h3 toc-link" data-title="Objeto DID">
                            Objeto DID
                          </a>
                        </li>
                        <li>
                          <a href="#consultar-dids" class="toc-h3 toc-link" data-title="Consultar DIDs">
                            Consultar DIDs
                          </a>
                        </li>
                        <li>
                          <a href="#atualizar-did" class="toc-h3 toc-link" data-title="Atualizar DID">
                            Atualizar DID
                          </a>
                        </li>
                        <li>
                          <a href="#deletar-did" class="toc-h3 toc-link" data-title="Deletar DID">
                            Deletar DID
                          </a>
                        </li>
                        <li>
                          <a href="#objeto-chamada-did" class="toc-h3 toc-link" data-title="Objeto Chamada DID">
                            Objeto Chamada DID
                          </a>
                        </li>
                        <li>
                          <a href="#buscar-chamada-recebida" class="toc-h3 toc-link" data-title="Buscar chamada recebida">
                            Buscar chamada recebida
                          </a>
                        </li>
                        <li>
                          <a href="#relatorio-chamadas-recebidas-por-did" class="toc-h3 toc-link" data-title="Relatório chamadas recebidas por DID">
                            Relatório chamadas recebidas por DID
                          </a>
                        </li>
                        <li>
                          <a href="#relatorio-de-todas-as-chamadas" class="toc-h3 toc-link" data-title="Relatório de todas as chamadas">
                            Relatório de todas as chamadas
                          </a>
                        </li>
                    </ul>
                </li>
                <li>
                  <a href="#ura" class="toc-h2 toc-link" data-title="URA">
                    URA
                  </a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#objeto-ura" class="toc-h3 toc-link" data-title="Objeto URA">
                            Objeto URA
                          </a>
                        </li>
                        <li>
                          <a href="#parametros-da-estrutura-da-ura" class="toc-h3 toc-link" data-title="Parâmetros da estrutura da URA">
                            Parâmetros da estrutura da URA
                          </a>
                        </li>
                        <li>
                          <a href="#criar-ura" class="toc-h3 toc-link" data-title="Criar URA">
                            Criar URA
                          </a>
                        </li>
                        <li>
                          <a href="#buscar-ura" class="toc-h3 toc-link" data-title="Buscar URA">
                            Buscar URA
                          </a>
                        </li>
                        <li>
                          <a href="#editar-ura" class="toc-h3 toc-link" data-title="Editar URA">
                            Editar URA
                          </a>
                        </li>
                        <li>
                          <a href="#deletar-ura" class="toc-h3 toc-link" data-title="Deletar URA">
                            Deletar URA
                          </a>
                        </li>
                        <li>
                          <a href="#relatorio-ura" class="toc-h3 toc-link" data-title="Relatório URA">
                            Relatório URA
                          </a>
                        </li>
                    </ul>
                </li>
            </ul>
          
          </li>
           <li>
            <a href="#apis-de-contas" class="toc-h1 toc-link" data-title="APIs de Contas">APIs de Contas</a>
            <ul class="toc-list-h2">
                <li>
                  <a href="#gerenciar-contas" class="toc-h2 toc-link" data-title="Gerenciar Contas">
                    Gerenciar Contas
                  </a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#objeto-conta" class="toc-h3 toc-link" data-title="Objeto Conta">
                            Objeto Conta
                          </a>
                        </li>
                        <li>
                          <a href="#criar-conta" class="toc-h3 toc-link" data-title="Criar Conta">
                            Criar Conta
                          </a>
                        </li>
                        <li>
                          <a href="#buscar-conta" class="toc-h3 toc-link" data-title="Buscar Conta">
                            Buscar Conta
                          </a>
                        </li>
                        <li>
                          <a href="#alterar-conta" class="toc-h3 toc-link" data-title="Alterar Conta">
                            Alterar Conta
                          </a>
                        </li>
                        <li>
                          <a href="#deletar-conta" class="toc-h3 toc-link" data-title="Deletar Conta">
                            Deletar Conta
                          </a>
                        </li>
                        <li>
                          <a href="#relatorio-de-contas" class="toc-h3 toc-link" data-title="Relatório de Contas">
                            Relatório de Contas
                          </a>
                        </li>
                        <li>
                          <a href="#credito-bonus" class="toc-h3 toc-link" data-title="Crédito bônus">
                            Crédito bônus
                          </a>
                        </li>
                        <li>
                          <a href="#webhooks" class="toc-h3 toc-link" data-title="Webhooks">
                            Webhooks
                          </a>
                        </li>
                        <li>
                          <a href="#listar-webhooks" class="toc-h3 toc-link" data-title="Listar Webhooks">
                            Listar Webhooks
                          </a>
                        </li>
                        <li>
                          <a href="#remover-webhooks" class="toc-h3 toc-link" data-title="Remover Webhooks">
                            Remover Webhooks
                          </a>
                        </li>
                        <li>
                          <a href="#alterar-um-webhook" class="toc-h3 toc-link" data-title="Alterar um webhook">
                            Alterar um webhook
                          </a>
                        </li>
                    </ul>
                </li>
                <li>
                  <a href="#minha-conta" class="toc-h2 toc-link" data-title="Minha conta">
                    Minha conta
                  </a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#objeto-minha-conta" class="toc-h3 toc-link" data-title="Objeto Minha Conta">
                            Objeto Minha Conta
                          </a>
                        </li>
                        <li>
                          <a href="#objeto-resposta-minha-conta" class="toc-h3 toc-link" data-title="Objeto Resposta - Minha conta">
                            Objeto Resposta - Minha conta
                          </a>
                        </li>
                        <li>
                          <a href="#consultar-saldo-da-conta" class="toc-h3 toc-link" data-title="Consultar saldo da Conta">
                            Consultar saldo da Conta
                          </a>
                        </li>
                        <li>
                          <a href="#buscar-conta-2" class="toc-h3 toc-link" data-title="Buscar conta">
                            Buscar conta
                          </a>
                        </li>
                        <li>
                          <a href="#alterar-conta-2" class="toc-h3 toc-link" data-title="Alterar Conta">
                            Alterar Conta
                          </a>
                        </li>
                        <li>
                          <a href="#relatorio-de-recarga" class="toc-h3 toc-link" data-title="Relatório de Recarga">
                            Relatório de Recarga
                          </a>
                        </li>
                        <li>
                          <a href="#url-de-recarga" class="toc-h3 toc-link" data-title="URL de recarga">
                            URL de recarga
                          </a>
                        </li>
                    </ul>
                </li>
            </ul>
          
          </li>
           <li>
            <a href="#apis-de-ligacoes" class="toc-h1 toc-link" data-title="APIs de Ligações">APIs de Ligações</a>
            <ul class="toc-list-h2">
                <li>
                  <a href="#chamadas" class="toc-h2 toc-link" data-title="Chamadas">
                    Chamadas
                  </a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#objeto-chamadas" class="toc-h3 toc-link" data-title="Objeto Chamadas">
                            Objeto Chamadas
                          </a>
                        </li>
                        <li>
                          <a href="#objeto-origem-destino" class="toc-h3 toc-link" data-title="Objeto Origem/Destino">
                            Objeto Origem/Destino
                          </a>
                        </li>
                        <li>
                          <a href="#criar-chamada" class="toc-h3 toc-link" data-title="Criar Chamada">
                            Criar Chamada
                          </a>
                        </li>
                        <li>
                          <a href="#desligar-chamada" class="toc-h3 toc-link" data-title="Desligar Chamada">
                            Desligar Chamada
                          </a>
                        </li>
                        <li>
                          <a href="#buscar-chamada" class="toc-h3 toc-link" data-title="Buscar Chamada">
                            Buscar Chamada
                          </a>
                        </li>
                        <li>
                          <a href="#buscar-gravacao-da-chamada" class="toc-h3 toc-link" data-title="Buscar gravação da Chamada">
                            Buscar gravação da Chamada
                          </a>
                        </li>
                        <li>
                          <a href="#relatorio-chamadas" class="toc-h3 toc-link" data-title="Relatório Chamadas">
                            Relatório Chamadas
                          </a>
                        </li>
                        <li>
                          <a href="#escutar-chamadas" class="toc-h3 toc-link" data-title="Escutar Chamadas">
                            Escutar Chamadas
                          </a>
                        </li>
                        <li>
                          <a href="#transferir-chamadas" class="toc-h3 toc-link" data-title="Transferir Chamadas">
                            Transferir Chamadas
                          </a>
                        </li>
                        <li>
                          <a href="#avaliar-chamadas" class="toc-h3 toc-link" data-title="Avaliar Chamadas">
                            Avaliar Chamadas
                          </a>
                        </li>
                    </ul>
                </li>
                <li>
                  <a href="#conferencias" class="toc-h2 toc-link" data-title="Conferências">
                    Conferências
                  </a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#objeto-conferencias" class="toc-h3 toc-link" data-title="Objeto Conferências">
                            Objeto Conferências
                          </a>
                        </li>
                        <li>
                          <a href="#objeto-chamada-da-conferencia" class="toc-h3 toc-link" data-title="Objeto Chamada da Conferência">
                            Objeto Chamada da Conferência
                          </a>
                        </li>
                        <li>
                          <a href="#criar-conferencia" class="toc-h3 toc-link" data-title="Criar Conferência">
                            Criar Conferência
                          </a>
                        </li>
                        <li>
                          <a href="#buscar-conferencia" class="toc-h3 toc-link" data-title="Buscar Conferência">
                            Buscar Conferência
                          </a>
                        </li>
                        <li>
                          <a href="#encerrar-conferencia" class="toc-h3 toc-link" data-title="Encerrar Conferência">
                            Encerrar Conferência
                          </a>
                        </li>
                        <li>
                          <a href="#relatorio-conferencia" class="toc-h3 toc-link" data-title="Relatório Conferência">
                            Relatório Conferência
                          </a>
                        </li>
                    </ul>
                </li>
                <li>
                  <a href="#webphone" class="toc-h2 toc-link" data-title="Webphone">
                    Webphone
                  </a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#consultar-url-webphone" class="toc-h3 toc-link" data-title="Consultar URL Webphone">
                            Consultar URL Webphone
                          </a>
                        </li>
                        <li>
                          <a href="#criar-webphone" class="toc-h3 toc-link" data-title="Criar Webphone">
                            Criar Webphone
                          </a>
                        </li>
                        <li>
                          <a href="#eventos-do-webphone" class="toc-h3 toc-link" data-title="Eventos do Webphone">
                            Eventos do Webphone
                          </a>
                        </li>
                    </ul>
                </li>
            </ul>
          
          </li>
           <li>
            <a href="#apis-de-torpedos" class="toc-h1 toc-link" data-title="APIs de Torpedos">APIs de Torpedos</a>
            <ul class="toc-list-h2">
                <li>
                  <a href="#audio" class="toc-h2 toc-link" data-title="Áudio">
                    Áudio
                  </a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#objeto-audio" class="toc-h3 toc-link" data-title="Objeto Áudio">
                            Objeto Áudio
                          </a>
                        </li>
                        <li>
                          <a href="#criar-audio" class="toc-h3 toc-link" data-title="Criar Áudio">
                            Criar Áudio
                          </a>
                        </li>
                        <li>
                          <a href="#buscar-audio" class="toc-h3 toc-link" data-title="Buscar Áudio">
                            Buscar Áudio
                          </a>
                        </li>
                        <li>
                          <a href="#relatorio-audio" class="toc-h3 toc-link" data-title="Relátorio Áudio">
                            Relátorio Áudio
                          </a>
                        </li>
                    </ul>
                </li>
                <li>
                  <a href="#composto" class="toc-h2 toc-link" data-title="Composto">
                    Composto
                  </a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#objeto-composto" class="toc-h3 toc-link" data-title="Objeto Composto">
                            Objeto Composto
                          </a>
                        </li>
                        <li>
                          <a href="#criar-composto" class="toc-h3 toc-link" data-title="Criar Composto">
                            Criar Composto
                          </a>
                        </li>
                        <li>
                          <a href="#buscar-composto" class="toc-h3 toc-link" data-title="Buscar Composto">
                            Buscar Composto
                          </a>
                        </li>
                        <li>
                          <a href="#relatorio-composto" class="toc-h3 toc-link" data-title="Relatório Composto">
                            Relatório Composto
                          </a>
                        </li>
                    </ul>
                </li>
                <li>
                  <a href="#tts-leitura-de-texto" class="toc-h2 toc-link" data-title="TTS: Leitura de Texto">
                    TTS: Leitura de Texto
                  </a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#objeto-tts" class="toc-h3 toc-link" data-title="Objeto TTS:">
                            Objeto TTS:
                          </a>
                        </li>
                        <li>
                          <a href="#criar-tts" class="toc-h3 toc-link" data-title="Criar TTS">
                            Criar TTS
                          </a>
                        </li>
                    </ul>
                </li>
                <li>
                  <a href="#buscar-tts" class="toc-h2 toc-link" data-title="Buscar TTS">
                    Buscar TTS
                  </a>
                </li>
                <li>
                  <a href="#relatorio-tts" class="toc-h2 toc-link" data-title="Relatório TTS">
                    Relatório TTS
                  </a>
                </li>
            </ul>
          
          </li>
           <li>
            <a href="#sms-descontinuado" class="toc-h1 toc-link" data-title="SMS (descontinuado)">SMS (descontinuado)</a>
            <ul class="toc-list-h2">
                <li>
                  <a href="#objeto-sms" class="toc-h2 toc-link" data-title="Objeto Sms">
                    Objeto Sms
                  </a>
                </li>
                <li>
                  <a href="#objeto-resposta-sms" class="toc-h2 toc-link" data-title="Objeto Resposta SMS">
                    Objeto Resposta SMS
                  </a>
                </li>
                <li>
                  <a href="#enviar-um-sms" class="toc-h2 toc-link" data-title="Enviar um SMS">
                    Enviar um SMS
                  </a>
                </li>
                <li>
                  <a href="#buscar-sms" class="toc-h2 toc-link" data-title="Buscar SMS">
                    Buscar SMS
                  </a>
                </li>
                <li>
                  <a href="#relatorio-sms" class="toc-h2 toc-link" data-title="Relatório SMS">
                    Relatório SMS
                  </a>
                </li>
            </ul>
          
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='https://voice-app.zenvia.com/painel' target="_blank">Entrar</a></li>
            <li><a href='https://voice-app.zenvia.com/painel/signup.php' target="_blank">Criar Conta</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='comecando'>Começando</h1><h2 id='visao-geral-da-plataforma'>Visão geral da plataforma</h2>
<blockquote>
<p><b>API Endpoint</b></p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-api.zenvia.com/
</code></pre>
<p>A plataforma de desenvolvedor da API de Voz da Zenvia fornece tudo o que desenvolvedores precisam para começar a usar as APIs e ampliar a estratégia de comunicação utilizando nossos recursos de voz para efetuar e receber chamadas ou enviar torpedos. </p>

<p>Os guias aqui disponibilizados fornecem ferramentas, recursos, dados e produtos de API para você integrar e estender seus resultados de pesquisas e campanhas.</p>

<p>Links rápidos:</p>

<ul>
<li><a href="https://voice-app.zenvia.com/painel/signup.php">Inscreva-se para uma conta</a></li>
<li><a href="#permissoes-de-conta">Permissões de conta</a></li>
<li><a href="#em-breve">Descubra as APIs que funcionam melhor para você</a></li>
<li><a href="#testes">Realize seu primeiro teste</a></li>
</ul>
<h3 id='por-que-usar-nossas-apis'>Por que usar nossas APIs?</h3>
<p>A solução de voz da Zenvia é destinada para desenvolvedores que precisam de uma comunicação automatizada e principalmente integrada com as ferramentas que a sua empresa já possui.</p>

<p>Nossas APIs de fácil utilização oferecem interações e soluções para chamadas e torpedos de voz através de programação direta. Com elas, você tem: </p>

<p><img src="images/solucoes-api-banner.png" title="Soluções API de voz" alt="Soluções API de voz" /></p>
<h3 id='como-a-plataforma-esta-organizada'>Como a plataforma está organizada</h3>
<p>A plataforma de desenvolvedor é organizada por APIs diferentes de acordo com a necessidade de integração. </p>

<p>Reunimos uma seção de introdução diferente para cada uma contendo todas as suas especificidades. Atualmente, nossas APIs são:</p>

<h4>Áudio</h4>

<p>Essa API permite que você envie um torpedo de voz ou mensagens de voz do tipo áudio para determinados números. </p>

<h4>Central Telefônica</h4>

<p>Na central telefônica você poderá fazer configurações e retirar relatórios de ramal e URAs.</p>

<h4>Fila</h4>

<p>A funcionalidade de filas permite a automatização e manipulação de filas de atendimento.</p>

<h4>Chamadas</h4>

<p>Essa API permite que você crie chamadas, podendo gravar as ligações, agendar e binar o seu próprio número. Também permite gerar relatório de chamadas, derrubar chamadas em andamento, transferir chamadas e avaliar de chamadas.</p>

<h4>Composto</h4>

<p>A funcionalidade de Envio de Composto, permite que você envie mensagens de voz por telefone misturando gravações de áudio MP3 com TTS e também realize algumas outras funções de central telefônica como coletar DTMF e transferir.</p>

<h4>Conferências</h4>

<p>Essa API permite criar e receber um ID para realizar chamadas que, ao serem atendidas, conectam-se a essa conferência. </p>

<h4>DIDs</h4>

<aside class="notice"> 
Antes era possível consultar os números de DIDs disponíveis e comprá-los automaticamente. Atualmente é necessário entrar em contato com o time de suporte da equipe de voz da Zenvia pelo email <a href="email:suporte.voz@zenvia.com">suporte.voz@zenvia.com</a>
</aside>

<p>A funcionalidade DID (Número de telefone para recebimento de chamadas) permite que você gerencie, adquira ou remova um DID da sua Conta</p>

<h4>Gerenciar Contas</h4>

<p>Com essa API você pode criar, consultar, alterar e deletar contas filhas, sendo as contas filhas exatamente iguais a qualquer outra conta na Zenvia. </p>

<h4>Minha Conta</h4>

<p>Essa funcionalidade permite que você visualize seu saldo, monitore suas contas e suas recargas, edite suas contas e configure e visualize seus webhooks.</p>

<h4>Bina</h4>

<p>Este endpoint permite que você cadastre e valide suas binas para utilizá-las em chamadas e torpedos de voz com o intuito de identificar ao destino que a ligação é sua, independente do número que estiver sendo utilizado para realizar a chamada.</p>

<h4>SMS</h4>

<p>O SMS permite que você envie mensagens de texto pela nossa API. </p>

<h4>TTS Leitura de Texto</h4>

<p>A funcionalidade de TTS permite que você nos envie uma mensagem de texto e nosso torpedo de voz irá transformar em áudio.</p>

<h4>Verificação (2FA)</h4>

<p>A funcionalidade de verificação ou Two Factor Authentication(2FA), envia um código para um número de telefone e depois você pode verificar se o código informado pelo usuário é válido.</p>

<h4>Webphone</h4>

<p>Consulta a URL do Webphone de um determinado Ramal enviando os parâmetros para pré-configuração</p>
<h2 id='bibliotecas'>Bibliotecas</h2>
<p>Em nosso <a href="https://github.com/totalvoice">GitHub</a> você encontra bibliotecas de cliente e de código aberto que podem ajudá-lo a integrar nossas APIs ao seu sistema de forma mais rápida. </p>

<ul>
<li><a href="https://github.com/totalvoice/totalvoice-php">PHP</a></li>
<li><a href="https://github.com/totalvoice/totalvoice-node">Node</a></li>
<li><a href="https://github.com/totalvoice/totalvoice-go">GO</a></li>
<li><a href="https://github.com/totalvoice/totalvoice-csharp">C#</a></li>
<li><a href="https://github.com/totalvoice/totalvoice-python">Python</a></li>
<li><a href="https://github.com/totalvoice/totalvoice-java">Java</a></li>
<li><a href="https://github.com/totalvoice/totalvoice-ruby">Ruby</a></li>
</ul>
<h2 id='suporte'>Suporte</h2>
<p>Caso você não encontre algum material ou tenha alguma dúvida técnica que não esteja na documentação, entre em contato conosco pelos nossos canais de suporte.</p>

<ul>
<li>E-mail: suporte.voz@zenvia.com.</li>
<li>Chat: na plataforma de Voz da Zenvia.</li>
</ul>
<h3 id='visite-as-paginas-especificas-de-cada-api-para-obter-mais-informacoes-sobre-como-comecar-a-utiliza-las'>Visite as páginas específicas de cada API para obter mais informações sobre como começar a utilizá-las.</h3>
<table class="table-with-textual-content">
    <tbody>
        <tr>
            <td><a href="#audio">Áudio</a></td>
            <td><a href="#gerenciar-contas">Gerenciar Contas</a></td>
        </tr>
        <tr>
            <td><a href="#central-telefonica">Central Telefônica</a></td>
            <td><a href="#minha-conta">Minha Conta</a></td>
        </tr>
        <tr>
            <td><a href="#fila">Fila</a></td>
            <td><a href="#bina">Bina</a></td>
        </tr>
        <tr>
            <td><a href="#chamadas">Chamadas</a></td>
            <td><a href="#sms">SMS</a></td>
        </tr>
        <tr>
            <td><a href="#composto">Composto</a></td>
            <td><a href="#tts-leitura-de-texto">TTS Leitura de Texto</a></td>
        </tr>
        <tr>
            <td><a href="#conferencias">Conferências</a></td>
            <td><a href="#verificacao-2fa">Verificação (2FA)</a></td>
        </tr>
        <tr>
            <td><a href="#dids">DIDs</a></td>
            <td><a href="#webphone">Webphone</a></td>
        </tr>
    </tbody>
</table>  
<h1 id='guia-do-usuario'>Guia do usuário</h1><h2 id='introducao'>Introdução</h2>
<p>Os documentos a seguir ajudarão você a interagir com a API REST e começar a utilizar nossos recursos de voz para efetuar ou receber chamadas e enviar torpedos. </p>

<p>Utilizamos o JSON para estruturar nossos dados e um endereço único da API para identificar os serviços e seus respectivos códigos de respostas HTTP.  </p>

<p>💡 Usamos serviços de &quot;cross-origin&quot;, aceitando interações de qualquer domínio seguro. Portanto, você pode realizar uma requisição para determinado recurso utilizando alguma API Client. </p>
<h2 id='guia-de-inicio-inscreva-se-para-uma-conta'>Guia de início: Inscreva-se para uma conta</h2>
<p>Você deve começar criando uma conta em nosso site. A inscrição é necessária para testar APIs, integrá-las ao seu sistema ou aplicativo e usufruir dos recursos disponíveis. </p>

<p>Inscreva-se <a href="https://voice-app.zenvia.com/painel/signup.php">neste link</a> e siga os passos abaixo:</p>

<ol>
<li>Preencha os dados solicitados e clique em Criar conta;</li>
<li>Valide seu cadastro através do e-mail e telefone;</li>
<li>Acesse o painel.</li>
</ol>

<p>Na página principal da sua conta, você terá acesso ao <strong>Access-Token</strong> que será utilizado para autenticação no serviço. Ele estará disponível e localizado conforme sinalizado na imagem:</p>

<p><img src="images/access-token-painel.png" title="Onde encontrar Access-Token" alt="Onde encontrar Access-Token" /></p>
<h2 id='permissoes-de-conta'>Permissões de conta</h2>
<p>O acesso às APIs de Voz da Zenvia possui uma hierarquia de contas onde cada uma contém suas especificidades. </p>

<p>Ao criar uma nova conta, a mesma é criada automaticamente como Trial. Esse tipo possui limitações que garantem a segurança do negócio, evitando assim que pessoas mal intencionadas utilizem nossos serviços.</p>

<p>Por outro lado, após validar as informações solicitadas (telefone e e-mail), a conta é aprovada instantaneamente. A partir disso, é válido saber:</p>

<table class="table-with-textual-content">
    <thead>
        <tr>
            <th>Tipo de conta</th>
            <th>Descrição</th>
            <th>Subconta</th>
            <th>Limitações</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Contas Trial</td>
            <td>São contas que ainda não tiveram seus dados confirmados, possuindo o intuito apenas de testar as funcionalidades da API.</td>
            <td class="center"><span class="text-wrong">X</span></td>
            <td>
                <ul>
                    <li>São limitados ao envio das funções da API apenas números cadastrados e confirmados no painel.</li>
                    <li>Não podem editar ramais.</li>
                    <li>Máximo de 50 SMS enviados por dias, com limitações de palavras bloqueadas por texto.</li>
                    <li>Função de BINA disponível apenas no torpedo de voz com números cadastrados.</li>
                    <li>Não possui acesso à central telefônica.</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td>Contas Cliente</td>
            <td>Dá a liberdade para utilização da API com apenas algumas limitações por questão de segurança, como aquelas que evitam golpes ou usam spams.</td>
            <td class="center"><span class="text-wrong">X</span></td>
            <td>
                <ul>
                    <li>Não podem binar números não sejam seus confirmados.</li>
                    <li>Não podem criar e administrar contas filhas.</li>
                    <li>Máximo de 50 SMS enviados por dia, limite que cresce de acordo com o uso.</li>
                    <li>SMSs com algumas palavras proibidas (referente à cobranças, instituições financeiras, links, etc).</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td>Contas Pai</td>
            <td>São contas para quem possui a necessidade de criar e administrar outras contas, como em integrações com sistemas, revenda de serviços e utilização por terceiros das funções de telefonia.</td>
            <td class="center">Contas Filhas</td>
            <td>
                <ul>
                    <li>As contas Pais têm as mesmas limitações das contas Clientes, tendo apenas o diferencial de poder administrar subcontas.</li>
                    <li>As contas Filhas são basicamente contas criadas através de outra conta, são parecidas com as contas Clientes, tendo os mesmos privilégios, sendo apenas vinculada a uma outra conta, podendo ser <a href="#alterar-conta">Alterada</a> ou <a href="#deletar-conta">Removida</a> por sua conta Pai.</li>
                </ul>
            </td>
        </tr>
    </tbody>
</table>
<h1 id='recursos-de-desenvolvedor'>Recursos de desenvolvedor</h1><h2 id='autenticacao'>Autenticação</h2>
<p>Este tópico explica como obter e configurar a autorização de <strong>token de acesso</strong> com a API de Voz, principal e única forma de autenticação que aplicamos. </p>

<p>Esta é a maneira como as APIs de Voz da Zenvia garantem que os dados sejam protegidos.</p>

<p>Sua utilização permite que desenvolvedores legitimem sua conta, acessem as APIs para obter informações e realizem as demais requisições desejadas. </p>
<h3 id='sobre-tokens-de-acesso'>Sobre Tokens de Acesso</h3>
<blockquote>
<p><b>Exemplo de autenticação</b></p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code><span class="gp">$ </span>curl https://voice-api.zenvia.com/sms <span class="se">\</span>
    --header <span class="s1">'Access-Token: testeM68PU1Izmb9chEdLzep7IwRymWO'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'testeM68PU1Izmb9chEdLzep7IwRymWO'</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="o">);</span>
</code></pre>
<blockquote>
<p><b>IMPORTANTE:</b> Não esqueça de alterar o Access-Token de exemplo pelo seu token.</p>
</blockquote>

<p>A autorização do token de acesso permite que você, desenvolvedor, acesse as APIs para obter informações da sua conta e realize as chamadas que desejar, bastando apenas utilizar o código como parâmetro. </p>

<p>Exemplo de Access-Token:</p>

<p><code>testeM68PU1Izmb9chEdLzep7IwRymWO</code></p>
<h3 id='geracao-do-access-token'>Geração do Access-Token</h3>
<p>Após criar a sua conta na plataforma, você pode realizar o login <a href="https://voice-app.zenvia.com/painel/login.php">aqui</a> e ter acesso ao seu token da API. </p>

<p>No canto inferior esquerdo da tela inicial, clique no ícone de <em>Copiar</em> em <em>Access Token</em>. </p>

<p><img src="images/access-token-caminho.gif" title="Como encontrar Access-Token" alt="Como encontrar Access-Token" /></p>

<p><strong>Importante:</strong> Lembre-se de copiar e colar o token em um local seguro e mantê-lo em segredo. Recomendamos também não utilizá-lo em código público e nem compartilhá-lo com ninguém fora da sua organização.  </p>
<h3 id='requisicoes'>Requisições</h3>
<p>O código de autenticação retornado na etapa anterior servirá como um ticket de acesso para os serviços disponíveis nas nossas APIs.</p>

<p>Dessa forma, o Token será validado sempre que uma requisição for feita e você deve utilizar o mesmo para cada uma delas. </p>

<p>💡 Lembre-se que as requisições podem ser para áudios, centrais telefônicas, chamadas, entre outras.</p>
<h3 id='solicitacoes'>Solicitações</h3>
<p>As APIs da Zenvia são baseadas no padrão REST e formato JSON para receber e retornar os dados. Esses recursos são acessados através de solicitações HTTP por meio do seguinte caminho:</p>
<h4 id='cabecalho-de-solicitacao-de-autorizacao-http'>Cabeçalho de solicitação de autorização HTTP</h4>
<p>O token deve ser enviado nas requisições através do header padrão do protocolo HTTP. </p>

<p>Toda e qualquer requisição precisa conter em seu cabeçalho (<a href="https://developer.mozilla.org/en-US/docs/Glossary/HTTP_header#:~:text=An%20HTTP%20header%20is%20a,format%20of%20the%20returned%20body">header</a>) o seu código de autenticação (Access-Token), que será utilizado para identificação na plataforma.</p>

<p>💡 Desenvolvedores não necessitam lidar com as complexidades relacionadas à autenticação.  As bibliotecas disponibilizadas pela ZenAPI já fazem a autenticação na requisição HTTP de forma transparente e automática. </p>

<p>🔐 Mantenha seu Token em segredo, tome muito cuidado, não deixe ele exposto em um código público e nunca compartilhe com ninguém fora da sua organização.</p>
<h2 id='respostas-de-api'>Respostas de API</h2>
<blockquote>
<p><b>Exemplo JSON de retorno</b></p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"áudio criado com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4921</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>As respostas das APIs vêm em formato JSON contendo:</p>

<ul>
<li>Cabeçalho padrão;</li>
<li>Cabeçalho com as informações sobre a requisição;</li>
<li>Dados próprios da resposta, localizado no campo dados.</li>
</ul>

<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                status
                <span class="attribute">integer</span>
            </td>
            <td>
                <a href="#codigos-http">Código HTTP</a> da resposta.
             </td>
        </tr>
        <tr>
            <td>
                sucesso
                <span class="attribute">boolean</span>
            </td>
            <td>
                Sucesso ou falha da requisição.
             </td>
        </tr>
        <tr>
            <td>
                motivo
                <span class="attribute">integer</span>
            </td>
            <td>
                <a href="#codigos-de-motivos">Código do motivo</a> da falha ou sucesso.
             </td>
        </tr>
        <tr>
            <td>
                mensagem
                <span class="attribute">string</span>
            </td>
            <td>
                Mensagem de resposta contendo mensagem sucesso ou motivo de falha. 
             </td>
        </tr>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Objeto de resposta variável em cada função da API.
             </td>
        </tr>
    </tbody>
</table>
<h3 id='codigos-http'>Códigos HTTP</h3>
<blockquote>
<p><b>Códigos HTTP utilizados</b>
<table>
    <tr>
        <td>200</td>
        <td>Os dados foram retornados com sucesso.</td>
    </tr>
    <tr>
        <td>400</td>
        <td>Formato do JSON enviado é inválido.</td>
    </tr>
    <tr>
        <td>402</td>
        <td>Sua conta não tem saldo suficiente.</td>
    </tr>
    <tr>
        <td>403</td>
        <td>Sua conta não tem permissão para realizar esse procedimento.</td>
    </tr>
    <tr>
        <td>404</td>
        <td>Objeto de sua pesquisa não foi encontrado.</td>
    </tr>
    <tr>
        <td>405</td>
        <td>Algum dos parâmetros enviados está inválido</td>
    </tr>
    <tr>
        <td>429</td>
        <td>Limite de Requisições por segundo excedido</td>
    </tr>
    <tr>
        <td>500</td>
        <td>Alguma coisa aconteceu internamente.</td>
    </tr>
    <tr>
        <td>501</td>
        <td>Ainda não implementamos essa funcionalidade (?).</td>
    </tr>
</table></p>
</blockquote>

<p>As respostas das requisições realizadas para a API de Voz utilizam os códigos convencionais HTTP.</p>

<p>Elas podem indicar sucesso ou falha, onde: </p>

<ul>
<li>O código 200 responde pelo sucesso;</li>
<li>Códigos que iniciam por 4xx respondem pelas falhas.</li>
<li>Códigos começando com 5xx respondem pelas falhas internas.</li>
</ul>
<h3 id='codigos-de-motivos'>Códigos de Motivos</h3>
<blockquote>
<p><b>Códigos de Motivos</b>
<table>
    <tr>
        <td>0</td>
        <td>Os dados foram retornados com sucesso.</td>
    </tr>
    <tr>
        <td>8</td>
        <td>Sua conta não tem permissão para realizar esse procedimento.</td>
    </tr>
    <tr>
        <td>9</td>
        <td>Sua conta não tem saldo suficiente.</td>
    </tr>
    <tr>
        <td>10</td>
        <td>Você não enviou todos os parâmetros obrigatórios.</td>
    </tr>
    <tr>
        <td>11</td>
        <td>Algum dos parâmetros enviados está inválido.</td>
    </tr>
    <tr>
        <td>20</td>
        <td>Erro porque o registro ficaria duplicado.</td>
    </tr>
    <tr>
        <td>30</td>
        <td>Esta funcionalidade ainda não foi implementada. (Entre em contato)</td>
    </tr>
    <tr>
        <td>40</td>
        <td>Houve uma falha na autenticação, seu Token está correto?</td>
    </tr>
    <tr>
        <td>50</td>
        <td>Erro interno dentro do nosso sistema.</td>
    </tr>
    <tr>
        <td>60</td>
        <td>Não encontramos o elemento que você está procurando.</td>
    </tr>
    <tr>
        <td>70</td>
        <td>A chamada requisitada não contém uma gravação.</td>
    </tr>
    <tr>
        <td>80</td>
        <td>A chamada solicitada não está ativa.</td>
    </tr>
    <tr>
        <td>90</td>
        <td>O caminho não foi encontrado.</td>
    </tr>
    <tr>
        <td>100</td>
        <td>A requisição solicitada é inválida.</td>
    </tr>
</table></p>
</blockquote>

<p>Um dos parâmetros padrões que vêm em toda resposta da API é o motivo. É nele onde detalhamos o motivo pelo qual a sua requisição falhou (ou deu certo).</p>

<p>Ao lado, a tabela detalha a lista de motivos possíveis e mais detalhes seguem no campo mensagem do cabeçalho.</p>

<p><strong>💡 Utilize o atributo <em>sucesso</em> se for apenas para identificar se a requisição deu certo ou não.</strong></p>
<h3 id='status-para-chamada'>Status para Chamada</h3>
<blockquote>
<p><b>Status para Chamada</b>
<table>
    <tr>
        <td>atendida</td>
        <td>A ligação foi atendida.</td>
    </tr>
    <tr>
        <td>sem resposta</td>
        <td>O número não atendeu a ligação.</td>
    </tr>
    <tr>
        <td>ocupado</td>
        <td>A operadora retornou que o número estava ocupado.</td>
    </tr>
    <tr>
        <td>congestionado</td>
        <td>Houve algum problema nas linhas de conexões. (Entre em contato)</td>
    </tr>
    <tr>
        <td>falha</td>
        <td>Não foi possível realizar a ligação.</td>
    </tr>
    <tr>
        <td>cancelada</td>
        <td>A ligação foi cancelada.</td>
    </tr>
    <tr>
        <td>não existe</td>
        <td>O número desta ligação não existe.</td>
    </tr>
</table></p>
</blockquote>

<p>Ao fim de toda ligação, a chamada terá um <em>status</em>. </p>

<p>Ao lado, a tabela detalha a lista dos possíveis status. Caso encontre um status diferente dos mapeados, entre em contato com a nossa equipe.</p>
<h3 id='status-perna-de-ligacao'>Status Perna de Ligação</h3>
<blockquote>
<p><b>Status Perna de Ligação</b>
<table>
    <tr>
        <td>preparando</td>
        <td>A ligação para esta perna ainda não foi iniciada.</td>
    </tr>
    <tr>
        <td>chamando</td>
        <td>O telefone/ramal desta perna está chamando mas não atendeu.</td>
    </tr>
    <tr>
        <td>atendida</td>
        <td>A perna atendeu a ligação.</td>
    </tr>
    <tr>
        <td>ocupado</td>
        <td>A operadora retornou que o número estava ocupado no momento.</td>
    </tr>
    <tr>
        <td>desconhecido</td>
        <td>Houve alguma falha, entrar em contato com o suporte.</td>
    </tr>
</table></p>
</blockquote>

<p>Este caso geralmente se refere às ligações de duas pernas, onde primeiramente é disparada uma chamada para perna A (origem) e, quando esta perna atende, a ligação é disparada a para perna B (destino). </p>

<p>Este parâmetro é retornado nos objetos que representam algum lado (perna) de uma ligação que foi realizada.</p>

<p><strong>Por exemplo:</strong> em um Objeto de um Áudio haverá um único atributo deste que representa o status do número que ele foi enviado. Por outro lado, em uma Chamada você terá um status para cada uma das pernas dela. </p>
<h2 id='testes'>Testes</h2>
<p>Com uma conta criada, é possível realizar testes em nossa plataforma utilizando nosso playground ou em um software para teste de requisições de API, como Postman e Insomnia. </p>

<p>Veja mais detalhes sobre: </p>

<ul>
<li><a href="https://voice-app.zenvia.com/doc/">Playground</a>: Utilize o token da sua conta e faça envios para nossa API. Para isso, basta preencher um formulário com os parâmetros necessários. </li>
<li><p><a href="https://www.postman.com/">Postman</a> ou <a href="https://insomnia.rest/">Insomnia</a>: Para utilizar o software de testes, será necessário que você envie as seguintes informações:</p>

<ol>
<li>Header: 

<ul>
<li><strong>Access-Token</strong> - exemplotesteM68PU1Izmb9chEdLzep7IwRymWO</li>
<li><strong>Content-Type</strong> - application/json</li>
</ul></li>
<li>Body:

<ul>
<li>No corpo da requisição você deve enviar um <strong>JSON</strong> (para requisições POST/PUT)</li>
</ul></li>
</ol></li>
<li><p>Para testar os retornos enviados via webhooks, indicamos os seguintes sites:</p>

<ol>
<li><a href="https://webhook.site/">webhook.site</a></li>
<li><a href="https://requestbin.com/">requestbin.com</a></li>
</ol></li>
</ul>
<h1 id='apis-de-voz'>APIs de Voz</h1>
<blockquote>
<p>À medida em que for rolando para baixo nesta documentação, você verá todas as amostras de código de cada API. Verá também exemplos de solicitações e respostas.</p>
</blockquote>

<p>Desenvolva soluções de comunicação personalizadas com as APIs de Voz apresentadas a
seguir. </p>

<p>Tendo uma plataforma web e móvel, será possível implementar nossos recursos
rápidos e seguros para uma experiência que conecta empresa e cliente.</p>

<ul>
<li>Experiências de chamadas;</li>
<li>Notificações automáticas de voz;</li>
<li>Identificação de padrões de chamada;</li>
<li>Comunicações de voz text-to-speech;</li>
<li>Mensagens de texto transformadas em voz;</li>
<li>Chamadas com maior qualidade e confiança.</li>
</ul>

<p>Logo abaixo você encontrará uma lista de todos os métodos disponíveis para a API de Voz. </p>

<p>❗ É necessário criar uma conta para usar as APIs. Clique <a href="https://totalvoice.github.io/totalvoice-docs/#guia-de-inicio-inscreva-se-para-uma-conta">aqui</a> para este primeiro passo. </p>

<p><strong>URL base:</strong></p>

<p><a href="https://voice-api.zenvia.com">https://voice-api.zenvia.com</a></p>

<p>Escolha qual API melhor atende sua necessidade de integração e implemente com total confiança: </p>

<ol>
<li>APIs de Central</li>
<li>APIs de Contas</li>
<li>APIs de Ligações</li>
<li>APIs de Torpedos</li>
</ol>
<h2 id='verificacao-2fa'>Verificação (2FA)</h2>
<blockquote>
<p><b>Verificação (2FA) Endpoint</b></p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-api.zenvia.com/verificacao
</code></pre>
<p>A funcionalidade de verificação ou Two Factor Authentication(2FA) envia um código para um número de telefone e, em seguida, você pode verificar se o código informado pelo usuário é válido.</p>

<p>Esse código (apenas números) pode ser enviado via SMS (formato de texto), ou então TTS onde você nos passa a mensagem que o usuário que atender a ligação irá ouvir. </p>

<p>Exemplos:</p>

<ul>
<li><p><strong>Mensagem enviada:</strong> Seu código de verificação nome_produto é: 1234</p></li>
<li><p><strong>Observação:</strong> O código enviado para o número de telefone expira em 1 hora.</p></li>
</ul>
<h3 id='enviar-codigo'>Enviar código</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://voice-api.zenvia.com/verificacao
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
             -d <span class="s1">'{"numero_destino":"4811111111","nome_produto":"ZenAPI de Voz","tts":"true"}'</span> <span class="se">\</span>
             <span class="s1">'https://voice-api.zenvia.com/verificacao'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">verificacao</span><span class="o">-&gt;</span><span class="na">enviar</span><span class="p">(</span><span class="s1">'4811111111'</span><span class="p">,</span> <span class="s1">'ZenAPI de Voz'</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">verificacao</span><span class="p">.</span><span class="nx">enviar</span><span class="p">(</span><span class="s2">"4811111111"</span><span class="p">,</span> <span class="s2">"ZenAPI de Voz"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">verificacao</span><span class="o">.</span><span class="n">enviar</span><span class="p">(</span><span class="s">"4811111111"</span><span class="p">,</span><span class="x"> </span><span class="s">"ZenAPI de Voz"</span><span class="p">,</span><span class="x"> </span><span class="no">false</span><span class="p">,</span><span class="x"> </span><span class="s">""</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">verificacao</span><span class="o">.</span><span class="n">enviar</span><span class="p">(</span><span class="s">"4811111111"</span><span class="p">,</span> <span class="s">"ZenAPI de Voz"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Verificacao</span> <span class="n">verificacao</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Verificacao</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">verificacao</span><span class="o">.</span><span class="na">enviar</span><span class="o">(</span><span class="s">"4811111111"</span><span class="o">,</span> <span class="s">"ZenAPI de Voz"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">verificacao</span><span class="p">.</span><span class="nf">enviar</span><span class="p">(</span><span class="s2">"4811111111"</span><span class="p">,</span> <span class="s2">"ZenAPI de Voz"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para enviar um código, basta informar o número de destino seguindo o exemplo de requisição ao lado. Utilize os campos abaixos para informar à nossa API os dados que irá enviar:</p>

<p><strong>POST:</strong> <a href="https://voice-api.zenvia.com/verificacao">https://voice-api.zenvia.com/verificacao</a></p>

<p><strong>REQUEST:</strong></p>

<ul>
<li><strong>Headers</strong></li>
</ul>

<p><strong>Content-Type:</strong> application/json
<strong>Authorization:</strong> Access-Token: seu-token</p>
<h4 id='request'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                numero_destino
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Número do telefone que irá receber o código, via sms ou tts.
             </td>
        </tr>
        <tr>
            <td>
                nome_produto
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Nome do produto que será substituído na mensagem. 
            </td>
        </tr>
        <tr>
            <td>
                tamanho
                <span class="optional">Opcional</span>
            </td>
            <td>
                Tamanho do código que será enviado. Mínimo 4 e máximo 10, o código possui apenas números. Caso não seja informado, é utilizado o valor default = 4.
            </td>
        </tr>
        <tr>
            <td>
                tts
                <span class="optional">Opcional</span>
            </td>
            <td>
                Para que o código de verificação seja enviado por uma ligação (TTS) ao invés de um SMS, basta enviar esse parâmetro como "true". Quando o parâmetro não for enviado, é considerado o valor default "false".
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Retorna o ID de verificação do código enviada.
             </td>
        </tr>
    </tbody>
</table>
<h3 id='consultar-codigo'>Consultar código</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/verificacao
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="s1">'https://voice-api.zenvia.com/verificacao/?id=1234&amp;pin=36355'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">Em</span> <span class="nx">Constru</span><span class="err">çã</span><span class="nx">o</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="nx">Em</span> <span class="nx">Constru</span><span class="err">çã</span><span class="nx">o</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">Em</span><span class="x"> </span><span class="n">Construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">Em</span> <span class="n">Constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Em</span> <span class="n">Constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="no">Em</span> <span class="no">Constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"resultado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"valido"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Após o envio do código, você pode pedir para o usuário inserir na sua plataforma o código recebido para que você possa validar o número dele.</p>

<p>Utilize os campos abaixos para informar à nossa API os dados que irá enviar:</p>

<p><strong>GET:</strong> <a href="https://voice-api.zenvia.com/verificacao">https://voice-api.zenvia.com/verificacao</a></p>

<p><strong>REQUEST:</strong></p>

<ul>
<li><strong>Headers</strong></li>
</ul>

<p><strong>Content-Type:</strong> application/json
<strong>Authorization:</strong> Access-Token: seu-token</p>
<h5 id='request-2'>Request</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID da verificação enviada
             </td>
        </tr>
        <td>
                pin
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Código informado
             </td>
        </tr>
    </tbody>
</table>
<h5 id='response-2'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o 'resultado' da verificação, o resultado pode ser 'válido' ou 'inválido'
             </td>
        </tr>
    </tbody>
</table>
<h2 id='webhooks'>Webhooks</h2>
<p>As notificações de Webhooks são enviadas para seu Endpoint cadastrado no nosso <a href="https://voice-app.zenvia.com/painel/login.php">Painel de Voz</a>. A cada evento ocorrido, uma notificação é disparada. </p>

<p>O método utilizado para o envio dos Webhooks é HTTP POST e as informações referentes ao evento vão no corpo da requisição em formato JSON.</p>

<aside class="notice">Obs: A requisição GET para visualizar os webhooks cadastrados irá trazer apenas aqueles que possuem URL. Caso a conta seja uma subconta e não tenha URL de webhook, serão buscados webhooks default configurados na conta principal.</aside>
<h3 id='configurar-webhook'>Configurar webhook</h3>
<ol>
<li>Para configurar o Webhook, siga os seguintes passos:</li>
<li>Entre no <a href="https://voice-app.zenvia.com/painel/login.php">Painel de Voz</a> com a conta administradora;</li>
<li>Acesse o menu Desenvolvedores na barra superior;</li>
<li>Escolha Configurações da API</li>
<li>Preencha os campos solicitados na criação de cada Webhook.</li>
</ol>

<aside class="notice">Poderá levar até 20 minutos após a configuração no Painel para começar o envio das notificações para o endereço escolhido.</aside>
<h3 id='webhooks-disponiveis'>Webhooks disponíveis</h3>
<p>A seguir, você terá acesso às documentações dos Webhooks disponíveis. São eles:</p>

<ul>
<li><a href="#eventos-em-tempo-real-de-chamada">Eventos em Tempo Real de Chamada</a></li>
<li><a href="#eventos-em-tempo-real-de-ramal">Eventos em Tempo Real de Ramal</a></li>
<li><a href="#eventos-em-tempo-real-de-chamada-did">Eventos em Tempo Real de Chamada DID</a></li>
<li><a href="#eventos-em-tempo-real-de-conferências">Eventos em Tempo Real de Conferências</a></li>
<li><a href="#envio-de-sms">Envio de SMS</a></li>
<li><a href="#resposta-de-sms">Resposta de SMS</a></li>
<li><a href="#aviso-de-saldo">Aviso de saldo</a></li>
<li><a href="#novo-voicemail">Novo Voicemail</a></li>
<li><a href="#status-tempo-real">Status Tempo Real</a></li>
<li><a href="#tts-fim-de-chamada">TTS - Fim de chamada</a></li>
<li><a href="#chamada-fim">Chamada- Fim</a></li>
<li><a href="#did-fim-de-chamada">DID- Fim de Chamada</a></li>
<li><a href="#composto-fim-de-chamada">Composto- Fim de Chamada</a></li>
<li><a href="#audio-fim-de-chamada">Áudio- Fim de chamada</a></li>
</ul>
<h3 id='eventos-em-tempo-real-das-chamadas'>Eventos em Tempo Real das Chamadas</h3>
<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">\\Chamando</span><span class="w"> </span><span class="err">Perna</span><span class="w"> </span><span class="err">A</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T17:21:33"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"origem"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T14:21:33"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movel"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ativo"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T14:21:34"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48988888888"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"chamando"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"gravar_audio"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">37794869</span><span class="p">,</span><span class="w">
  </span><span class="s2">"destino"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movel"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48966663333"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"cliente_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2150</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Esse Webhook é enviado sempre que uma das pernas de uma chamada muda de estado. </p>

<aside class="notice">Este dispositivo se refere apenas ligações realizadas pela API ou através do Webphone/Softphone/Dispositivo de chamada conectado ao nosso sistema.</aside>

<p>Os atributos são:</p>
<h4 id='atributos'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora em que a ligação foi criada.
            </td>
        </tr>
        <tr>
            <td>
                gravar_audio
                <span class="attribute">boolean</span>
            </td>
            <td>
                Se a chamada foi gravada ou não.
             </td>
        </tr>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único desta Chamada.
            </td>
        </tr>
        <tr>
            <td>
                cliente_id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único (na ZenAPI) do cliente que realizou a Chamada.
            </td>
        </tr> 
        <tr>
            <td>
                tags
                <span class="attribute">string</span>
            </td>
            <td>
                Campo de tags que pode ser utilizado pelo cliente na hora da criação da Chamada.
            </td>
        </tr>
        <tr>
            <td>
                origem
                <span class="attribute">object</span>
            </td>
            <td>
                Objeto da perna de <b>origem</b> da Chamada.
            </td>
        </tr>
        <tr>
            <td>
                destino
                <span class="attribute">object</span>
            </td>
            <td>
                Objeto da perna de <b>destino</b> da Chamada.
            </td>
        </tr>
    </tbody>
</table>
<h3 id='eventos-em-tempo-real-de-ramal'>Eventos em Tempo Real de Ramal</h3>
<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data_atendimento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T14:37:03"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ativo"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T14:36:55"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ramal"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"indefinido"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37806158"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="mi">9000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<p>Esse Webhook é enviado a cada mudança de status de alguma chamada de um Ramal, enviando seus dados de chamada.</p>

<p>Os atributos são:</p>
<h4 id='atributos-2'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora em que a ligação para o Ramal foi criada.
            </td>
        </tr>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único desta ligação.
            </td>
        </tr>
        <tr>
            <td>
                tipo
                <span class="attribute">string</span>
            </td>
            <td>
                O tipo do telefone desta perna, vem sempre <b><i>ramal</b></i>.
             </td>
        </tr>
        <tr>
            <td>
                ativo
                <span class="attribute">boolean</span>
            </td>
            <td>
                Informa se a chamada está ativa, caso true, o ramal atendeu e a ligação ainda está conectada.
            </td>
        </tr>
        <tr>
            <td>
                ramal
                <span class="attribute">integer</span>
            </td>
            <td>
                O número do Ramal desta ligação.
            </td>
        </tr>
        <tr>
            <td>
                status
                <span class="attribute">string</span>
            </td>
            <td>
                Representa o <a href="#status-perna-de-ligacao">status atual</a> desta perna na ligação.
            </td>
        </tr>
        <tr>
            <td>
                data_atendimento
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora do momento em que a ligação foi atendida, caso a ligação não tenha sido atendida este atributo não vem.
            </td>
        </tr>
        <tr>
            <td>
                duracao_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração total em segundos da ligação, desde a criação até o encerramento (seja por desligar ou por não atender).
            </td>
        </tr>
        <tr>
            <td>
                duracao_falada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos contados a partir do momento que o ramal atendeu a ligação, até o momento em que foi desligada.
            </td>
        </tr>
        <tr>
            <td>
                motivo_desconexao
                <span class="attribute">String</span>
            </td>
            <td>
                Aqui é informado o motivo do derrubamento da ligação, você pode ver mais em motivos de desconecção.
            </td>
        </tr>
    </tbody>
</table>
<h3 id='eventos-em-tempo-real-de-chamada-did'>Eventos em Tempo Real de Chamada DID</h3>
<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data_atendimento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T14:37:03"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ativo"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T14:36:55"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ramal"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37806158"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="mi">9000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Esse Webhook é enviado a cada mudança de status de alguma chamada recebida por um DID, enviando os dados da chamada e do Ramal que atendeu (caso algum tenha atendido).</p>

<p>Os atributos são:</p>
<h4 id='atributos-3'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único desta Chamada.
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora em que a ligação foi criada.
            </td>
        </tr>
        <tr>
            <td>
                data_atendimento
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora do momento em que a ligação foi atendida pelo DID.
            </td>
        </tr>
        <tr>
            <td>
                ativo
                <span class="attribute">boolean</span>
            </td>
            <td>
                Informa se a chamada está ativa.
            </td>
        </tr>
        <tr>
            <td>
                status
                <span class="attribute">string</span>
            </td>
            <td>
                Representa o <a href="#status-perna-de-ligacao">status atual</a> desta chamada para o DID.
            </td>
        </tr>
        <tr>
            <td>
                duracao_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração total da chamada em segundos, desde a criação até o encerramento (seja por desligar ou por não atender).
            </td>
        </tr>
        <tr>
            <td>
                duracao_falada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos contados a partir do momento que o DID atendeu a ligação até o momento em que foi desligada.
            </td>
        </tr>
        <tr>
            <td>
                ramal
                <span class="attribute">object</span>
            </td>
            <td>
                Caso a ligação para este DID caia em algum ramal, este campo vem preenchido com informações da perna do ramal.
            </td>
        </tr>
        <tr>
            <td>
                tipo
                <span class="attribute">String</span>
            </td>
            <td>
                Tipo de telefone: fixo, móvel ou ramal.
            </td>
        </tr>
    </tbody>
</table>
<h3 id='eventos-em-tempo-real-de-conferencias'>Eventos em Tempo Real de Conferências</h3><pre class="highlight json tab-json"><code><span class="err">\\Entrada</span><span class="w"> </span><span class="err">de</span><span class="w"> </span><span class="err">número</span><span class="w"> </span><span class="err">na</span><span class="w"> </span><span class="err">conferência.</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T18:48:05"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"evento_conferencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Entrou"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48988888888"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"gravar_audio"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"conferencia_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">42874</span><span class="p">,</span><span class="w">
  </span><span class="s2">"chamada_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37823279"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cliente_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2150</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Esse Webhook é enviado a cada mudança dentro de uma conferência.</p>

<p>Exemplos: quem entrou ou saiu da conferência, id da chamada, id da conferência e número que entrou.</p>
<h4 id='atributos-4'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora em que a conferência foi criada.
            </td>
        </tr>
        <tr>
            <td>
                gravar_audio
                <span class="attribute">boolean</span>
            </td>
            <td>
                Se a chamada foi gravada ou não.
             </td>
        </tr>
        <tr>
            <td>
                evento_conferencia
                <span class="attribute">String</span>
            </td>
            <td>
                Informa ação do número/pessoa referente à conferência.
            </td>
        </tr>
        <tr>
            <td>
                cliente_id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único (na Zenvia) do cliente que executou determinada ação na conferência.
            </td>
        </tr> 
        <tr>
            <td>
                numero
                <span class="attribute">String</span>
            </td>
            <td>
                Número do telefone que executou determinada ação na conferência, formato DDD + Número. Exemplo: 4832830151.
            </td>
        </tr> 
        <tr>
            <td>
                conferencia_id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único da conferência.
            </td>
        </tr> 
        <tr>
            <td>
                chamada_id
                <span class="attribute">String</span>
            </td>
            <td>
                Identificador único da chamada realizada para a conferência.
            </td>
        </tr> 
    </tbody>
</table>
<h3 id='envio-de-sms'>Envio de SMS</h3>
<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37787430"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48988888888"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T14:00:38-03:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Olá ZenAPI"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.09</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status_envio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entregue"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T14:01:13-03:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"respostas"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Esse Webhook informa se o SMS foi enviado ou se houve falha. </p>

<p>Os atributos são:</p>
<h4 id='atributos-5'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora em que o SMS foi criado.
            </td>
        </tr>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único deste SMS.
            </td>
        </tr>
        <tr>
            <td>
                numero_destino
                <span class="attribute">string</span>
            </td>
            <td>
                Número do telefone que irá receber o SMS, formato DDD + Número. Exemplo: 4832830151.
            </td>
        </tr>
        <tr>
            <td>
                mensagem
                <span class="attribute">string</span>
            </td>
            <td>
                Mensagem que será enviada para o número. 
            </td>
        </tr>
        <tr>
            <td>
                preco
                <span class="attribute">float</span>
            </td>
            <td>
                Valor cobrado pelo envio
            </td>
        </tr>
        <tr>
            <td>
                preco
                <span class="attribute">float</span>
            </td>
            <td>
                Valor cobrado pelo envio
            </td>
        </tr>
        <tr>
            <td>
                status_envio
                <span class="attribute">float</span>
            </td>
            <td>
                Situação do envio do SMS.
            </td>
        </tr>
        <tr>
            <td>
                data_status
                <span class="attribute">datatime</span>
            </td>
            <td>
                Data e hora que o status foi alterado.
            </td>
        </tr>
        <tr>
            <td>
                resposta_usuario
                <span class="attribute">boolean</span>
            </td>
            <td>
                Aguarda a resposta do usuário: sim ou não
            </td>
        </tr>
        <tr>
            <td>
                respostas
                <span class="attribute">boolean</span>
            </td>
            <td>
                Array contendo os objetos de resposta.
            </td>
        </tr>
    </tbody>
</table>
<h3 id='resposta-de-sms'>Resposta de SMS</h3>
<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w"> 
   </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">16347</span><span class="p">,</span><span class="w">
   </span><span class="s2">"sms_id"</span><span class="p">:</span><span class="mi">133830</span><span class="p">,</span><span class="w">
   </span><span class="s2">"resposta"</span><span class="p">:</span><span class="s2">"SIM"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"data_resposta"</span><span class="p">:</span><span class="s2">"2016-10-17T18:02:20-02:00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Esse Webhook informa quando um usuário responde um SMS.</p>

<p>Os atributos são:</p>
<h4 id='atributos-6'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro de Resposta.
             </td>
        </tr>
        <tr>
            <td>
                sms_id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do SMS vinculado a resposta.
             </td>
        </tr>
        <tr>
            <td>
                resposta
                <span class="attribute">string</span>
            </td>
            <td>
                Texto com a resposta do usuário
            </td>
        </tr>
        <tr>
            <td>
                data_resposta
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi respondido pelo usuário
            </td>
        </tr>
    </tbody>
</table>
<h3 id='aviso-de-saldo'>Aviso de Saldo</h3><pre class="highlight json tab-json"><code><span class="w">   </span><span class="p">{</span><span class="w">
   </span><span class="s2">"saldo"</span><span class="p">:</span><span class="s2">"56.8616"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Esse Webhook informa quando o valor do saldo for inferior ao configurado no &quot;Aviso de Saldo&quot;.</p>

<p>Os atributos são:</p>
<h4 id='atributos-7'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                saldo
                <span class="attribute">float</span>
            </td>
            <td>
                Saldo atual da sua conta
            </td>
        </tr>
    </tbody>
</table>
<h3 id='novo-voicemail'>Novo Voicemail</h3><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1411</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ramal_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">87787</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9561"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"numero_telefone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6136271444"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T17:05:18-03:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.evoline.com.br/recvm/?id=1411&amp;x=094bba9d3a&amp;cid=2150"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Esse Webhook informa quando houver um novo voicemail (mensagem de voz) na caixa postal.</p>
<h4 id='atributos-8'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único deste voicemail.
            </td>
        </tr>
        <tr>
            <td>
                ramal_id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do ramal, o qual irá receber o voicemail.
            </td>
        </tr> 
        <tr>
            <td>
                numero_telefone
                <span class="attribute">string</span>
            </td>
            <td>
                Número do telefone que irá enviar o voicemail para o ramal, formato DDD + Número. Exemplo: 4832830151.
            </td>
        </tr>
        <tr>
            <td>
                data_mensagem
                <span class="attribute">datatime</span>
            </td>
            <td>
                Data e hora em que o voicemail foi recebido.
            </td>
        </tr>
        <tr>
            <td>
                duracao_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração total do voicemail em segundos.
            </td>
        </tr>
        <tr>
            <td>
                url_gravacao
                <span class="attribute">string</span>
            </td>
            <td>
                Quando enviado a opção Gravar Áudio = true, este campo disponibilizará uma URL contendo o áudio da gravação da ligação.
            </td>
        </tr>
    </tbody>
</table>
<h3 id='status-tempo-real'>Status Tempo Real</h3>
<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="err">\\Chamando</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">37785949</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T13:48:19-03:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ativa"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cliente_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">91227</span><span class="p">,</span><span class="w">
  </span><span class="s2">"conta_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">91227</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ramal_id_origem"</span><span class="p">:</span><span class="w"> </span><span class="mi">86453</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status_geral"</span><span class="p">:</span><span class="w"> </span><span class="s2">"curso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"origem"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ramal"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"chamando"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:10"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"indefinido"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"destino"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48988888888"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movel"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"preparando"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:09"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"indefinido"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"gravacoes_parciais"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Durante uma chamada, este webhook é acionado sempre que o status mudar (de &quot;chamando&quot; para &quot;atendido&quot;, por exemplo). </p>

<aside class="notice">Limitado em 1 request a cada 2s por chamada ativa.</aside>
<h4 id='atributos-9'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro da chamada.
             </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data de criação do registro da chamada. Data e Hora no formato UTC.
            </td>
        </tr>
        <tr>
            <td>
                ativa
                <span class="attribute">boolean</span>
            </td>
            <td>
                Identifica se a chamada está ativa ou não.
             </td>
        </tr>
        <tr>
            <td>
                url_gravacao
                <span class="attribute">string</span>
            </td>
            <td>
                URL com áudio da gravação da chamada.
             </td>
        </tr>
        <tr>
            <td>
                cliente_id
                <span class="attribute">integer</span>
            </td>
            <td>
               Identificação do cliente referente a chamada.
            </td>
        </tr>
        <tr>
            <td>
                conta_id
                <span class="attribute">integer</span>
            </td>
            <td>
               Identificação da Conta referente a chamada.
            </td>
        </tr>
        <tr>
            <td>
                ramal_id_origem
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do ramal que originou a chamada referente a ligação, se houver. 
            </td>
        </tr>
        <tr>
            <td>
                tags
                <span class="attribute">string</span>
            </td>
            <td>
                Informação adicional que pode ser retornada no objeto, como um ID Externo por exemplo. Você consegue enviar essa informação no Post da Chamada e recuperar posteriormente nessa consulta. 
            </td>
        </tr>
        <tr>
            <td>
                status_geral
                <span class="attribute">string</span>
            </td>
            <td>
                Status geral da Chamada. 
                <ul>
                    <li>criada: chamada foi criada</li>
                    <li>curso: está em andamento</li>
                    <li>finalizada: chamada foi finalizada</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td>
                origem / destino
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna os objetos <a href="#objeto-origem-destino">origem/destino</a>
            </td>
        </tr>
    </tbody>
</table>
<h3 id='tts-fim-de-chamada'>TTS - Fim de Chamada</h3>
<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">37784550</span><span class="p">,</span><span class="w">
  </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48988888888"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T13:34:57.000-03:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T13:34:58.000-03:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movel"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:17"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:01:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:10"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.35</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16. normal"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ôôôôoooooooolááaaaaaaaaaa"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Esse Webhook é enviado ao fim de toda chamada TTS, enviando detalhes como duração e status. </p>
<h4 id='atributos-10'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro do TTS.
             </td>
        </tr>
        <tr>
            <td>
                numero_destino
                <span class="attribute">string</span>
            </td>
            <td>
                Número do destinatário que foi enviado o TTS.
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi criado o registro.
            </td>
        </tr>
        <tr>
            <td>
                data_inicio
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi iniciado o processamento do TTS.
            </td>
        </tr>
        <tr>
            <td>
                tipo
                <span class="attribute">string</span>
            </td>
            <td>
                Tipo de telefone: fixo, móvel ou ramal.
            </td>
        </tr>
        <tr>
            <td>
                status
                <span class="attribute">string</span>
            </td>
            <td>
                Status do registro.
            </td>
        </tr>
        <tr>
            <td>
                duracao_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração total em <i>segundos</i> da chamada, desde o início do processamento.
            </td>
        </tr>
        <tr>
            <td>
                duracao
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração total da chamada desde o início do processamento
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em <i>segundos</i> para fins de cobrança.
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração considerada para fins de cobrança.
            </td>
        </tr>
                <tr>
            <td>
                duracao_falada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em <i>segundos</i> da chamada desde que o destino atendeu.
            </td>
        </tr>
        <tr>
            <td>
                duracao_falada
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração da chamada desde que o destino atendeu.
            </td>
        </tr>
        <tr>
            <td>
                preco
                <span class="attribute">float</span>
            </td>
            <td>
                Valor cobrado pela chamada.
            </td>
        </tr>
        <tr>
            <td>
                mensagem
                <span class="attribute">float</span>
            </td>
            <td>
                Mensagem em forma de texto que você nos enviou.
            </td>
        </tr>
        <tr>
            <td>
                resposta_usuario
                <span class="attribute">boolean</span>
            </td>
            <td>
                Valor enviado identificando se aceita a resposta do usuário.
            </td>
        </tr>
        <tr>
            <td>
                resposta
                <span class="attribute">string</span>
            </td>
            <td>
                Se você enviou resposta_usuario = true, quando o usuário executa alguma ação no teclado númerico do dispositivo, o valor será exibido neste campo (DTMF).
            </td>
        </tr>
        <tr>
            <td>
                motivo_desconexao
                <span class="attribute">string</span>
            </td>
            <td>
                Aqui é informado o motivo do derrubamento da ligação, você pode ver mais em <a href="#codigos-de-motivos">motivos de desconecção</a>
            </td>
        </tr>
    </tbody>
</table>
<h3 id='chamada-fim'>Chamada - Fim</h3>
<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">37721262</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T11:19:11-03:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ativa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.evoline.com.br/rec/?id=37721262&amp;x=7a8718b28b&amp;cid=2150"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cliente_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2150</span><span class="p">,</span><span class="w">
  </span><span class="s2">"conta_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2150</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ramal_id_origem"</span><span class="p">:</span><span class="w"> </span><span class="mi">62291</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status_geral"</span><span class="p">:</span><span class="w"> </span><span class="s2">"finalizada"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"origem"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9998"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ramal"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"indefinido"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"destino"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T11:19:11-03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48988888888"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movel"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:24"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:01:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:14"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.35</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16. normal"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"gravacoes_parciais"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Esse Webhook é enviado ao fim de toda chamada, enviando detalhes como duração e preço. </p>

<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro da chamada.
             </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data de criação do registro da chamada. Data e Hora no formato UTC.
            </td>
        </tr>
        <tr>
            <td>
                ativa
                <span class="attribute">boolean</span>
            </td>
            <td>
                Identifica se a chamada está ativa ou não.
             </td>
        </tr>
        <tr>
            <td>
                url_gravacao
                <span class="attribute">string</span>
            </td>
            <td>
                URL com áudio da gravação da chamada.
             </td>
        </tr>
        <tr>
            <td>
                cliente_id
                <span class="attribute">integer</span>
            </td>
            <td>
               Identificação do cliente referente a chamada.
            </td>
        </tr>
        <tr>
            <td>
                conta_id
                <span class="attribute">integer</span>
            </td>
            <td>
               Identificação da Conta referente a chamada.
            </td>
        </tr>
        <tr>
            <td>
                ramal_id_origem
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do ramal que originou a chamada referente a ligação, se houver. 
            </td>
        </tr>
        <tr>
            <td>
                tags
                <span class="attribute">string</span>
            </td>
            <td>
                Informação adicional que pode ser retornada no objeto, como um ID Externo por exemplo. Você consegue enviar essa informação no Post da Chamada e recuperar posteriormente nessa consulta. 
            </td>
        </tr>
        <tr>
            <td>
                status_geral
                <span class="attribute">string</span>
            </td>
            <td>
                Status geral da Chamada. 
                <ul>
                    <li>criada: chamada foi criada</li>
                    <li>curso: está em andamento</li>
                    <li>finalizada: chamada foi finalizada</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td>
                origem / destino
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna os objetos <a href="#objeto-origem-destino">origem/destino</a>
            </td>
        </tr>
    </tbody>
</table>
<h3 id='did-fim-de-chamada'>DID - Fim de Chamada</h3>
<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">37721125</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T11:18:20-03:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ativa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.evoline.com.br/rec/?id=37721125&amp;x=7a020a1a16&amp;cid=2150"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cliente_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2150</span><span class="p">,</span><span class="w">
  </span><span class="s2">"conta_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2150</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ramal_id_origem"</span><span class="p">:</span><span class="w"> </span><span class="mi">62291</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status_geral"</span><span class="p">:</span><span class="w"> </span><span class="s2">"finalizada"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"origem"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9998"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ramal"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"indefinido"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"destino"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T11:18:19-03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48988888888"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movel"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ocupado"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">31</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:31"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"indefinido"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"gravacoes_parciais"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Esse Webhook é enviado ao fim de toda chamada recebida (DID), enviando detalhes como duração e status. </p>
<h4 id='atributos-11'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro da chamada.
             </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data de criação do registro da chamada. Data e Hora no formato UTC.
            </td>
        </tr>
        <tr>
            <td>
                ativa
                <span class="attribute">boolean</span>
            </td>
            <td>
                Identifica se a chamada está ativa ou não.
             </td>
        </tr>
        <tr>
            <td>
                url_gravacao
                <span class="attribute">string</span>
            </td>
            <td>
                URL com áudio da gravação da chamada.
             </td>
        </tr>
        <tr>
            <td>
                cliente_id
                <span class="attribute">integer</span>
            </td>
            <td>
               Identificação do cliente referente a chamada.
            </td>
        </tr>
        <tr>
            <td>
                conta_id
                <span class="attribute">integer</span>
            </td>
            <td>
               Identificação da Conta referente a chamada.
            </td>
        </tr>
        <tr>
            <td>
                ramal_id_origem
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do ramal que originou a chamada referente a ligação, se houver. 
            </td>
        </tr>
        <tr>
            <td>
                tags
                <span class="attribute">string</span>
            </td>
            <td>
                Informação adicional que pode ser retornada no objeto, como um ID Externo por exemplo. Você consegue enviar essa informação no Post da Chamada e recuperar posteriormente nessa consulta. 
            </td>
        </tr>
        <tr>
            <td>
                status_geral
                <span class="attribute">string</span>
            </td>
            <td>
                Status geral da Chamada. 
                <ul>
                    <li>criada: chamada foi criada</li>
                    <li>curso: está em andamento</li>
                    <li>finalizada: chamada foi finalizada</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td>
                origem / destino
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna os objetos <a href="#objeto-origem-destino">origem/destino</a>
            </td>
        </tr>
    </tbody>
</table>
<h3 id='composto-fim-de-chamada'>Composto - Fim de Chamada</h3>
<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">37850704</span><span class="p">,</span><span class="w">
  </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48988888888"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T16:38:50.000-03:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T16:38:55.000-03:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movel"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">51</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:51"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:01:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:42"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.38</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16. normal"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clienteX"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Ao fim de toda chamada do tipo Composto, um callback é feito para este endereço, enviando detalhes como duração e status.</p>
<h4 id='atributos-12'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro de Áudio.
             </td>
        </tr>
        <tr>
            <td>
                numero_destino
                <span class="attribute">string</span>
            </td>
            <td>
                Número do destinatário que foi enviado o áudio.
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi criado o registro
            </td>
        </tr>
        <tr>
            <td>
                data_inicio
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi iniciado o processamento do áudio
            </td>
        </tr>
        <tr>
            <td>
                tipo
                <span class="attribute">string</span>
            </td>
            <td>
                Tipo de telefone: fixo, móvel ou ramal
            </td>
        </tr>
        <tr>
            <td>
                status
                <span class="attribute">string</span>
            </td>
            <td>
                Status do registro
            </td>
        </tr>
        <tr>
            <td>
                duracao_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos (inteiro) do total da chamada desde o início do processamento
            </td>
        </tr>
        <tr>
            <td>
                duracao
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração total da chamada desde o início do processamento
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos para fins de cobrança
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração considerada para fins de cobrança
            </td>
        </tr>
                <tr>
            <td>
                duracao_falada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos da chamada desde que o destino atendeu
            </td>
        </tr>
        <tr>
            <td>
                duracao_falada
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração da chamada desde que o destino atendeu
            </td>
        </tr>
        <tr>
            <td>
                preco
                <span class="attribute">float</span>
            </td>
            <td>
                Valor cobrado pela chamada
            </td>
        </tr>
        <tr>
            <td>
                resposta_usuario
                <span class="attribute">boolean</span>
            </td>
            <td>
                Aguarda a resposta do usuário: sim ou não
            </td>
        </tr>
        <tr>
            <td>
                resposta
                <span class="attribute">string</span>
            </td>
            <td>
                Quando o usuário executa alguma ação no teclado do dispositivo, o valor será exibido neste campo (DTMF).
            </td>
        </tr>
        <tr>
            <td>
                url_gravacao
                <span class="attribute">string</span>
            </td>
            <td>
                Quando enviado a opção Gravar Áudio = true, este campo disponibilizará uma URL contendo o áudio da gravação da ligação.
            </td>
        </tr>
        <tr>
            <td>
                tags
                <span class="attribute">string</span>
            </td>
            <td>
                Parâmetro de integração - informado no post e retornado no get. Ex: "clienteX"
            </td>
        </tr>
        <tr>
            <td>
                motivo_desconexao
                <span class="attribute">string</span>
            </td>
            <td>
                Um dos motivos de desconexão:
                <ul>
                    <li>1. telefone não existe</li>
                    <li>2. sem rota para a rede de destino</li>
                    <li>3. sem rota para o destino</li>
                    <li>4. prefixo incorreto</li>
                    <li>6. canal inaceitável</li>
                    <li>7. chamada sendo entregue em canal já estabelecido</li>
                    <li>8. call peemption</li>
                    <li>14. telefone portado para outra operadora</li>
                    <li>16. normal</li>
                    <li>17. ocupado</li>
                    <li>18. sem resposta</li>
                    <li>19. sem resposta - mas chamou</li>
                    <li>20. assinante ausente</li>
                    <li>21. chamada rejeitada</li>
                    <li>22. este número mudou</li>
                    <li>23. redirecionado para novo destino</li>
                    <li>26. atendido em outro lugar</li>
                    <li>27. destino não está funcionando</li>
                    <li>28. formato inválido de número</li>
                    <li>29. rejeitado</li>
                    <li>30. resposta para status enquiry</li>
                    <li>31. normal, não especificado</li>
                    <li>34. sem canal disponível</li>
                    <li>41. falha temporária</li>
                    <li>42. equipamento congestionado</li>
                    <li>44. canal requisitado não está disponível</li>
                    <li>50. não cadastrado</li>
                    <li>52. chamada sainte barrada</li>
                    <li>54. chamada entrante barrada</li>
                    <li>57. capacidade não autorizada</li>
                    <li>58. erro de mídia ou parâmetros incompatíveis</li>
                    <li>65. capacidade do portador não implementada</li>
                    <li>66. tipo de canal não implementado</li>
                    <li>69. não implementado</li>
                    <li>81. valor de referência inválido</li>
                    <li>88. destino incompatível</li>
                    <li>95. mensagem inválida não especificada</li>
                    <li>96. informação obrigatória não presente</li>
                    <li>97. mensagem não implementada</li>
                    <li>98. mensagem não compatível com o estado da chamada ou não existente ou não implementada</li>
                    <li>97. mensagem não implementada</li>
                    <li>99. elemento não existente ou não implementado</li>
                    <li>97. mensagem não implementada</li>
                    <li>100. informação inválida no conteúdo dos elementos</li>
                    <li>101. mensagem não compatível com o estado da chamada</li>
                    <li>102. timeout</li>
                    <li>111. erro de protocolo</li>
                    <li>127. erro de conectividade</li>
                </ul>
            </td>
        </tr>
    </tbody>
</table>
<h3 id='audio-fim-de-chamada'>Áudio - Fim de Chamada</h3>
<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">37785542</span><span class="p">,</span><span class="w">
  </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48988888888"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T13:44:52.000-03:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-06T13:44:52.000-03:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movel"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">44</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:44"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:01:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:25"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.35</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16. normal"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url_audio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://65381g.ha.azioncdn.net/7/7/b/3/daniellimaofficial-never-enough-72a13242.mp3"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Ao fim de toda chamada de áudio, um callback é feito para este endereço, enviando detalhes como duração e status.</p>
<h4 id='atributos-13'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro de Áudio.
             </td>
        </tr>
        <tr>
            <td>
                numero_destino
                <span class="attribute">string</span>
            </td>
            <td>
                Número do destinatário que foi enviado o áudio.
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi criado o registro.
            </td>
        </tr>
        <tr>
            <td>
                data_inicio
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi iniciado o processamento do áudio.
            </td>
        </tr>
        <tr>
            <td>
                tipo
                <span class="attribute">string</span>
            </td>
            <td>
                Tipo de telefone: fixo, móvel ou ramal.
            </td>
        </tr>
        <tr>
            <td>
                status
                <span class="attribute">string</span>
            </td>
            <td>
                Status do registro.
            </td>
        </tr>
        <tr>
            <td>
                duracao_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em total em <i>segundos</i>, da chamada, desde o início do processamento.
            </td>
        </tr>
        <tr>
            <td>
                duracao
                <span class="attribute">String</span>
            </td>
            <td>
                Duração total da chamada desde o início do processamento
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em <i>segundos</i> para fins de cobrança.
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada
                <span class="attribute">String</span>
            </td>
            <td>
                Duração considerada para fins de cobrança.
            </td>
        </tr>
                <tr>
            <td>
                duracao_falada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em <i>segundos</i> da chamada desde que o destino atendeu.
            </td>
        </tr>
        <tr>
            <td>
                duracao_falada
                <span class="attribute">String</span>
            </td>
            <td>
                Duração da chamada desde que o destino atendeu.
            </td>
        </tr>
        <tr>
            <td>
                preco
                <span class="attribute">float</span>
            </td>
            <td>
                Valor cobrado pela chamada.
            </td>
        </tr>
        <tr>
            <td>
                url_audio
                <span class="attribute">string</span>
            </td>
            <td>
                URL do Áudio enviado para a chamada.
            </td>
        </tr>
        <tr>
            <td>
                resposta_usuario
                <span class="attribute">boolean</span>
            </td>
            <td>
                Valor enviado identendificando se aceita a resposta do usuário.¹
            </td>
        </tr>
        <tr>
            <td>
                resposta
                <span class="attribute">string</span>
            </td>
            <td>
                Se você enviou resposta_usuario = true, quando o usuário executa alguma ação no teclado númerico do dispositivo, o valor será exibido neste campo (DTMF).¹
            </td>
        </tr>
        <tr>
            <td>
                motivo_desconexao
                <span class="attribute">string</span>
            </td>
            <td>
                Aqui é informado o motivo do derrubamento da ligação, você pode ver mais em <a href="#codigos-de-motivos">motivos de desconexão</a>
            </td>
        </tr>
        <tr>
            <td>
                url_gravacao
                <span class="attribute">string</span>
            </td>
            <td>
                Quando enviado a opção Gravar Áudio = true, este campo disponibilizará uma URL contendo o áudio da gravação da ligação.
            </td>
        </tr>
    </tbody>
</table>
<h1 id='apis-de-central'>APIs de Central</h1>
<p>As APIs de Central viabilizam a criação de uma operação de telefonia básica para empresas. </p>

<p>Isso significa que nossas soluções permitem <strong>elaborar uma estrutura de telefonia com base nos setores</strong>, onde cada um pode possuir um ramal específico, por exemplo. </p>

<p>Além disso, outras funcionalidades são:</p>

<ul>
<li>Criar URA para receber ligação;</li>
<li>Formar grupos de atendimentos (filas);</li>
<li>Cadastrar e configurar telefones para BINA.</li>
</ul>

<p>APIs de Central:</p>

<ul>
<li>Fila</li>
<li>Bina</li>
<li>Número de telefone (DIDs)</li>
</ul>

<p>💡Inicie o teste rápido <a href = "https://voice-app.zenvia.com/doc/">aqui</a></p>
<h2 id='bina'>Bina</h2>
<blockquote>
<p>Bina Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-api.zenvia.com/bina
</code></pre>
<p>Usando esse recurso, será possível utilizar números de telefone específicos para suas chamadas e torpedos de voz. </p>

<p>Você poderá se identificar ao destino confirmando que a ligação é sua, independente do número ou ramal que estiver sendo utilizado para realizar a chamada.</p>

<p>💡 Bina é o número identificador do telefone de origem e que aparece no telefone do destino. </p>

<p>Para utilizar uma bina específica, é necessário realizar a contratação de um número com a Zenvia.</p>
<h3 id='objeto-bina'>Objeto Bina</h3>
<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero_telefone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+5548911111111"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-18T00:51:22.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fixo"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"confirmado"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>O objeto é um modelo JSON que retorna com o status da sua bina cadastrada. </p>

<p>Para realizar a chamada, é necessário que esta contenha os parâmetros solicitados abaixo na tabela Atributos. Ao final, a API fará o retorno.</p>

<p><strong>Endpoint:</strong> <a href = "https://voice-app.zenvia.com/bina">https://voice-app.zenvia.com/bina</a></p>
<h4 id='atributos'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro de Bina
             </td>
        </tr>
        <tr>
            <td>
                numero_telefone
                <span class="attribute">string</span>
            </td>
            <td>
                Número do telefone que será binado
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi criado o registro
            </td>
        </tr>
        <tr>
            <td>
                fixo
                <span class="attribute">boolean</span>
            </td>
            <td>
                Se o número da bina se refere a um telefone fixo
            </td>
        </tr>
        <tr>
            <td>
                confirmado
                <span class="attribute">boolean</span>
            </td>
            <td>
                Se está confirmado que o número de telefone da bina pertence a você
            </td>
        </tr>
    </tbody>
</table>
<h3 id='buscar-bina'>Buscar Bina</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/bina/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\ </span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-api.zenvia.com/bina/1'</span>
</code></pre>
<p>Caso deseje, após a contratação de uma bina você poderá realizar a busca do registro
pelo seu ID. </p>

<p>Para buscar, é necessário o envio da chave da bina na URL da requisição seguido da autenticação Access Token no Header. </p>

<p>A chamada para obter os dados da consulta deve ser realizada utilizando um HTTP GET para o endereço de definição da API.</p>

<p><strong>GET</strong> <a href = "https://voice-api.zenvia.com/bina/{id}">https://voice-api.zenvia.com/bina/{id}</a></p>
<h4 id='request'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                ID
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID da Bina para recuperar os dados
             </td>
        </tr>
    </tbody>
</table>
<h4 id='response'>Response</h4>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero_telefone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+5548988888888"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-18T00:51:22.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fixo"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"confirmado"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
               Retorna o objeto <a href="#objeto-bina">Bina</a>
             </td>
        </tr>
    </tbody>
</table>
<h3 id='deletar-bina'>Deletar Bina</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>DELETE https://voice-api.zenvia.com/bina/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X DELETE --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\ </span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-api.zenvia.com/bina/1'</span>
</code></pre>
<p>Para deletar um número de telefone (Bina) cadastrado na sua conta, basta informar o ID da bina. </p>

<p><strong>Importante:</strong> isso não cancela a contratação do número de telefone, para isso é necessário entrar em contato com a Zenvia. 
O método “delete” apenas impede que o número seja utilizado como bina. Porém, ele continua disponível para uso em outras features.</p>

<p><strong>Método utilizado:</strong> </p>

<p><strong>DELETE</strong> <a href = "https://voice-api.zenvia.com/bina/{id}">https://voice-api.zenvia.com/bina/{id}</a></p>

<aside class="notice">
Caso a Bina esteja vinculada ao Caller ID Default, será necessário desvincular via painel de voz, antes de deletar.
</aside>
<h3 id='relatorio-bina'>Relatório Bina</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/bina/relatorio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\ </span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-api.zenvia.com/bina/relatorio'</span>
</code></pre>
<p>Para buscar os telefones (Bina) cadastrados na Conta, basta realizar a chamada utilizando um HTTP GET para o endereço de definição da API.</p>

<p><strong>GET</strong> <a href = "https://voice-api.zenvia.com/bina/relatorio">https://voice-api.zenvia.com/bina/relatorio</a></p>
<h2 id='central-telefonica'>Central Telefônica</h2>
<p>Usando esse recurso, você poderá fazer configurações e retirar relatórios de ramal e URAs. </p>

<aside class="notice">
Caso você deseje utilizar a API de Voz da ZenAPI para ligações receptivas, entre em contato conosco para a contratação de um número receptivo(DID).
</aside>
<h3 id='objeto-ramal'>Objeto Ramal</h3>
<blockquote>
<p><br></p>

<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">76498</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3333"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testee@zenvia.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48999999999"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"webphone_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"213kbbncs324454ASDcxzln123"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ligacao_externa"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ligacao_celular"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"gravar_audio"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"acesso_gravacoes"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"webphone"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ura_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"voicemail"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>O objeto é um modelo JSON. Para realizar a chamada, é necessário que esta contenha os parâmetros solicitados abaixo na tabela Atributos.  </p>

<p><strong>Endpoint:</strong> <a href = "https://voice-api.zenvia.com/ramal">https://voice-api.zenvia.com/ramal</a></p>
<h4 id='atributos-2'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do ramal
             </td>
        </tr>
        <tr>
            <td>
                ramal
                <span class="attribute">integer</span>
            </td>
            <td>
                Número do ramal
             </td>
        </tr>
        <tr>
            <td>
                login
                <span class="attribute">string</span>
            </td>
            <td>
                E-mail de login do ramal
            </td>
        </tr>
        <tr>
             <td>
                 bina
                 <span class="attribute">string</span>
             </td>
             <td>
                 Número que aparece quando o ramal faz ligações
             </td>
        </tr>
         <tr>
             <td>
                 webphone_key
                 <span class="attribute">string</span>
             </td>
             <td>
                 Chave para utilização de webphones integrados
             </td>
         </tr>
         <tr>
             <td>
                 ligacao_externa
                 <span class="attribute">boolean</span>
             </td>
             <td>
                 Permite fazer ligações externas
             </td>
         </tr>
         <tr>
             <td>
                 ligacao_celular
                 <span class="attribute">boolean</span>
             </td>
             <td>
                 Permite fazer ligações para números de celular
             </td>
         </tr>
         <tr>
              <td>
                  gravar_audio
                  <span class="attribute">boolean</span>
              </td>
              <td>
                 Grava as ligações deste ramal
              </td>
          </tr>
    </tbody>
</table>
<h3 id='criar-ramal'>Criar ramal</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://voice-api.zenvia.com/ramal
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
             -d <span class="s1">'{"ramal":"","login":"","senha":""}'</span> <span class="se">\</span>
             <span class="s1">'https://voice-api.zenvia.com/ramal'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$dados</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"ramal"</span><span class="o">=&gt;</span><span class="s2">"1358"</span><span class="p">,</span>
    <span class="s2">"login"</span><span class="o">=&gt;</span><span class="s2">"logindeteste231@totalvoice.com.br"</span>
<span class="p">];</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">central</span><span class="o">-&gt;</span><span class="na">criarRamal</span><span class="p">(</span><span class="nv">$dados</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">dados</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">ramal</span><span class="p">:</span> <span class="s1">'1358'</span><span class="p">,</span> 
    <span class="na">login</span><span class="p">:</span> <span class="s1">'logindeteste231@totalvoice.com.br'</span><span class="p">,</span> 
    <span class="na">senha</span><span class="p">:</span> <span class="s1">'123456'</span>
<span class="p">};</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">central</span><span class="p">.</span><span class="nx">criarRamal</span><span class="p">(</span><span class="nx">dados</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">Em</span><span class="x"> </span><span class="n">construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="no">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ramal criado com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="mi">4000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123teste231@zenvia.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"senha"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123teste23122"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"webphone_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123teste231224d549e0408e123teste23122"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ligacao_externa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ligacao_celular"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"gravar_audio"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"acesso_gravacoes"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"webphone"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ura_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"voicemail"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para criar um ramal nenhum campo é obrigatório, mas indicamos que você passe os parâmetros ramal e login para controlar melhor os ramais criados.</p>

<p><strong>POST:</strong>  https://voice-api.zenvia.com/chamada</p>

<p><strong>REQUEST:</strong></p>

<ul>
<li><strong>Headers</strong></li>
</ul>

<ol>
<li><strong>Content-Type:</strong> application/json</li>
<li><strong>Authorization:</strong> Access-Token: seu-token</li>
</ol>

<p>Veja ao lado um exemplo de requisição. Utilize os campos abaixo para informar à nossa API as informações que irá enviar:</p>
<h4 id='request-2'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                ramal
                <span class="attribute">integer</span>
            </td>
            <td>
                Número do ramal
                </td>
        </tr>
        <tr>
            <td>
                login
                <span class="attribute">string</span>
            </td>
            <td>
                E-mail de login do ramal
            </td>
        </tr>
        <tr>
            <td>
                senha
                <span class="attribute">string</span>
            </td>
            <td>
                Senha do ramal. (Deve conter 8 caracteres, sendo pelo menos 1 maiúsculo e 1 minúsculo)
                </td>
        </tr>
        <tr>
                <td>
                    bina
                    <span class="attribute">string</span>
                </td>
                <td>
                    Número que aparece quando o ramal faz ligações
                </td>
        </tr>
        <tr>
            <td>
                ligacao_externa
                <span class="attribute">boolean</span>
            </td>
            <td>
                Permite fazer ligações externas
            </td>
        </tr>
        <tr>
            <td>
                ligacao_celular
                <span class="attribute">boolean</span>
            </td>
            <td>
                Permite fazer ligações para números de celular
            </td>
        </tr>
        <tr>
            <td>
                gravar_audio
                <span class="attribute">boolean</span>
            </td>
            <td>
                Permite a gravação de áudio
            </td>
        </tr>
        <tr>
            <td>
                acesso_gravacoes
                <span class="attribute">boolean</span>
            </td>
            <td>
                Permite o usuário deste ramal ver gravações
            </td>
        </tr>
        <tr>
            <td>
                webphone
                <span class="attribute">boolean</span>
            </td>
            <td>
                Permite o usuário utilizar webphone
            </td>
        </tr>
        <tr>
            <td>
                ura_id
                <span class="attribute">integer</span>
            </td>
            <td>
                Caso tenha um valor aqui ao telefonar para este número de ramal, vai cair em uma URA ao invés de chamar o usuário
            </td>
        </tr>
        <tr>
            <td>
                voicemail
                <span class="attribute">boolean</span>
            </td>
            <td>
                Se esse valor for igual a true, ao ligar para esse ramal ele será encaminhado para uma caixa postal que gravará recados. (Não irá chamar no usuário)
            </td>
        </tr>
    </tbody>
</table>
<h5 id='response-2'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto com os dados do ramal criado
             </td>
        </tr>
    </tbody>
</table>
<h3 id='buscar-ramal'>Buscar Ramal</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/ramal/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
             <span class="s1">'https://voice-api.zenvia.com/ramal/{id}'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">central</span><span class="o">-&gt;</span><span class="na">buscaRamal</span><span class="p">(</span><span class="s2">"id-ramal"</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">central</span><span class="p">.</span><span class="nx">buscaRamal</span><span class="p">(</span><span class="s1">'id-ramal'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">Em</span><span class="x"> </span><span class="n">construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="no">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"teste@zenvia.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48999999999"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"webphone_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testefd3b268b3de8cateste44968"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ligacao_externa"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ligacao_celular"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"gravar_audio"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"acesso_gravacoes"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"webphone"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ura_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"voicemail"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para buscar um ramal e suas informações, basta informar o ID da mesma após o seu envio.</p>

<p>Método utilizado: </p>

<p><strong>GET</strong> <a href = "https://voice-api.zenvia.com/ramal/{id}">https://voice-api.zenvia.com/ramal/{id}</a></p>
<h4 id='request-3'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do ramal
            </td>
        </tr>
    </tbody>
</table>
<h5 id='response-3'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto do ramal </a>
             </td>
        </tr>
    </tbody>
</table>
<h3 id='editar-ramal'>Editar Ramal</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>PUT https://voice-api.zenvia.com/ramal/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X PUT --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
             -d <span class="s1">'{"senha":"4321789"}'</span> <span class="se">\</span>
             <span class="s1">'https://voice-api.zenvia.com/ramal/{id}'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$dados</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"ramal"</span><span class="o">=&gt;</span><span class="s2">"1358"</span><span class="p">,</span>
    <span class="s2">"login"</span><span class="o">=&gt;</span><span class="s2">"logindeteste231@totalvoice.com.br"</span>
<span class="p">];</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">central</span><span class="o">-&gt;</span><span class="na">atualizarRamal</span><span class="p">(</span><span class="s2">"id-ramal"</span><span class="p">,</span> <span class="nv">$dados</span><span class="p">);</span>

</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">dados</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">login</span><span class="p">:</span> <span class="s1">'logindeteste456@totalvoice.com.br'</span><span class="p">,</span> 
    <span class="na">senha</span><span class="p">:</span> <span class="s1">'12345678'</span>
<span class="p">};</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">central</span><span class="p">.</span><span class="nx">atualizarRamal</span><span class="p">(</span><span class="s1">'id-ramal'</span><span class="p">,</span> <span class="nx">dados</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">Em</span><span class="x"> </span><span class="n">construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="no">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados atualizados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para alterar as informações do ramal, o método de solicitação deve ser HTTP PUT. Ele criará um novo recurso e substituirá as antigas informações. </p>

<p><strong>PUT</strong> <a href = "https://voice-api.zenvia.com/ramal/{id}">https://voice-api.zenvia.com/ramal/{id}</a></p>
<h4 id='request-4'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Id do ramal que será modificado(O id é passado na URL do endpoint) 
                </td>
        </tr>
        <tr>
            <td>
                ramal
                <span class="attribute">integer</span>
            </td>
            <td>
                Número do ramal
                </td>
        </tr>
        <tr>
            <td>
                login
                <span class="attribute">string</span>
            </td>
            <td>
                E-mail de login do ramal
            </td>
        </tr>
        <tr>
            <td>
                senha
                <span class="attribute">string</span>
            </td>
            <td>
                Senha do ramal (Deve conter 8 caracteres, sendo pelo menos 1 maiúsculo e 1 minúsculo)
                </td>
        </tr>
        <tr>
                <td>
                    bina
                    <span class="attribute">string</span>
                </td>
                <td>
                    Número que aparece quando o ramal faz ligações
                </td>
        </tr>
        <tr>
            <td>
                ligacao_externa
                <span class="attribute">boolean</span>
            </td>
            <td>
                Permite fazer ligações externas
            </td>
        </tr>
        <tr>
            <td>
                ligacao_celular
                <span class="attribute">boolean</span>
            </td>
            <td>
                Permite fazer ligações para números de celular
            </td>
        </tr>
        <tr>
            <td>
                gravar_audio
                <span class="attribute">boolean</span>
            </td>
            <td>
                Permite a gravação de áudio
            </td>
        </tr>
        <tr>
            <td>
                acesso_gravacoes
                <span class="attribute">boolean</span>
            </td>
            <td>
                Permite o usuário deste ramal ver gravações
            </td>
        </tr>
        <tr>
            <td>
                webphone
                <span class="attribute">boolean</span>
            </td>
            <td>
                Permite o usuário utilizar webphone
            </td>
        </tr>
        <tr>
            <td>
                ura_id
                <span class="attribute">integer</span>
            </td>
            <td>
                Caso tenha um valor aqui, ao telefonar para este número de ramal, vai cair em uma URA ao invés de chamar o usuário. Caso queira desvincular uma URA basta passar o valor 'null' neste campo.
            </td>
        </tr>
        <tr>
            <td>
                voicemail
                <span class="attribute">boolean</span>
            </td>
            <td>
                Se esse valor for igual a true, ao ligar para esse ramal ele será encaminhado para uma caixa postal que gravará recados.(Não irá chamar no usuário)
            </td>
        </tr>
    </tbody>
</table>
<h5 id='response-4'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                status
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o status da requisição</a>
             </td>
        </tr>
    </tbody>
</table>
<h3 id='editar-ramal-na-fila'>Editar Ramal na fila</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>PUT https://voice-api.zenvia.com/ramal/{id}/fila
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X PUT --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
             -d <span class="s1">'{"status_pausa":true, "fila":41}'</span> <span class="se">\</span>
             <span class="s1">'https://voice-api.zenvia.com/ramal/{id}/fila'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$dados</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"status_pausa"</span><span class="o">=&gt;</span><span class="kc">true</span><span class="p">,</span>
    <span class="s2">"fila"</span><span class="o">=&gt;</span><span class="mi">41</span>
<span class="p">];</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">central</span><span class="o">-&gt;</span><span class="na">atualizarRamalFila</span><span class="p">(</span><span class="s2">"id-ramal"</span><span class="p">,</span> <span class="nv">$dados</span><span class="p">);</span>

</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">central</span><span class="p">.</span><span class="nx">atualizarRamalFila</span><span class="p">(</span><span class="nx">ramal_id</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">RamalFila</span><span class="o">.</span><span class="n">Atualizar</span><span class="p">(</span><span class="n">ramal_id</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">client</span><span class="o">.</span><span class="n">ramal</span><span class="o">.</span><span class="n">editarRamalFila</span><span class="p">(</span><span class="n">ramal_id</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Central</span> <span class="n">central</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Central</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">central</span><span class="o">.</span><span class="na">atualizarRamalFila</span><span class="o">(</span><span class="n">ramal_id</span><span class="o">,</span> <span class="n">data</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"9754aac7641722789c80c237f9afb4b1"</span><span class="p">,</span> <span class="s2">"voice-api.zenvia.com"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">ramal</span><span class="p">.</span><span class="nf">atualizar_ramal_fila</span><span class="p">(</span><span class="n">ramal_id</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ramal pausado com sucesso na fila 41"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"ramal_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
      </span><span class="s2">"pausado"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fila"</span><span class="p">:</span><span class="w"> </span><span class="mi">41</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para alterar as informações de um ramal na fila, o método de solicitação também deve ser HTTP PUT. Ele criará um novo recurso e substituirá as antigas informações. </p>

<p>Lembre-se apenas que o ID informado na URL do endpoint é aquele que será modificado. </p>

<p><strong>PUT</strong> <a href = "https://voice-api.zenvia.com/ramal/{id}">https://voice-api.zenvia.com/ramal/{id}</a></p>
<h4 id='request-5'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Id do ramal que será modificado(O id é passado na URL do endpoint) 
                </td>
        </tr>
        <tr>
            <td>
                status_pausa
                <span class="attribute">boolean</span>
            </td>
            <td>
                Pausa (true) ou despausa (false)
            </td>
        </tr>
        <tr>
            <td>
                fila
                <span class="attribute">integer</span>
            </td>
            <td>
                Id da fila que você quer pausar o ramal
            </td>
        </tr>
    </tbody>
</table>
<h5 id='response-5'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                status
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o status da requisição</a>
             </td>
        </tr>
    </tbody>
</table>
<h3 id='deletar-ramal'>Deletar Ramal</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>DELETE https://voice-api.zenvia.com/ramal/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X DELETE --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
             <span class="s1">'https://voice-api.zenvia.com/ramal/{id}'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">central</span><span class="o">-&gt;</span><span class="na">excluirRamal</span><span class="p">(</span><span class="s2">"id-ramal"</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">central</span><span class="p">.</span><span class="nx">excluirRamal</span><span class="p">(</span><span class="s1">'id-ramal'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">Em</span><span class="x"> </span><span class="n">construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="no">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ramal Removido"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para deletar um ramal, basta informar o ID do mesmo.</p>

<p>Método utilizado: </p>

<p><strong>DELETE</strong> <a href = "https://voice-api.zenvia.com/ramal/{id}">https://voice-api.zenvia.com/ramal/{id}</a></p>
<h4 id='request-6'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do ramal
            </td>
        </tr>
    </tbody>
</table>
<h5 id='response-6'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                 Retorna o status da requisição </a>
             </td>
        </tr>
    </tbody>
</table>
<h3 id='listar-ramais-criados'>Listar Ramais criados</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/ramal/relatorio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
            <span class="s1">'https://voice-api.zenvia.com/ramal/relatorio?data_inicio=2018-03-14&amp;data_fim=2018-03-15'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nx">Em</span> <span class="nx">constru</span><span class="err">çã</span><span class="nx">o</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">central</span><span class="p">.</span><span class="nx">relatorio</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">Em</span><span class="x"> </span><span class="n">construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"teste@totalTeste.com.br"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48999999999"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"webphone_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"totalTesteb8af64668997totalTeste"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ligacao_externa"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ligacao_celular"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"gravar_audio"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"acesso_gravacoes"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"webphone"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ura_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"voicemail"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4567</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"teste1@totalTeste.com.br"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48999999999"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"webphone_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"teste18e990a500a059a78teste1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ligacao_externa"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ligacao_celular"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"gravar_audio"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"acesso_gravacoes"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"webphone"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ura_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"voicemail"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para listar os ramais criados, basta informar a data de início e fim que deseja buscar.</p>

<p>Método utilizado: </p>

<p><strong>GET</strong> <a href = "https://voice-api.zenvia.com/ramal/relatorio">https://voice-api.zenvia.com/ramal/relatorio</a></p>
<h4 id='request-7'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_inicio
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data inicial para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                data_fim
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data final para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                posicao
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Posição para seleção dos dados do relatório - começa na posição 0. Também chamado de offset.            
            </td>
        </tr>
        <tr>
            <td>
                limite
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Quantidade de chamadas a retornar na consulta. O limite padrão é 100 e o máximo é 200.
            </td>
        </tr> 
    </tbody>
</table>
<h4 id='response-7'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                relatorio
                <span class="attribute">array</span>
            </td>
            <td>
                Retorna um array com objetos ramal</a>
             </td>
        </tr>
    </tbody>
</table>
<h3 id='listar-pausas-do-ramal'>Listar pausas do ramal</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/ramal/{id}/pausas
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
            <span class="s1">'https://voice-api.zenvia.com/ramal/{id}/pausas?data_inicio=2018-03-14&amp;data_fim=2018-03-15'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">central</span><span class="o">-&gt;</span><span class="na">relatorioPausasRamal</span><span class="p">(</span><span class="s2">"id-ramal"</span><span class="p">,</span> <span class="s2">"2019-02-20T11:11:19-03:00"</span><span class="p">,</span> <span class="s2">"2019-02-20T11:12:26-03:0"</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">central</span><span class="p">.</span><span class="nx">relatorioPausas</span><span class="p">(</span><span class="s1">'id-ramal'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">Em</span><span class="x"> </span><span class="n">construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:07"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_total_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"posicao"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"limite"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"pausa_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-06-15T11:14:41-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pausa_fim"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-06-15T11:14:48-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tempo_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tempo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:07"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para listar as pausas dos ramais criados, basta informar o ID do ramal, a data de início e fim que deseja buscar. </p>

<p>Método utilizado: </p>

<p><strong>GET</strong> <a href = "https://voice-api.zenvia.com/ramal/{id}/pausas">https://voice-api.zenvia.com/ramal/{id}/pausas</a></p>
<h4 id='request-8'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="required">Obrigatório</span>
                <span class="required">integer</span>
            </td>
            <td>
                Id do ramal que será modificado(O id é passado na URL do endpoint) 
            </td>
        </tr>
        <tr>
            <td>
                data_inicio
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data inicial para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                data_fim
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data final para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                posicao
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Posição para seleção dos dados do relatório - começa na posição 0. Também chamado de offset.            
            </td>
        </tr>
        <tr>
            <td>
                limite
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Quantidade de chamadas a retornar na consulta. O limite padrão é 100 e o máximo é 200.
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response-8'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto com os dados de pausa do ramal
             </td>
        </tr>
    </tbody>
</table>

<aside class="notice">
Importante: Se você tiver um relatório com 350 pausas do ramal, na primeira página será retornado 200. Para pegar os dados da segunda página o valor da posição deve ser 201..
</aside>
<h3 id='listar-ligacoes-do-ramal'>Listar ligações do ramal</h3>
<blockquote>
<p>Definição</p>
</blockquote>

<p>Lista as ligações <u>recebidas</u> por um ramal no período desejado.</p>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/ramal/{id}/relatorio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
            <span class="s1">'https://voice-api.zenvia.com/ramal/{id}/relatorio?data_inicio=2018-03-14&amp;data_fim=2018-03-15'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nx">Em</span> <span class="nx">constru</span><span class="err">çã</span><span class="nx">o</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">central</span><span class="p">.</span><span class="nx">relatorio</span><span class="p">(</span><span class="s1">'id-ramal'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">Em</span><span class="x"> </span><span class="n">construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"posicao"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"limite"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123456</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-07T15:28:13-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.evoline.com.br/rec/?id=123445&amp;x=12345&amp;cid=1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_origem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48999999999"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">369</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:06:09"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">60679</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"teste@totaltestevoice.com.br"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123456</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-08T13:16:02-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.evoline.com.br/rec/?id=123456&amp;x=12345&amp;cid=1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_origem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48999999999"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">596</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:09:56"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"teste@totaltestevoice.com.br"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para listar as ligações recebidas por um ramal, basta informar o ID do ramal, a data de início e fim que deseja buscar. </p>

<p>Método utilizado: </p>

<p><strong>GET</strong> <a href = "https://voice-api.zenvia.com/ramal/{id}/relatorio">https://voice-api.zenvia.com/ramal/{id}/relatorio</a></p>
<h4 id='request-9'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="required">Obrigatório</span>
                <span class="required">integer</span>
            </td>
            <td>
                Id do ramal que será modificado(O id é passado na URL do endpoint) 
            </td>
        </tr>
        <tr>
            <td>
                data_inicio
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data inicial para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                data_fim
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data final para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                posicao
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Posição para seleção dos dados do relatório - começa na posição 0. Também chamado de offset.            
            </td>
        </tr>
        <tr>
            <td>
                limite
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Quantidade de chamadas a retornar na consulta. O limite padrão é 100 e o máximo é 200.
            </td>
        </tr> 
    </tbody>
</table>
<h4 id='response-9'>Response</h4>
<table class="table-parameters">
     <tbody>
        <tr>
            <td>
                relatorio
                <span class="attribute">array</span>
            </td>
            <td>
                Retorna um array com objetos de chamadas atendidas</a>
             </td>
        </tr>
    </tbody>
</table>
<h2 id='fila'>Fila</h2>
<blockquote>
<p>Fila Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-api.zenvia.com/fila
</code></pre>
<p>Usando esse recurso, será possível automatizar e manipular as filas de atendimento.</p>

<p>Nossa API oferece a solução para o <strong>gerenciamento de filas de espera</strong>, desde a chegada do cliente até a conclusão, auxiliando empresas a ressaltar a qualidade do atendimento.  </p>

<p>Será viável também: </p>

<ul>
<li>Monitorar o tempo de espera;</li>
<li>Obter informações detalhadas como tempo médio de espera, atendimento e qualidade. </li>
</ul>
<h3 id='objeto-fila'>Objeto Fila</h3>
<blockquote>
<p><br></p>

<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Suporte"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"chamadas"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"completado"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cancelado"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tempo_falado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tempo_espera"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ramais"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
         </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Atendimento"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ramal@empresa.com.br"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"prioridade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"qtd_ligacao_atendida"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ultima_chamada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"em_ligacao"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
         </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"indisponivel"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"em_pausa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
         </span><span class="s2">"razao_pausa"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
         </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
         </span><span class="s2">"tempo_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04:38:36"</span><span class="w">     
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>O objeto é um modelo JSON que retorna as filas cadastradas em sua conta. </p>

<p>Para realizar a chamada, é necessário que esta contenha os parâmetros solicitados abaixo na tabela Atributos. Ao final, a API fará o retorno.</p>

<p><strong>Endpoint:</strong> <a href = "https://voice-api.zenvia.com/fila">https://voice-api.zenvia.com/fila</a></p>
<h4 id='atributos-3'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro da Fila.
             </td>
        </tr>
        <tr>
            <td>
                nome
                <span class="attribute">string</span>
            </td>
            <td>
                Nome da fila.
            </td>
        </tr>
        <tr>
            <td>
                chamadas
                <span class="attribute">integer</span>
            </td>
            <td>
                Número de chamadas da fila.
            </td>
        </tr>
        <tr>
            <td>
                completado
                <span class="attribute">integer</span>
            </td>
            <td>
                Número de chamadas completadas.
            </td>
        </tr>
        <tr>
            <td>
                cancelado
                <span class="attribute">integer</span>
            </td>
            <td>
                Número de chamadas canceladas.
            </td>
        </tr>
        <tr>
            <td>
                tempo_falado
                <span class="attribute">string</span>
            </td>
            <td>
                Total de tempo falado da fila.
            </td>
        </tr>
        <tr>
            <td>
                tempo_espera
                <span class="attribute">string</span>
            </td>
            <td>
                Total de tempo de ramais em espera na fila.
            </td>
        </tr>
        <tr>
            <td>
                ramais
                <span class="attribute">array</span>
            </td>
            <td>
                Lista de ramais pertencentes a fila
            </td>
        </tr>
    </tbody>
</table>
<h3 id='criar-fila'>Criar Fila</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://voice-api.zenvia.com/fila
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
             -d <span class="s1">'{"nome":"Suporte","estrategia_ring":"Multiplo", "timeout_ring": "60"}'</span> <span class="se">\</span>
             <span class="s1">'https://voice-api.zenvia.com/fila'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">fila</span><span class="o">-&gt;</span><span class="na">criar</span><span class="p">(</span><span class="s1">'Suporte'</span><span class="p">,</span> <span class="s1">'Multiplo'</span><span class="p">,</span> <span class="s1">'60'</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">fila</span><span class="p">.</span><span class="nx">enviar</span><span class="p">(</span><span class="s2">"Suporte"</span><span class="p">,</span> <span class="s2">"Multiplo"</span><span class="p">,</span> <span class="s2">"60"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>  
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Fila</span><span class="o">.</span><span class="n">Criar</span><span class="p">(</span><span class="s">"Suporte"</span><span class="p">,</span><span class="x"> </span><span class="s">"Multiplo"</span><span class="p">,</span><span class="x"> </span><span class="m">60</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">fila</span><span class="o">.</span><span class="n">criar</span><span class="p">(</span><span class="s">"Suporte"</span><span class="p">,</span> <span class="s">"Multiplo"</span><span class="p">,</span> <span class="s">"60"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Fila</span> <span class="n">fila</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Fila</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">fila</span><span class="o">.</span><span class="na">enviar</span><span class="o">(</span><span class="s">"Suporte"</span><span class="o">,</span> <span class="s">"Multiplo"</span><span class="o">)</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">fila</span><span class="p">.</span><span class="nf">criar</span><span class="p">(</span><span class="s2">"Suporte"</span><span class="p">,</span> <span class="s2">"Multiplo"</span><span class="p">,</span> <span class="s2">"60"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fila criada com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4921</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para criar uma fila, basta informar o nome da mesma e a estratégia de ring, que pode ser de três tipos:</p>

<ul>
<li>Múltiplo;</li>
<li>Distribuidor;</li>
<li>Distribuidor/Paralelo.</li>
</ul>

<p><strong>POST:</strong> <a href = "https://voice-api.zenvia.com/fila">https://voice-api.zenvia.com/fila</a></p>

<p><strong>REQUEST:</strong></p>

<ul>
<li><strong>Headers</strong></li>
</ul>

<ol>
<li><strong>Content-Type:</strong> application/json</li>
<li><strong>Authorization:</strong> Access-Token: {{access-token}} </li>
</ol>
<h4 id='request-10'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                nome
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Nome da fila a ser criada.
             </td>
        </tr>
        <tr>
            <td>
                estrategia_ring
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Distribuidor = Toca um ramal por vez, DistribuidorParalelo = Toca um ramal por vez com encaminhamento paralelo ou Multiplo = Toca todos ramais ao mesmo tempo.
            </td>
        </tr>
        <tr>
            <td>
                timeout_ring
                <span class="optional">Opcional</span>
            </td>
            <td>
                Segundos que vai ficar tocando na fila
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response-10'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Retorna o ID da Fila
             </td>
        </tr>
    </tbody>
</table>
<h3 id='buscar-fila'>Buscar Fila</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/fila/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="s1">'https://voice-api.zenvia.com/fila/1'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">fila</span><span class="o">-&gt;</span><span class="na">buscar</span><span class="p">(</span><span class="mi">123</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">fila</span><span class="p">.</span><span class="nx">buscar</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Fila</span><span class="o">.</span><span class="n">Buscar</span><span class="p">(</span><span class="m">123</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">fila</span><span class="o">.</span><span class="n">get_fila</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Fila</span> <span class="n">fila</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Fila</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">fila</span><span class="o">.</span><span class="na">buscar</span><span class="o">(</span><span class="mi">123</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"{{access-token}}"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">fila</span><span class="p">.</span><span class="nf">buscar</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Suporte"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"chamadas"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"completado"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cancelado"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tempo_falado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tempo_espera"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ramais"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Atendimento"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ramal@empresa.com.br"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"prioridade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"qtd_ligacao_atendida"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ultima_chamada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"em_ligacao"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"indisponivel"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"em_pausa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"razao_pausa"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tempo_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04:38:36"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Caso deseje, após a criação de uma fila você poderá realizar a busca do registro
pelo seu ID. </p>

<p>Para buscar, é necessário o envio da chave da fila na URL da requisição seguido da autenticação Acess Token no Header. </p>

<p>A chamada para obter os dados da consulta deve ser realizada utilizando um HTTP GET para o endereço de definição da API.</p>

<p><strong>GET</strong> <a href = "https://voice-api.zenvia.com/fila/{id}">https://voice-api.zenvia.com/fila/{id}</a></p>
<h5 id='request-11'>Request</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                ID
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID da Fila para recuperar os dados
             </td>
        </tr>
    </tbody>
</table>
<h5 id='response-11'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto <a href="#objeto-fila">fila</a>
             </td>
        </tr>
    </tbody>
</table>
<h3 id='editar-fila'>Editar Fila</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>PUT https://voice-api.zenvia.com/fila/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl <span class="s1">'https://voice-api.zenvia.com/fila/1'</span> <span class="se">\</span>
    -X PUT <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --header <span class="s1">'Access-Token: testeM68PU1Izmb9chEdLzep7IwRymWO'</span> <span class="se">\</span>
    -d <span class="s1">'{"nome":"Suporte","estrategia_ring":"Multiplo", "timeout_ring": "60"}'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">fila</span><span class="o">-&gt;</span><span class="na">atualizarFila</span><span class="p">(</span><span class="s2">"Suporte"</span><span class="p">,</span> <span class="s2">"Multiplo"</span><span class="p">,</span> <span class="s2">"60"</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">fila</span><span class="p">.</span><span class="nx">atualizarFila</span><span class="p">(</span><span class="s2">"Suporte"</span><span class="p">,</span> <span class="s2">"Multiplo"</span><span class="p">,</span> <span class="s2">"60"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Fila</span><span class="o">.</span><span class="n">Atualizar</span><span class="p">(</span><span class="s">"Suporte"</span><span class="p">,</span><span class="x"> </span><span class="s">"Multiplo"</span><span class="p">,</span><span class="x"> </span><span class="s">"60"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">fila</span><span class="o">.</span><span class="n">editar</span><span class="p">(</span><span class="s">"Suporte"</span><span class="p">,</span> <span class="s">"Multiplo"</span><span class="p">,</span> <span class="s">"60"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Fila</span> <span class="n">fila</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Fila</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">fila</span><span class="o">.</span><span class="na">atualizar</span><span class="o">(</span><span class="s">"Suporte"</span><span class="o">,</span> <span class="s">"Multiplo"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"{{access-token}}"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">fila</span><span class="p">.</span><span class="nf">atualizar</span><span class="p">(</span><span class="s2">"Suporte"</span><span class="p">,</span> <span class="s2">"Multiplo"</span><span class="p">,</span> <span class="s2">"60"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p><br/>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados atualizados com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para alterar as informações da sua fila, o método de solicitação deve ser HTTP PUT. Ele criará um novo recurso e substituirá as antigas informações. </p>

<p><strong>PUT</strong> <a href = "https://voice-api.zenvia.com/fila/{id}">https://voice-api.zenvia.com/fila/{id}</a></p>
<h4 id='request-12'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                nome
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo nome da fila.
             </td>
        </tr>
        <tr>
            <td>
                estrategia_ring
                <span class="optional">Opcional</span>
            </td>
            <td>
                Distribuidor = Toca um ramal por vez, DistribuidorParalelo = Toca um ramal por vez com encaminhamento paralelo ou Multiplo = Toca todos ramais ao mesmo tempo.
            </td>
        </tr>
        <tr>
            <td>
                timeout_ring
                <span class="optional">Opcional</span>
            </td>
            <td>
                Segundos que vai ficar tocando na fila
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response-12'>Response</h4>
<p><br/>
Retorna o objeto <a href="#respostas-da-api">resposta padrão</a> da API com sucesso ou falha.
<br></p>

<p><br>
<br></p>
<h3 id='adicionar-ramal'>Adicionar ramal</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://voice-api.zenvia.com/fila/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
             -d <span class="s1">'{"ramal_id":"111"}'</span> <span class="se">\</span>
             <span class="s1">'https://voice-api.zenvia.com/fila/123'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">fila</span><span class="o">-&gt;</span><span class="na">addRamal</span><span class="p">(</span><span class="s2">"ID_FILA"</span><span class="p">,</span> <span class="s2">"RAMAL_ID"</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">fila</span><span class="p">.</span><span class="nx">addRamal</span><span class="p">(</span><span class="s2">"ID_FILA"</span><span class="p">,</span> <span class="s2">"RAMAL_ID"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Fila</span><span class="o">.</span><span class="n">AdicionarRamalFila</span><span class="p">(</span><span class="s">"ID_FILA"</span><span class="p">,</span><span class="x"> </span><span class="s">"RAMAL_ID"</span><span class="p">);</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">fila</span><span class="o">.</span><span class="n">add_ramal</span><span class="p">(</span><span class="s">"ID_FILA"</span><span class="p">,</span> <span class="s">"RAMAL_ID"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Fila</span> <span class="n">fila</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Fila</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">fila</span><span class="o">.</span><span class="na">adicionaRamalFila</span><span class="o">(</span><span class="s">"ID_FILA"</span><span class="o">,</span> <span class="s">"RAMAL_ID"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">fila</span><span class="p">.</span><span class="nf">adiciona_ramal</span><span class="p">(</span><span class="s2">"ID_FILA"</span><span class="p">,</span> <span class="s2">"RAMAL_ID"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ramal adicionado com sucesso na fila"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4921</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para adicionar um ramal na fila, basta informar o ID da mesma e, por parâmetro, o ID do ramal que deseja adicionar. </p>

<p>Método utilizado: </p>

<p><strong>POST</strong> <a href = "https://voice-api.zenvia.com/fila/{id}">https://voice-api.zenvia.com/fila/{id}</a></p>
<h3 id='deletar-ramal-2'>Deletar ramal</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>DELETE https://voice-api.zenvia.com/fila/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X DELETE --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-api.zenvia.com/fila/111/111'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">fila</span><span class="o">-&gt;</span><span class="na">excluirRamalFila</span><span class="p">(</span><span class="s2">"ID_FILA"</span><span class="p">,</span> <span class="s2">"RAMAL_ID"</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">fila</span><span class="p">.</span><span class="nx">excluirRamalFila</span><span class="p">(</span><span class="s2">"ID_FILA"</span><span class="p">,</span> <span class="s2">"RAMAL_ID"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Fila</span><span class="o">.</span><span class="n">ExcluirRamalFila</span><span class="p">(</span><span class="s">"ID_FILA"</span><span class="p">,</span><span class="x"> </span><span class="s">"RAMAL_ID"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">fila</span><span class="o">.</span><span class="n">deleta_ramal</span><span class="p">(</span><span class="s">"ID_FILA"</span><span class="p">,</span> <span class="s">"RAMAL_ID"</span><span class="p">)</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">fila</span><span class="p">.</span><span class="nf">excluir_ramal</span><span class="p">(</span><span class="s2">"ID_FILA"</span><span class="p">,</span> <span class="s2">"RAMAL_ID"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ramal removido da fila com sucesso"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para deletar um ramal na fila, basta informar o ID da mesma e, por parâmetro, o ID do ramal que deseja remover.</p>

<p>Método utilizado: </p>

<p><strong>DELETE</strong> <a href = "https://voice-api.zenvia.com/fila/{id}">https://voice-api.zenvia.com/fila/{id}</a></p>
<h3 id='buscar-ramal-2'>Buscar ramal</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/fila/{id-fila}/{id-ramal}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="s1">'https://voice-api.zenvia.com/fila/id-fila/id-ramal'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">fila</span><span class="o">-&gt;</span><span class="na">buscarFilaRamal</span><span class="p">(</span><span class="s2">"ID_FILA"</span><span class="p">,</span> <span class="s2">"RAMAL_ID"</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">fila</span><span class="p">.</span><span class="nx">buscarRamalFila</span><span class="p">(</span><span class="s2">"ID_FILA"</span><span class="p">,</span> <span class="s2">"RAMAL_ID"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Fila</span><span class="o">.</span><span class="n">BuscarRamalFila</span><span class="p">(</span><span class="s">"ID_FILA"</span><span class="p">,</span><span class="x"> </span><span class="s">"RAMAL_ID"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">fila</span><span class="o">.</span><span class="n">get_fila_ramal</span><span class="p">(</span><span class="s">"ID_FILA"</span><span class="p">,</span> <span class="s">"RAMAL_ID"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Fila</span> <span class="n">fila</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Fila</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">fila</span><span class="o">.</span><span class="na">buscar</span><span class="o">(</span><span class="s">"ID_FILA"</span><span class="o">,</span> <span class="s">"RAMAL_ID"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">fila</span><span class="p">.</span><span class="nf">buscar_ramal</span><span class="p">(</span><span class="s2">"ID_FILA"</span><span class="p">,</span> <span class="s2">"RAMAL_ID"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Suporte"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"chamadas"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"completado"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cancelado"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tempo_falado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tempo_espera"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ramais"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Atendimento"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ramal@empresa.com.br"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"prioridade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"qtd_ligacao_atendida"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ultima_chamada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"em_ligacao"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"indisponivel"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"em_pausa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"razao_pausa"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tempo_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04:38:36"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para buscar um ramal na fila, basta informar o ID da mesma e, por parâmetro, o ID do ramal que deseja buscar.</p>

<p>Método utilizado: </p>

<p><strong>GET</strong> <a href = "https://voice-api.zenvia.com/fila/{id-fila}/{id-ramal}">https://voice-api.zenvia.com/fila/{id-fila}/{id-ramal}</a></p>
<h3 id='relatorio-fila'>Relatório Fila</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/fila/{id}/relatorio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
            <span class="s1">'https://voice-api.zenvia.com/fila/{id-fial}/relatorio?data_inicio=2018-03-14&amp;data_fim=2018-03-15'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">fila</span><span class="o">-&gt;</span><span class="na">relatorioChamadas</span><span class="p">(</span><span class="nv">$id_fila</span><span class="p">,</span><span class="nv">$dataInicial</span><span class="p">,</span> <span class="nv">$dataFinal</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="nx">Em</span> <span class="nx">constru</span><span class="err">çã</span><span class="nx">o</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">Em</span><span class="x"> </span><span class="n">construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="no">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
    </span><span class="s2">"posicao"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"limite"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1324567</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"554831810323"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_origem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4712344321"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-15T08:32:34.000-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Não atendida"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"atendida"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ativa"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">237</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:03:57"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tempo_espera"</span><span class="p">:</span><span class="w"> </span><span class="mi">225</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.evoline.com.br/rec/?id=123sd213"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fila"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">430</span><span class="p">,</span><span class="w">
          </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-15T08:31:47.000-03:00"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">43211234</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"554831810323"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_origem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4840421210"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-15T09:02:47.000-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Atendida"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"atendida"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ativa"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">296</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:04:56"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">286</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:04:46"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tempo_espera"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.evoline.com.br/rec/?id=691325"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fila"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">430</span><span class="p">,</span><span class="w">
          </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-15T09:02:47.000-03:00"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12342454</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4099"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"suporte.voz@zenvia.com"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para consultar os áudios das chamadas de uma fila, basta informar o período desejado para que a API retorne os dados.</p>

<p>Veja ao lado um exemplo de requisição. Os campos são:</p>
<h4 id='request-13'>Request</h4>
<table class="table-parameters">
    <tbody>
        <td>
                id
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Id da fila que deseja consultar as ligações
            </td>
        </tr>
        <tr>
            <td>
                data_inicio
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data inicial para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                data_fim
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data final para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                origem
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Número de origem da ligação recebida
            </td>
        </tr>
            <td>
                destino
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Número de destino da ligação recebida
            </td>
        </tr>
        <tr>
            <td>
                posicao
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Posição para seleção dos dados do relatório - começa na posição 0. Também chamado de offset.            
            </td>
        </tr>
        <tr>
            <td>
                limite
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Quantidade de chamadas a retornar na consulta. O limite padrão é 100 e o máximo é 200.
            </td>
        </tr> 

    </tbody>
</table>
<h4 id='response-13'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                relatorio
                <span class="attribute">array</span>
            </td>
            <td>
                Retorna um array com objetos chamadas recebidas 
             </td>
        </tr>
    </tbody>
</table>
<h2 id='numeros-de-telefone-did'>Números de telefone (DID)</h2>
<p>DID são mais conhecidos como “números virtuais” e possibilitam receber chamadas utilizando a conexão com a internet.</p>

<p>Usando esse recurso, será possível automatizar o gerenciamento de números de telefone por meio das funcionalidades:</p>

<ul>
<li>Gerenciar, adquirir ou remover um DID da sua Conta. </li>
<li>Extrair relatórios dos DIDs adquiridos e das chamadas recebidas por um número específico da sua conta. </li>
</ul>
<h3 id='objeto-did'>Objeto DID</h3>
<blockquote>
<p>Did Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-api.zenvia.com/did
</code></pre>
<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">    </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4844577</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cidade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"552120182293"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>O objeto é um modelo JSON. Para realizar a chamada, é necessário que esta contenha os parâmetros solicitados abaixo na tabela Atributos.  </p>

<p><strong>Endpoint:</strong> <a href = "https://voice-api.zenvia.com/did">https://voice-api.zenvia.com/did</a></p>
<h4 id='atributos-4'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do DID(Número receptivo)
             </td>
        </tr>
        <tr>
            <td>
                cidade
                <span class="attribute">string</span>
            </td>
            <td>
                Cidade do número de telefone(DID)
            </td>
        </tr>
        <tr>
            <td>
                estado
                <span class="attribute">string</span>
            </td>
            <td>
                Estado/Região do DID
            </td>
        </tr>
        <tr>
            <td>
                numero
                <span class="attribute">datetime</span>
            </td>
            <td>
                Número completo do DID
            </td>
        </tr>
    </tbody>
</table>

<p><br></p>
<h3 id='consultar-dids'>Consultar DIDs</h3>
<blockquote>
<p>Did Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-api.zenvia.com/did
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="s1">'https://voice-api.zenvia.com/did'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">central</span><span class="o">-&gt;</span><span class="na">listaEstoque</span><span class="p">(</span><span class="s2">"id-ramal"</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="nx">Em</span> <span class="nx">constru</span><span class="err">çã</span><span class="nx">o</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">Em</span><span class="x"> </span><span class="n">construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="no">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"dids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123454</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cidade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"552120128207"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Você poderá realizar a consulta da lista de todos os DIDs da sua conta. </p>

<p>Para requisitar, não é necessário passar nenhum parâmetro. Basta realizar a chamada para obter os dados utilizando um HTTP GET para o endereço de definição da API.</p>

<p><strong>GET</strong> <a href = "https://voice-api.zenvia.com/did">https://voice-api.zenvia.com/did</a></p>
<h3 id='atualizar-did'>Atualizar DID</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>PUT https://voice-api.zenvia.com/did/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X PUT --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
             -d <span class="s1">'{"ura_id":"4321789"}'</span> <span class="se">\</span>
             <span class="s1">'https://voice-api.zenvia.com/did/{id}'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nx">Em</span> <span class="nx">constru</span><span class="err">çã</span><span class="nx">o</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">Em</span> <span class="nx">constru</span><span class="err">çã</span><span class="nx">o</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">Em</span><span class="x"> </span><span class="n">construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="no">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados atualizados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para atualizar os dados de um DID, o método de solicitação deve ser HTTP PUT. Ele criará um novo recurso e substituirá as antigas informações. </p>

<p><strong>PUT</strong> <a href = "https://voice-api.zenvia.com/did/{id}">https://voice-api.zenvia.com/did/{id}</a></p>
<h4 id='request-14'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Id do ramal que será modificado(O id é passado na URL do endpoint) 
                </td>
        </tr>
        <tr>
            <td>
                ura_id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID da URA, a qual irá atender a ligação no momento em que o número receber uma ligação.¹
            </td>
        </tr>
        <tr>
            <td>
                ramal_id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do ramal, o qual irá atender a ligação no momento em que o número receber uma ligação.¹
            </td>
        </tr>
    </tbody>
</table>
<h5 id='response-14'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                status
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o status da requisição</a>
             </td>
        </tr>
    </tbody>
</table>

<aside class="notice">
Você só pode passar uma das opções: <strong>ura_id</strong> ou um <strong>ramal_id</strong>.
</aside>
<h3 id='deletar-did'>Deletar DID</h3>
<p>Para deletar um número de telefone (DID) cadastrado na sua conta, basta informar o ID do mesmo. </p>

<p>Método utilizado: </p>

<p><strong>DELETE</strong> <a href = "https://voice-api.zenvia.com/did/{id}">https://voice-api.zenvia.com/did/{id}</a></p>
<h3 id='objeto-chamada-did'>Objeto Chamada DID</h3>
<blockquote>
<p>Chamada Recebidas Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-api.zenvia.com/did/chamada/{id}
</code></pre>
<blockquote>
<p><br></p>

<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">21344543</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ativa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.evoline.com.br/rec/sua-gravacao.mp3"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-10T09:45:49-03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"552120182097"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero_origem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4831810323"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sem resposta"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:18"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ramal_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">34484</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"gravacoes_parciais"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>O objeto é um modelo JSON. Para realizar a chamada, é necessário que esta contenha os parâmetros solicitados abaixo na tabela Atributos.  </p>

<p><strong>Endpoint:</strong> <a href = "https://voice-api.zenvia.com/did/chamada/{id}">https://voice-api.zenvia.com/did/chamada/{id}</a></p>
<h4 id='atributos-5'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro da chamada.
             </td>
        </tr>
        <tr>
            <td>
                ativa
                <span class="attribute">boolean</span>
            </td>
            <td>
                Identifica se a chamada está ativa ou não
             </td>
        </tr>
        <tr>
            <td>
                url_gravacao
                <span class="attribute">string</span>
            </td>
            <td>
                URL com áudio da gravação da chamada
             </td>
        </tr>
        <tr>
            <td>
                data_inicio
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data de início do registro da chamada. Data e Hora no formato UTC
            </td>
        </tr>
        <tr>
            <td>
                numero_destino
                <span class="attribute">string</span>
            </td>
            <td>
                Número de destino da ligação
             </td>
        </tr>
        <tr>
            <td>
                numero_origem
                <span class="attribute">string</span>
            </td>
            <td>
                Número que originou a ligação.
             </td>
        </tr>
        <tr>
             <td>
                 status
                 <span class="attribute">string</span>
             </td>
             <td>
                 Status da ligação na Origem/Destino:
                 <ul>
                     <li>atendida</li>
                     <li>sem resposta</li>
                     <li>ocupado</li>
                     <li>congestionado</li>
                     <li>falha</li>
                     <li>cancelada</li>
                     <li>não existe</li>
                 </ul>
             </td>
        </tr>
         <tr>
             <td>
                 duracao_segundos
                 <span class="attribute">integer</span>
             </td>
             <td>
                 Duração em segundos (inteiro) do total da chamada desde o início do processamento
             </td>
         </tr>
         <tr>
             <td>
                 duracao
                 <span class="attribute">integer</span>
             </td>
             <td>
                 Duração total da chamada desde o início do processamento
             </td>
         </tr>
         <tr>
             <td>
                 duracao_cobrada_segundos
                 <span class="attribute">integer</span>
             </td>
             <td>
                 Duração em segundos para fins de cobrança
             </td>
         </tr>
         <tr>
             <td>
                 duracao_cobrada
                 <span class="attribute">integer</span>
             </td>
             <td>
                 Duração considerada para fins de cobrança
             </td>
         </tr>
                 <tr>
             <td>
                 duracao_falada_segundos
                 <span class="attribute">integer</span>
             </td>
             <td>
                 Duração em segundos da chamada desde que o destino atendeu
             </td>
         </tr>
         <tr>
             <td>
                 duracao_falada
                 <span class="attribute">integer</span>
             </td>
             <td>
                 Duração da chamada desde que o destino atendeu
             </td>
         </tr>
         <tr>
             <td>
                 preco
                 <span class="attribute">float</span>
             </td>
             <td>
                 Valor cobrado pela chamada
             </td>
         </tr>
         <tr>
              <td>
                  ramal_id
                  <span class="attribute">integer</span>
              </td>
              <td>
                  ID do ramal vinculado ao DID
              </td>
          </tr>
    </tbody>
</table>
<h3 id='buscar-chamada-recebida'>Buscar chamada recebida</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/did/chamada/{id-chamada}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
            <span class="s1">'https://voice-api.zenvia.com/did/chamada/{id-chamada}'</span>
</code></pre><pre class="highlight php tab-php"><code>Em Construção
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="nx">Em</span> <span class="nx">Constru</span><span class="err">çã</span><span class="nx">o</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">Em</span><span class="x"> </span><span class="n">Construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">Em</span> <span class="n">Constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Em</span> <span class="n">Constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="no">Em</span> <span class="no">Constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"posicao"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"limite"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ativa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://url-gravacao/rec/?id=1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-09-27T16:35:15-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"554811111111"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_origem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"554811111111"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ocupado"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:15"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ramal_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1231313</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Você poderá consultar as chamadas recebidas por um DID. </p>

<p>Para requisitar, basta informar o período desejado e o ID do DID para que a API retorne os dados. </p>

<p><strong>GET</strong> <a href = "https://voice-api.zenvia.com/did/chamada/{id-chamada}">https://voice-api.zenvia.com/did/chamada/{id-chamada}</a></p>
<h4 id='request-15'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID da chamada recebida a ser consultada
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response-15'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Dados da chamada recebida.
             </td>
        </tr>
    </tbody>
</table>
<h3 id='relatorio-chamadas-recebidas-por-did'>Relatório chamadas recebidas por DID</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/did/{id}/relatorio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
            <span class="s1">'https://voice-api.zenvia.com/did/1/relatorio?data_inicio=2018-03-14&amp;data_fim=2018-03-15'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">did</span><span class="o">-&gt;</span><span class="na">relatorioChamadas</span><span class="p">(</span><span class="nv">$id</span><span class="p">,</span> <span class="nv">$dataInicial</span><span class="p">,</span> <span class="nv">$dataFinal</span><span class="p">,</span> <span class="nv">$filtros</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">did</span><span class="p">.</span><span class="nx">relatorioChamadas</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">dataInicial</span><span class="p">,</span> <span class="nx">dataFinal</span><span class="p">,</span> <span class="nx">filtros</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">DID</span><span class="o">.</span><span class="n">RelatorioChamadas</span><span class="o">.</span><span class="n">Gerar</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="x"> </span><span class="n">dataInicial</span><span class="p">,</span><span class="x"> </span><span class="n">dataFinal</span><span class="p">,</span><span class="x"> </span><span class="n">filtros</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">did</span><span class="o">.</span><span class="n">get_relatorio_chamadas</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">data_inicio</span><span class="p">,</span> <span class="n">data_fim</span><span class="p">,</span> <span class="n">filtros</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Did</span> <span class="n">did</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Did</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">did</span><span class="o">.</span><span class="na">relatorioChamadas</span><span class="o">(</span><span class="n">id</span><span class="o">,</span> <span class="n">dataInicial</span><span class="o">,</span> <span class="n">dataFinal</span><span class="o">,</span> <span class="n">filtros</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">did</span><span class="p">.</span><span class="nf">relatorioChamadas</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">data_inicial</span><span class="p">,</span> <span class="n">data_final</span><span class="p">,</span> <span class="n">filtros</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"posicao"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"limite"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ativa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://url-gravacao/rec/?id=1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-09-27T16:35:15-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"554811111111"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_origem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"554811111111"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ocupado"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:15"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ramal_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1231313</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para consultar as chamadas recebidas por um DID, basta informar o período desejado e o ID do DID para que a API retorne os dados.</p>

<p>Veja ao lado um exemplo de requisição. Os campos são:</p>
<h4 id='request-16'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID do DID que será consultado
            </td>
        </tr>
        <tr>
            <td>
                data_inicio
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data inicial para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                data_fim
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data final para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                origem
                <span class="optional">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Número de telefone de origem para filtrar. Ex.: 4832830151
            </td>
        </tr>
        <tr>
            <td>
                destino
                <span class="optional">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Número de telefone de destino para filtrar. Ex.: 4832830151
            </td>
        </tr>
        <tr>
            <td>
                posicao
                <span class="optional">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Posição para seleção dos dados do relatório - começa na posição 0. Também chamado de offset.
            </td>
        </tr>
        <tr>
            <td>
                limite
                <span class="optional">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Quantidade de chamadas a retornar na consulta. O limite padrão é 100 e o máximo é 200.
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response-16'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                total
                <span class="attribute">integer</span>
            </td>
            <td>
                Retorna a quantidade total de registros
             </td>
        </tr>
        <tr>
            <td>
                posicao
                <span class="attribute">integer</span>
            </td>
            <td>
                Posição para seleção dos dados do relatório - começa na posição 0. Também chamado de offset.
             </td>
        </tr>
        <tr>
            <td>
                limite
                <span class="attribute">integer</span>
            </td>
            <td>
                Quantidade de chamadas que retornou na consulta.
             </td>
        </tr>
        <tr>
            <td>
                relatorio
                <span class="attribute">array</span>
            </td>
            <td>
                Retorna um array com objetos <a href="#objeto-chamada-did">chamada DID</a>
             </td>
        </tr>
    </tbody>
</table>
<h3 id='relatorio-de-todas-as-chamadas'>Relatório de todas as chamadas</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/did/relatorio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
            <span class="s1">'https://voice-api.zenvia.com/did/relatorio?data_inicio=2018-03-14&amp;data_fim=2018-03-15'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">did</span><span class="o">-&gt;</span><span class="na">relatorioChamadas</span><span class="p">(</span><span class="nv">$dataInicial</span><span class="p">,</span> <span class="nv">$dataFinal</span><span class="p">,</span> <span class="nv">$filtros</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">did</span><span class="p">.</span><span class="nx">relatorioChamadas</span><span class="p">(</span><span class="nx">dataInicial</span><span class="p">,</span> <span class="nx">dataFinal</span><span class="p">,</span> <span class="nx">filtros</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">DID</span><span class="o">.</span><span class="n">RelatorioChamadas</span><span class="o">.</span><span class="n">Gerar</span><span class="p">(</span><span class="n">dataInicial</span><span class="p">,</span><span class="x"> </span><span class="n">dataFinal</span><span class="p">,</span><span class="x"> </span><span class="n">filtros</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">did</span><span class="o">.</span><span class="n">get_relatorio_chamadas</span><span class="p">(</span><span class="n">data_inicio</span><span class="p">,</span> <span class="n">data_fim</span><span class="p">,</span> <span class="n">filtros</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Did</span> <span class="n">did</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Did</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">did</span><span class="o">.</span><span class="na">relatorioChamadas</span><span class="o">(</span><span class="n">dataInicial</span><span class="o">,</span> <span class="n">dataFinal</span><span class="o">,</span> <span class="n">filtros</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">did</span><span class="p">.</span><span class="nf">relatorioChamadas</span><span class="p">(</span><span class="n">data_inicial</span><span class="p">,</span> <span class="n">data_final</span><span class="p">,</span> <span class="n">filtros</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"posicao"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"limite"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ativa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://url-gravacao/rec/?id=1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-09-27T16:35:15-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"554811111111"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_origem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"554811111111"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ocupado"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:15"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ramal_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1231313</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para consultar todas as chamadas recebidas por todos os DIDs, basta informar o período desejado e o ID do DID para que a API retorne os dados.</p>

<p>Veja ao lado um exemplo de requisição. Os campos são:</p>
<h4 id='request-17'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_inicio
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data inicial para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                data_fim
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data final para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                origem
                <span class="optional">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Número de telefone de origem para filtrar. Ex.: 4832830151
            </td>
        </tr>
        <tr>
            <td>
                destino
                <span class="optional">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Número de telefone de destino para filtrar. Ex.: 4832830151
            </td>
        </tr>
        <tr>
            <td>
                posicao
                <span class="optional">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Posição para seleção dos dados do relatório - começa na posição 0. Também chamado de offset.
            </td>
        </tr>
        <tr>
            <td>
                limite
                <span class="optional">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Quantidade de chamadas a retornar na consulta. O limite padrão é 100 e o máximo é 200.
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response-17'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                total
                <span class="attribute">integer</span>
            </td>
            <td>
                Retorna a quantidade total de registros
             </td>
        </tr>
        <tr>
            <td>
                posicao
                <span class="attribute">integer</span>
            </td>
            <td>
                Posição para seleção dos dados do relatório - começa na posição 0. Também chamado de offset.
             </td>
        </tr>
        <tr>
            <td>
                limite
                <span class="attribute">integer</span>
            </td>
            <td>
                Quantidade de chamadas que retornou na consulta.
             </td>
        </tr>
        <tr>
            <td>
                relatorio
                <span class="attribute">array</span>
            </td>
            <td>
                Retorna um array com objetos <a href="#objeto-chamada-did">chamada DID</a>
             </td>
        </tr>
    </tbody>
</table>
<h2 id='ura'>URA</h2>
<p>Usando esse recurso, será possível otimizar e automatizar suas chamadas com URAs (Unidade de Resposta Audível).</p>

<p>Uma URA possui uma estrutura de atendimento e, em nossa API, você tem diversas possibilidades. </p>
<h3 id='objeto-ura'>Objeto URA</h3>
<blockquote>
<p><br></p>

<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">78910</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exemplo de URA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="s2">"menu"</span><span class="p">:</span><span class="w"> </span><span class="s2">"menu 1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"opcao"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"acao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tts"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"acao_dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Voce ligou para Zenvia. Aperte 1 para ser atendido."</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"timeout_fila"</span><span class="p">:</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span><span class="w">
            </span><span class="s2">"menu"</span><span class="p">:</span><span class="w"> </span><span class="s2">"menu 1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"opcao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"acao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fila"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"acao_dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"fila_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"menu"</span><span class="p">:</span><span class="w"> </span><span class="s2">"menu 8"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"opcao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"acao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"digiteramal"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"acao_dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Digite o ramal desejado"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>O objeto é um modelo JSON. Para realizar a chamada, é necessário que esta contenha os parâmetros solicitados abaixo na tabela Atributos. Ao final, a API fará o retorno.</p>

<p><strong>Endpoint:</strong> <a href = "https://voice-api.zenvia.com/ura">https://voice-api.zenvia.com/ura</a></p>
<h4 id='atributos-6'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID da URA
             </td>
        </tr>
        <tr>
            <td>
                nome
                <span class="attribute">string</span>
            </td>
            <td>
                Nome da URA
             </td>
        </tr>
        <tr>
            <td>
                dados
                <span class="attribute">string</span>
            </td>
            <td>
                Dentro de dados você consegue visualizar a estrutura de atendimento da sua URA.
            </td>
        </tr>
    </tbody>
</table>
<h4 id='parametros-da-estrutura-da-ura-dados'>Parâmetros da estrutura da URA(dados)</h4>
<p>O nome da &quot;acao&quot; é o maior e o que deve estar dentro do array &quot;acao_dados&quot; é o que vem logo abaixo. Veja o exemplo ao lado.
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                audio
                <span class="attribute">url_audio</span>
            </td>
            <td>
                Toca o áudio que consta na url. A url deve ser pública para que nosso sistema possa buscar.
             </td>
        </tr>
        <tr>
            <td>
                tts
                <span class="attribute">mensagem</span>
            </td>
            <td>
                Toca a mensagem escrita em formato de áudio com uma voz simulada.
             </td>
        </tr>
        <tr>
            <td>
                transfer
                <span class="attribute">numero_telefone</span>
            </td>
            <td>
                Transfere para um ramal ou número externo. Transferência para número externo tem o valor de uma ligação efetuada.
            </td>
        </tr>
        <tr>
            <td>
                fila
                <span class="attribute">fila_id</span>
            </td>
            <td>
                Transfere para a <a href="https://centraltotalvoice.freshdesk.com/a/solutions/articles/35000108391-como-funcionam-as-filas-de-atendimento">fila de atendimento</a> referente ao seu ID.
            </td>
        </tr>
        <tr>
            <td>
                webhook
                <span class="attribute">url</span>
            </td>
            <td>
                Envia um webhook com as informações da chamada para o endpoint passado no parâmetro &quot;url&quot;.
            </td>
        </tr>
        <tr>
            <td>
                gotomenu
                <span class="attribute">menu</span>
            </td>
            <td>
                Vai para um próximo menu da mesma ura, exemplo &quot;menu 2&quot;.
            </td>
        </tr>
        <tr>
            <td>
                dinamico
                <span class="attribute">url</span>
            </td>
            <td>
                Encaminha a chamada para uma <a href="https://centraltotalvoice.freshdesk.com/solution/articles/35000118467-criando-uma-ura-din%C3%A2mica-simples">URA Dinâmica</a>. Coloca-se a URL para onde será enviado um HTTP POST para solicitar a URA à ser carregada.
            </td>
        </tr>
        <tr>
            <td>
                digiteramal
                <span class="attribute">mensagem</span>
            </td>
            <td>
               Mensagem que será reproduzida em formato de áudio ao cliente para solicitar a digitação de um ramal. A chamada será direcionada para o ramal informado.
            </td>
        </tr>
        <tr>
            <td>
                fim
            </td>
            <td>
               Derruba a ligação, não tem acao_dados e geralmente é usada seguido de uma outra ação. Se não tiver essa informação, a URA irá ficar até que o outro usuário desligue ou a ligação caia.
            </td>
        </tr><br>
    </tbody>
</table></p>
<h3 id='parametros-da-estrutura-da-ura'>Parâmetros da estrutura da URA</h3>
<p>Na tabela abaixo, você encontra todos os Parâmetros que podem ser utilizados. </p>

<p>Observações importantes: O nome da &quot;acao&quot; é o maior e o que deve estar dentro do array &quot;acao_dados&quot; é o que vem logo abaixo. Veja o exemplo ao lado.</p>

<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                audio
                <span class="attribute">url_audio</span>
            </td>
            <td>
                Toca o áudio que consta na url. A url deve ser pública para que nosso sistema possa buscar.
             </td>
        </tr>
        <tr>
            <td>
                tts
                <span class="attribute">mensagem</span>
            </td>
            <td>
                Toca a mensagem escrita em formato de áudio com uma voz simulada.
             </td>
        </tr>
        <tr>
            <td>
                transfer
                <span class="attribute">numero_telefone</span>
            </td>
            <td>
                Transfere para um ramal ou número externo. Transferência para número externo tem o valor de uma ligação efetuada.
            </td>
        </tr>
        <tr>
            <td>
                fila
                <span class="attribute">fila_id</span>
            </td>
            <td>
                Transfere para a <a href="https://centraltotalvoice.freshdesk.com/a/solutions/articles/35000108391-como-funcionam-as-filas-de-atendimento">fila de atendimento</a> referente ao seu ID.
            </td>
        </tr>
        <tr>
            <td>
                webhook
                <span class="attribute">url</span>
            </td>
            <td>
                Envia um webhook com as informações da chamada para o endpoint passado no parâmetro "url".
            </td>
        </tr>
        <tr>
            <td>
                gotomenu
                <span class="attribute">menu</span>
            </td>
            <td>
                Vai para um próximo menu da mesma ura, exemplo "menu 2".
            </td>
        </tr>
        <tr>
            <td>
                dinamico
                <span class="attribute">url</span>
            </td>
            <td>
                Encaminha a chamada para uma <a href="https://centraltotalvoice.freshdesk.com/solution/articles/35000118467-criando-uma-ura-din%C3%A2mica-simples">URA Dinâmica</a>. Coloca-se a URL para onde será enviado um HTTP POST para solicitar a URA à ser carregada.
            </td>
        </tr>
        <tr>
            <td>
                digiteramal
                <span class="attribute">mensagem</span>
            </td>
            <td>
               Mensagem que será reproduzida em formato de áudio ao cliente para solicitar a digitação de um ramal. A chamada será direcionada para o ramal informado.
            </td>
        </tr>
        <tr>
            <td>
                fim
            </td>
            <td>
               Derruba a ligação, não tem acao_dados e geralmente é usada seguido de uma outra ação. Se não tiver essa informação, a URA irá ficar até que o outro usuário desligue ou a ligação caia.
            </td>
        </tr>                     
    </tbody>
</table>
<h3 id='criar-ura'>Criar URA</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://voice-api.zenvia.com/ura
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
             -d <span class="s1">'{"nome":"Nome URA","dados":[{"acao":"tts","acao_dados":{"mensagem":"Essa é uma mensagem de Exemplo"}}]}'</span> <span class="se">\</span>
             <span class="s1">'https://voice-api.zenvia.com/ura'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$dados</span> <span class="o">=</span> <span class="k">array</span> <span class="p">(</span>
    <span class="mi">0</span> <span class="o">=&gt;</span> <span class="k">array</span> <span class="p">(</span>
      <span class="s1">'acao'</span> <span class="o">=&gt;</span> <span class="s1">'tts'</span><span class="p">,</span>
      <span class="s1">'menu'</span> <span class="o">=&gt;</span> <span class="s1">'menu 1'</span><span class="p">,</span>
      <span class="s1">'acao_dados'</span> <span class="o">=&gt;</span> <span class="k">array</span> <span class="p">(</span>
          <span class="s1">'mensagem'</span> <span class="o">=&gt;</span> <span class="s1">'Olá! Isso é um teste.'</span>
      <span class="p">),</span>
    <span class="p">)</span>
    <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">central</span><span class="o">-&gt;</span><span class="na">criarUra</span><span class="p">(</span><span class="s2">"Teste TotalVoice-001"</span><span class="p">,</span> <span class="nv">$dados</span><span class="p">);</span>

</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">dados</span> <span class="o">=</span> <span class="p">[{</span>
    <span class="na">acao</span><span class="p">:</span> <span class="s2">"tts"</span><span class="p">,</span>
    <span class="na">opcao</span><span class="p">:</span> <span class="s2">"1"</span><span class="p">,</span>
    <span class="na">menu</span><span class="p">:</span> <span class="s2">"menu 2"</span><span class="p">,</span>
    <span class="na">acao_dados</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">mensagem</span><span class="p">:</span> <span class="s2">"Mensagem de teste"</span>
    <span class="p">}</span>
<span class="p">}];</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">central</span><span class="p">.</span><span class="nx">criarUra</span><span class="p">(</span><span class="s2">"nome-ura"</span><span class="p">,</span> <span class="nx">dados</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">Em</span><span class="x"> </span><span class="n">construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="no">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ura criada com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para criar uma URA, veja a lista de opções dos dados que podem ser utilizadas em Parâmetros da  estrutura da URA </p>

<p><strong>POST:</strong> <a href = "https://voice-api.zenvia.com/ura">https://voice-api.zenvia.com/ura</a></p>

<p><strong>REQUEST:</strong></p>

<ul>
<li><strong>Headers</strong></li>
</ul>

<ol>
<li><strong>Content-Type:</strong> application/json</li>
<li><strong>Authorization:</strong> Access-Token: seu-token</li>
</ol>

<p>Veja ao lado um exemplo de requisição. Os campos são:</p>
<h4 id='request-18'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                nome
                <span class="attribute">string</span>
            </td>
            <td>
                Nome da URA
             </td>
        </tr>
        <tr>
            <td>
                dados
                <span class="attribute">string</span>
            </td>
            <td>
                Dentro de dados você consegue passar a estrutura de atendimento da sua URA.
            </td>
        </tr>
    </tbody>
</table>
<h5 id='response-18'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Retorna o ID do Áudio
             </td>
        </tr>
    </tbody>
</table>
<h3 id='buscar-ura'>Buscar URA</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/ura/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
             <span class="s1">'https://voice-api.zenvia.com/ura/{id}'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nx">Em</span> <span class="nx">constru</span><span class="err">çã</span><span class="nx">o</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">central</span><span class="p">.</span><span class="nx">buscaUra</span><span class="p">(</span><span class="s1">'id-ura'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">Em</span><span class="x"> </span><span class="n">construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="no">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Atendimento ZenAPI"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="s2">"menu"</span><span class="p">:</span><span class="w"> </span><span class="s2">"menu 1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"opcao"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"acao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"audio"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"acao_dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"url_audio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://seuaud.io/1234.mp3"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"timeout_fila"</span><span class="p">:</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span><span class="w">
        </span><span class="s2">"menu"</span><span class="p">:</span><span class="w"> </span><span class="s2">"menu 1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"opcao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"acao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fila"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"acao_dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"fila_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Caso deseje, após a criação de uma URA você poderá realizar a busca do registro
pelo seu ID. </p>

<p>Para buscar, é necessário o envio da chave da fila na URL da requisição seguido da autenticação Acess Token no Header. </p>

<p>A chamada para obter os dados da consulta deve ser realizada utilizando um HTTP GET para o endereço de definição da API.</p>

<p><strong>GET</strong> <a href = "https://voice-api.zenvia.com/ura/{id}">https://voice-api.zenvia.com/ura/{id}</a></p>
<h4 id='request-19'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID da URA
            </td>
        </tr>
    </tbody>
</table>
<h5 id='response-19'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto da URA
             </td>
        </tr>
    </tbody>
</table>
<h3 id='editar-ura'>Editar URA</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>PUT https://voice-api.zenvia.com/ura/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
             -d <span class="s1">'{"nome":"Nome URA","dados":[{"acao":"tts","acao_dados":{"mensagem":"Essa é uma mensagem de Exemplo 2"}}]}'</span> <span class="se">\</span>
             <span class="s1">'https://voice-api.zenvia.com/ura/{id}'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$dados</span> <span class="o">=</span> <span class="k">array</span> <span class="p">(</span>
    <span class="mi">0</span> <span class="o">=&gt;</span> <span class="k">array</span> <span class="p">(</span>
      <span class="s1">'acao'</span> <span class="o">=&gt;</span> <span class="s1">'tts'</span><span class="p">,</span>
      <span class="s1">'menu'</span> <span class="o">=&gt;</span> <span class="s1">'menu 1'</span><span class="p">,</span>
      <span class="s1">'acao_dados'</span> <span class="o">=&gt;</span> <span class="k">array</span> <span class="p">(</span>
          <span class="s1">'mensagem'</span> <span class="o">=&gt;</span> <span class="s1">'Olá! Isso é um teste.'</span>
      <span class="p">),</span>
    <span class="p">)</span>
    <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">central</span><span class="o">-&gt;</span><span class="na">atualizarUra</span><span class="p">(</span><span class="s2">"123456"</span><span class="p">,</span> <span class="s2">"Teste ZenAPI-001"</span><span class="p">,</span> <span class="nv">$dados</span><span class="p">);</span>

</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">dados</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">timeout</span><span class="p">:</span> <span class="mi">10</span>
<span class="p">};</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">central</span><span class="p">.</span><span class="nx">atualizarUra</span><span class="p">(</span><span class="s1">'id-ura'</span><span class="p">,</span> <span class="s1">'nome-ura'</span><span class="p">,</span> <span class="nx">dados</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">Em</span><span class="x"> </span><span class="n">construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="no">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ura atualizada com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para alterar as informações de uma URA, o método de solicitação deve ser HTTP PUT. Ele criará um novo recurso e substituirá as antigas informações. </p>

<p><strong>PUT</strong> <a href = "https://voice-api.zenvia.com/ura/{id}">https://voice-api.zenvia.com/ura/{id}</a></p>
<h4 id='request-20'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                nome
                <span class="attribute">string</span>
            </td>
            <td>
                Nome da URA
             </td>
        </tr>
        <tr>
            <td>
                dados
                <span class="attribute">string</span>
            </td>
            <td>
                Estrutura de atendimento da URA.
            </td>
        </tr>
    </tbody>
</table>
<h5 id='response-20'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                status
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o status da requisição
             </td>
        </tr>
    </tbody>
</table>
<h3 id='deletar-ura'>Deletar URA</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>DELETE https://voice-api.zenvia.com/ura/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X DELETE --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
             <span class="s1">'https://voice-api.zenvia.com/ura/{id}'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">central</span><span class="o">-&gt;</span><span class="na">excluirUra</span><span class="p">(</span><span class="s2">"id"</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">central</span><span class="p">.</span><span class="nx">excluirUra</span><span class="p">(</span><span class="s1">'id-ura'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">Em</span><span class="x"> </span><span class="n">construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="no">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"URA Removida"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para deletar uma URA, basta informar o ID da mesma que deseja remover.</p>

<p>Método utilizado: </p>

<p><strong>DELETE</strong> <a href = "https://voice-api.zenvia.com/ura/{id}">https://voice-api.zenvia.com/ura/{id}</a></p>
<h4 id='request-21'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID da URA
            </td>
        </tr>
    </tbody>
</table>
<h5 id='response-21'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                status
                <span class="attribute">object</span>
            </td>
            <td>
                 Retorna o status da requisição </a>
             </td>
        </tr>
    </tbody>
</table>
<h3 id='relatorio-ura'>Relatório URA</h3>
<blockquote>
<p>Definição</p>
</blockquote>

<p>Retorna a sua lista de URAs e suas estruturas</p>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/ura/relatorio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
            <span class="s1">'https://voice-api.zenvia.com/ura/relatorio'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nx">Em</span> <span class="nx">constru</span><span class="err">çã</span><span class="nx">o</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">central</span><span class="p">.</span><span class="nx">relatorioUra</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">Em</span><span class="x"> </span><span class="n">construção</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Em</span> <span class="n">constru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Geral"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="s2">"menu"</span><span class="p">:</span><span class="w"> </span><span class="s2">"menu 1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"opcao"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"acao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tts"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"acao_dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Olá, seja bem vindo a melhór startap da Palhóça. Digite 1 para ser atendido."</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"timeout_fila"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
            </span><span class="s2">"menu"</span><span class="p">:</span><span class="w"> </span><span class="s2">"menu 1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"opcao"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"acao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fila"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"acao_dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"fila_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"timeout_fila"</span><span class="p">:</span><span class="w"> </span><span class="mi">9000</span><span class="p">,</span><span class="w">
            </span><span class="s2">"menu"</span><span class="p">:</span><span class="w"> </span><span class="s2">"menu 1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"opcao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"acao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fila"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"acao_dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"fila_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"745896"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para consultar sua lista de URAs e suas estruturas, o método de solicitação deve ser HTTP GET. Ele retornará um array com as URAs e seus IDs. </p>

<p><strong>GET</strong> <a href = "https://voice-api.zenvia.com/ura/relatorio">https://voice-api.zenvia.com/ura/relatorio</a></p>
<h4 id='response-22'>Response</h4>
<table class="table-parameters">
     <tbody>
        <tr>
            <td>
                relatorio
                <span class="attribute">array</span>
            </td>
            <td>
                Retorna um array com as URAs e seus IDs e para cada uma um array com sua estrutura
             </td>
        </tr>
    </tbody>
</table>
<h1 id='apis-de-contas'>APIs de Contas</h1><h2 id='gerenciar-contas'>Gerenciar Contas</h2>
<blockquote>
<p>Gerenciar Contas End Point</p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-api.zenvia.com/conta
</code></pre>
<p>Usando esse recurso, você pode criar, consultar, alterar e deletar contas filhas. As contas filhas são exatamente iguais a qualquer outra conta na Zenvia, se diferenciando apenas por serem vinculadas com uma conta pai que possui o controle sobre ela. </p>

<p>O intuito é o de realizar integrações e automatizar processos de uso e revenda de serviços da API. </p>

<aside class="notice">
A funcionalidade de Gerente de Contas é um acesso especial que precisa ser liberado por nossa equipe, caso tenha interesse, entrar em contato por telefone com a equipe de Vendas.
</aside>
<h3 id='objeto-conta'>Objeto Conta</h3>
<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3132</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zenvia Telecom"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cpf_cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00.000.000/0000-00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"zenvia@zenvia.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"saldo"</span><span class="p">:</span><span class="w"> </span><span class="mf">999.99</span><span class="p">,</span><span class="w">
    </span><span class="s2">"telefone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seu-token"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_fixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.060"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_cel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.350"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email_financeiro"</span><span class="p">:</span><span class="w"> </span><span class="s2">"zenvia@zenvia.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome_fantasia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zenvia"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"conta_ativa"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valor_aviso_saldo_baixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"metodo_pagamento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prepago"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fatura_atual"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>O objeto é um modelo JSON. Para realizar a chamada, é necessário que esta contenha os parâmetros solicitados abaixo na tabela Atributos. Ao final, a API fará o retorno.</p>

<p><strong>Endpoint</strong> <a href ="https://voice-api.zenvia.com/conta">https://voice-api.zenvia.com/conta</a></p>
<h4 id='atributos'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único da Conta.
             </td>
        </tr>
        <tr>
            <td>
                login
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Login para a nova conta, precisa ser um endereço de e-mail válido.
            </td>
        </tr>
        <tr>
            <td>
                cpf_cnpj
                <span class="required">Obrigatório</span>
            </td>
            <td>
                CPF ou CNPJ desta conta, para fim de identificação e integração.
            </td>
        </tr>
        <tr>
            <td>
                telefone
                <span class="optional">Opcional</span>
            </td>
            <td>
                Número de telefone de contato desta conta, precisa ser um número de telefone válido.
            </td>
        </tr>
        <tr>
            <td>
                preco_fixo
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamadas destinadas a números fixos, deve ser maior ou igual ao da conta pai, por padrão vem o valor igual ao atual.
            </td>
        </tr>
        <tr>
            <td>
                preco_cel
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamadas destinadas a números móveis deve ser maior ou igual ao da conta pai, por padrão vem o valor igual ao atual.
            </td>
        </tr>
        <tr>
            <td>
                preco_ramal
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamada entre Ramais dentro dela mesma deve ser maior ou igual ao valor da conta pai, por padrão vem o valor igual ao atual.
            </td>
        </tr>
        <tr>
            <td>
                email_financeiro
                <span class="optional">Opcional</span>
            </td>
            <td>
                E-mail de contato para assuntos financeiros da nova conta, por padrão vem o e-mail da conta pai.
            </td>
        </tr>
        <tr>
            <td>
                nome_fantasia
                <span class="optional">Opcional</span>
            </td>
            <td>
                Nome fantasia desta conta que será utilizado para exibição.
            </td>
        </tr>
        <tr>
            <td>
                valor_aviso_saldo_baixo
                <span class="optional">Opcional</span>
            </td>
            <td>
                É necessário sem um valor inteiro, ex: 100 .Quando o saldo de créditos atingir ou ficar abaixo do valor determinado, você receberá um aviso no email do email_financeiro(caso este não tenha sido cadastrado você receberá no e-mail de login
            </td>
        </tr>
    </tbody>
</table>
<h3 id='criar-conta'>Criar Conta</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://voice-api.zenvia.com/conta
</code></pre>
<blockquote>
<p><br/>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl <span class="s1">'https://voice-api.zenvia.com/conta'</span> <span class="se">\</span>
    -X POST <span class="se">\ </span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
    -d <span class="s1">'{"nome" : "Zenvia", "login" : "zenvia@zenvia.com", "senha" : "senha123"}'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$conta_dados</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"nome"</span> <span class="o">=&gt;</span> <span class="s2">"Zenvia"</span><span class="p">,</span> 
    <span class="s2">"login"</span> <span class="o">=&gt;</span> <span class="s2">"zenvia@zenvia.com"</span><span class="p">,</span> 
    <span class="s2">"senha"</span> <span class="o">=&gt;</span> <span class="s2">"senha123"</span>
<span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">conta</span><span class="o">-&gt;</span><span class="na">criar</span><span class="p">(</span><span class="nv">$conta_dados</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">conta_dados</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">nome</span><span class="p">:</span> <span class="s2">"Zenvia"</span><span class="p">,</span> 
    <span class="na">login</span><span class="p">:</span> <span class="s2">"zenvia@zenvia.com"</span><span class="p">,</span> 
    <span class="na">senha</span><span class="p">:</span> <span class="s2">"senha123"</span>
<span class="p">};</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">conta</span><span class="p">.</span><span class="nx">criar</span><span class="p">(</span><span class="nx">conta_dados</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">

</span><span class="n">conta</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="nb">new</span><span class="p">(</span><span class="n">Conta</span><span class="p">)</span><span class="x">
</span><span class="n">conta</span><span class="o">.</span><span class="n">Nome</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="s">"Zenvia"</span><span class="x">
</span><span class="n">conta</span><span class="o">.</span><span class="n">Login</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="s">"zenvia@zenvia.com"</span><span class="x">
</span><span class="n">conta</span><span class="o">.</span><span class="n">Senha</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="s">"senha123"</span><span class="x">

</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Conta</span><span class="o">.</span><span class="n">Criar</span><span class="p">(</span><span class="n">conta</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">conta</span><span class="o">.</span><span class="n">criar_conta</span><span class="p">(</span><span class="s">"Zenvia"</span><span class="p">,</span> <span class="s">"zenvia@zenvia.com"</span><span class="p">,</span> <span class="s">"senha123"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Conta</span> <span class="n">conta</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Conta</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">contaDados</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">contaDados</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"nome"</span><span class="o">,</span> <span class="s">"Zenvia"</span><span class="o">);</span>
<span class="n">contaDados</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"login"</span><span class="o">,</span> <span class="s">"zenvia@zenvia.com"</span><span class="o">);</span>
<span class="n">contaDados</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"senha"</span><span class="o">,</span> <span class="s">"senha123"</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">conta</span><span class="o">.</span><span class="na">criar</span><span class="o">(</span><span class="n">contaDados</span><span class="o">);</span>
</code></pre>
<blockquote>
<p><br/>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"conta criada com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3132</span><span class="p">,</span><span class="w">
        </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seu-token"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para criar uma conta filha, basta informar o nome da mesma e seguir os campos solicitados abaixo. </p>

<p><strong>POST:</strong> <a href ="https://voice-api.zenvia.com/conta">https://voice-api.zenvia.com/conta</a></p>

<p><strong>REQUEST:</strong></p>

<ul>
<li><strong>Headers</strong></li>
</ul>

<ol>
<li><strong>Content-Type:</strong> application/json</li>
<li><strong>Authorization:</strong> Access-Token: seu-token</li>
</ol>

<p>Veja ao lado um exemplo de requisição. Utilize os campos abaixo para informar à nossa API quais informações deseja enviar:</p>
<h4 id='request'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                nome
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Nome para a nova conta filha.
             </td>
        </tr>
        <tr>
            <td>
                login
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Login para a nova conta, precisa ser um endereço de e-mail válido.
            </td>
        </tr>
        <tr>
            <td>
                senha
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Senha para esta nova conta. (Deve conter 8 caracteres, sendo pelo menos 1 maiúsculo e 1 minúsculo)
            </td>
        </tr>
        <tr>
            <td>
                cpf_cnpj
                <span class="required">Obrigatório</span>
            </td>
            <td>
                CPF ou CNPJ desta conta, para fim de identificação e integração.
            </td>
        </tr>
        <tr>
            <td>
                telefone
                <span class="optional">Opcional</span>
            </td>
            <td>
                Número de telefone de contato desta conta, precisa ser um número de telefone válido.
            </td>
        </tr>
        <tr>
            <td>
                preco_fixo
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamadas destinadas a números fixos, deve ser maior ou igual ao da conta pai, por padrão vem o valor igual ao atual.
            </td>
        </tr>
        <tr>
            <td>
                preco_cel
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamadas destinadas a números móveis deve ser maior ou igual ao da conta pai, por padrão vem o valor igual ao atual.
            </td>
        </tr>
        <tr>
            <td>
                preco_ramal
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamada entre Ramais dentro dela mesma deve ser maior ou igual ao valor da conta pai, por padrão vem o valor igual ao atual.
            </td>
        </tr>
        <tr>
            <td>
                email_financeiro
                <span class="optional">Opcional</span>
            </td>
            <td>
                E-mail de contato para assuntos financeiros da nova conta, por padrão vem o e-mail da conta pai.
            </td>
        </tr>
        <tr>
            <td>
                nome_fantasia
                <span class="optional">Opcional</span>
            </td>
            <td>
                Nome fantasia desta conta que será utilizado para exibição.
            </td>
        </tr>
        <tr>
            <td>
                valor_aviso_saldo_baixo
                <span class="optional">Opcional</span>
            </td>
            <td>
                É necessário sem um valor inteiro, ex: 100 .Quando o saldo de créditos atingir ou ficar abaixo do valor determinado, você receberá um aviso no email do email_financeiro(caso este não tenha sido cadastrado você receberá no e-mail de login
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único da conta criada.
             </td>
        </tr>
        <tr>
            <td>
                access_token
                <span class="attribute">string</span>
            </td>
            <td>
                Token que deverá ser utilizado por esta nova conta para acessar os serviços da API.
             </td>
        </tr>
    </tbody>
</table>
<h3 id='buscar-conta'>Buscar Conta</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/conta/{id}
</code></pre>
<blockquote>
<p><br/>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl <span class="s1">'https://voice-api.zenvia.com/conta/3132'</span> <span class="se">\</span>
    -X GET <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --header <span class="s1">'Access-Token: seu-token'</span> 
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">conta</span><span class="o">-&gt;</span><span class="na">buscaConta</span><span class="p">(</span><span class="mi">3132</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">conta</span><span class="p">.</span><span class="nx">buscar</span><span class="p">(</span><span class="mi">3132</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Conta</span><span class="o">.</span><span class="n">Buscar</span><span class="p">(</span><span class="m">3132</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">conta</span><span class="o">.</span><span class="n">get_by_id</span><span class="p">(</span><span class="mi">3132</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Conta</span> <span class="n">conta</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Conta</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">conta</span><span class="o">.</span><span class="na">buscar</span><span class="o">(</span><span class="mi">3132</span><span class="o">);</span>
</code></pre>
<blockquote>
<p><br/>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3132</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zenvia Telecom"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cpf_cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00.000.000/0000-00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"zenvia@zenvia.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"saldo"</span><span class="p">:</span><span class="w"> </span><span class="mf">999.99</span><span class="p">,</span><span class="w">
        </span><span class="s2">"telefone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seu-token"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco_fixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.060"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco_cel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.350"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco_ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email_financeiro"</span><span class="p">:</span><span class="w"> </span><span class="s2">"zenvia@zenvia.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nome_fantasia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zenvia"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"conta_ativa"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valor_aviso_saldo_baixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"metodo_pagamento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prepago"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fatura_atual"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Caso deseje buscar detalhes de uma conta filha, basta realizar uma chamada para obter os dados. Utilize um HTTP GET para o endereço de definição da API. </p>

<p><strong>GET</strong> <a href ="https://voice-api.zenvia.com/conta{id}">https://voice-api.zenvia.com/conta{id}</a></p>
<h5 id='request-2'>Request</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Identificador único da conta filha que você deseja buscar.
             </td>
        </tr>
    </tbody>
</table>
<h5 id='response-2'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto <a href="#objeto-conta">Conta</a>
             </td>
        </tr>
    </tbody>
</table>
<h3 id='alterar-conta'>Alterar Conta</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>PUT https://voice-api.zenvia.com/conta/{id}
</code></pre>
<blockquote>
<p><br/>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl <span class="s1">'https://voice-api.zenvia.com/conta/3132'</span> <span class="se">\</span>
    -X PUT <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
    -d <span class="s1">'{"senha" : "senha123456"}'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$conta_dados</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">"senha"</span> <span class="o">=&gt;</span> <span class="s2">"senha123456"</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">conta</span><span class="o">-&gt;</span><span class="na">atualizar</span><span class="p">(</span><span class="mi">3132</span><span class="p">,</span> <span class="nv">$conta_dados</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">conta_dados</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">senha</span><span class="p">:</span> <span class="s2">"senha123456"</span>
<span class="p">};</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">conta</span><span class="p">.</span><span class="nx">atualizar</span><span class="p">(</span><span class="mi">3132</span><span class="p">,</span> <span class="nx">conta_dados</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">

</span><span class="n">conta</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="nb">new</span><span class="p">(</span><span class="n">Conta</span><span class="p">)</span><span class="x">
</span><span class="n">conta</span><span class="o">.</span><span class="n">senha</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="s">"senha123"</span><span class="x">

</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Conta</span><span class="o">.</span><span class="n">Atualizar</span><span class="p">(</span><span class="n">conta</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">conta</span><span class="o">.</span><span class="n">editar_conta</span><span class="p">(</span><span class="s">"Zenvia"</span><span class="p">,</span> <span class="s">"zenvia@zenvia.com"</span><span class="p">,</span> <span class="s">"senha123"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Conta</span> <span class="n">conta</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Conta</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">contaDados</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">contaDados</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"id"</span><span class="o">,</span> <span class="mi">3132</span><span class="o">);</span>
<span class="n">contaDados</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"senha"</span><span class="o">,</span> <span class="s">"senha123"</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">conta</span><span class="o">.</span><span class="na">atualizar</span><span class="o">(</span><span class="n">contaDados</span><span class="o">);</span>
</code></pre>
<blockquote>
<p><br/>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados atualizados com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para alterar as informações de uma conta já existente, você precisa passar na URL o ID da conta e no corpo do request o JSON com os campos que serão alterados, conforme os exemplos.</p>

<p>O método de solicitação deve ser HTTP PUT. Ele criará um novo recurso e substituirá as antigas informações. </p>

<p><strong>PUT</strong> <a href ="https://voice-api.zenvia.com/conta">https://voice-api.zenvia.com/conta</a></p>
<h4 id='request-3'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                nome
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo nome para a conta que você deseja alterar
             </td>
        </tr>
        <tr>
            <td>
                login
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo login para a conta, precisa ser um endereço de e-mail válido.
            </td>
        </tr>
        <tr>
            <td>
                senha
                <span class="optional">Opcional</span>
            </td>
            <td>
                Nova senha para esta conta. (Deve conter 8 caracteres, sendo pelo menos 1 maiúsculo e 1 minúsculo)
            </td>
        </tr>
        <tr>
            <td>
                cpf_cnpj
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo CPF ou CNPJ desta conta, para fim de identificação e integração.
            </td>
        </tr>
        <tr>
            <td>
                telefone
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo número de telefone de contato desta conta, precisa ser um número de telefone válido.
            </td>
        </tr>
        <tr>
            <td>
                preco_fixo
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamadas destinadas a números fixos, deve ser maior ou igual ao da conta pai.
            </td>
        </tr>
        <tr>
            <td>
                preco_cel
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamadas destinadas a números móveis deve ser maior ou igual ao da conta pai.
            </td>
        </tr>
        <tr>
            <td>
                preco_ramal
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamada entre Ramais dentro dela mesma deve ser maior ou igual ao valor da conta pai.
            </td>
        </tr>
        <tr>
            <td>
                email_financeiro
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo e-mail de contato para assuntos financeiros desta conta.
            </td>
        </tr>
        <tr>
            <td>
                nome_fantasia
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo nome fantasia desta conta que será utilizado para exibição.
            </td>
        </tr>
        <tr>
            <td>
                valor_aviso_saldo_baixo
                <span class="optional">Opcional</span>
            </td>
            <td>
                É necessário sem um valor inteiro, ex: 100 .Quando o saldo de créditos atingir ou ficar abaixo do valor determinado, você receberá um aviso no email do email_financeiro(caso este não tenha sido cadastrado você receberá no e-mail de login
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response-3'>Response</h4>
<p><br/>
Retorna o objeto <a href="#respostas-da-api">resposta padrão</a> da API com sucesso ou falha.</p>
<h3 id='deletar-conta'>Deletar Conta</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>DELETE https://voice-api.zenvia.com/conta/{id}
</code></pre>
<blockquote>
<p><br/>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl <span class="s1">'https://voice-api.zenvia.com/conta/3132'</span> <span class="se">\</span>
    -X DELETE <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">conta</span><span class="o">-&gt;</span><span class="na">excluir</span><span class="p">(</span><span class="mi">3132</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">conta</span><span class="p">.</span><span class="nx">excluir</span><span class="p">(</span><span class="mi">3132</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Conta</span><span class="o">.</span><span class="n">Excluir</span><span class="p">(</span><span class="m">3132</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">conta</span><span class="o">.</span><span class="n">deletar</span><span class="p">(</span><span class="mi">3132</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Conta</span> <span class="n">conta</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Conta</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">conta</span><span class="o">.</span><span class="na">excluir</span><span class="o">(</span><span class="mi">3132</span><span class="o">);</span>
</code></pre>
<blockquote>
<p><br/>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Conta Removida com sucesso."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p><br/><br/><br/></p>
</blockquote>

<p>Para deletar permanentemente uma conta filha, deixando-a indisponível para uma posterior consulta, basta informar o ID da mesma.</p>

<p>Método utilizado: </p>

<p><strong>DELETE</strong> <a href ="https://voice-api.zenvia.com/fila/{id}">https://voice-api.zenvia.com/fila/{id}</a></p>

<aside class="notice">
Atenção ao executar este comando, pois após deletar, a conta filha irá perder todos os acessos à Zenvia. Com isso, o login utilizado ficará indisponível porque não é possível logins duplicados na API.
</aside>
<h5 id='request-4'>Request</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Identificador único da conta filha que você deseja deletar.
             </td>
        </tr>
    </tbody>
</table>
<h4 id='response-4'>Response</h4>
<p><br/>
Retorna o objeto <a href="#respostas-da-api">resposta padrão</a> da API com sucesso ou falha.</p>
<h3 id='relatorio-de-contas'>Relatório de Contas</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/conta/relatorio
</code></pre>
<blockquote>
<p><br/>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl <span class="s1">'https://voice-api.zenvia.com/conta/relatorio'</span> <span class="se">\</span>
    -X GET <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --header <span class="s1">'Access-Token: seu-token'</span> 
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">conta</span><span class="o">-&gt;</span><span class="na">relatorio</span><span class="p">();</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">conta</span><span class="p">.</span><span class="nx">relatorio</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Conta</span><span class="o">.</span><span class="n">Relatorio</span><span class="o">.</span><span class="n">Gerar</span><span class="p">()</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">conta</span><span class="o">.</span><span class="n">get_relatorio</span><span class="p">()</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Conta</span> <span class="n">conta</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Conta</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">conta</span><span class="o">.</span><span class="na">relatorio</span><span class="o">();</span>
</code></pre>
<blockquote>
<p><br/>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3132</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zenvia Telecom"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cpf_cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00.000.000/0000-00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"zenvia@zenvia.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"saldo"</span><span class="p">:</span><span class="w"> </span><span class="mf">999.99</span><span class="p">,</span><span class="w">
        </span><span class="s2">"telefone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco_fixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.060"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco_cel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.350"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco_ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email_financeiro"</span><span class="p">:</span><span class="w"> </span><span class="s2">"zenvia@zenvia.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nome_fantasia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zenvia"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"conta_ativa"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valor_aviso_saldo_baixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"metodo_pagamento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prepago"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fatura_atual"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3132</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zenvia Telecom"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cpf_cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00.000.000/0000-00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"zenvia@zenvia.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"saldo"</span><span class="p">:</span><span class="w"> </span><span class="mf">999.99</span><span class="p">,</span><span class="w">
        </span><span class="s2">"telefone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco_fixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.060"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco_cel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.350"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco_ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email_financeiro"</span><span class="p">:</span><span class="w"> </span><span class="s2">"zenvia@zenvia.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nome_fantasia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zenvia"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"conta_ativa"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valor_aviso_saldo_baixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"metodo_pagamento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prepago"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fatura_atual"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para consultar os dados da sua conta e retornar um relatório com todas as suas contas filhas, veja ao lado um exemplo de requisição. </p>

<p>As contas retornadas no relatório vêm ordenadas por data de criação.</p>
<h4 id='response-5'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                relatorio
                <span class="attribute">array</span>
            </td>
            <td>
                Retorna um array com objetos <a href="#objeto-conta">conta</a>
             </td>
        </tr>
    </tbody>
</table>

<p><br/>
<br/></p>
<h3 id='credito-bonus'>Crédito bônus</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://voice-api.zenvia.com/conta/{id}/bonus
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
            -d <span class="s1">'{"valor":"100"}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-api.zenvia.com/conta/id-conta/bonus'</span>
</code></pre><pre class="highlight php tab-php"><code>Em Contrução
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="nx">Em</span> <span class="nx">Contru</span><span class="err">çã</span><span class="nx">o</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">Em</span><span class="x"> </span><span class="n">Contrução</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">Em</span> <span class="n">Contru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Em</span> <span class="n">Contru</span><span class="err">çã</span><span class="n">o</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="no">Em</span> <span class="no">Contru</span><span class="err">çã</span><span class="n">o</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"valor adicionado com sucesso"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para adicionar crédito de bônus nas contas criadas, veja ao lado um exemplo de requisição.</p>

<aside class="notice">
A funcionalidade de Crédito de Bônus é um limite especial configurado em sua conta gerente, que precisa ser liberado por nossa equipe, caso tenha interesse, entre em contato
</aside>
<h4 id='request-5'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID da conta que vai receber os creditos
            </td>
        </tr>
        <tr>
            <td>
                valor
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Valor que será adicionado como crédito bônus na conta
            </td>
        </tr>
    </tbody>
</table>
<h3 id='webhooks'>Webhooks</h3>
<p>A seguir, veja quais métodos de Webhooks estão disponíveis para a API de Gerenciar Contas. </p>

<p>Caso ainda não tenha configurado nenhum evento no nosso Painel de Voz, recomendamos a leitura desta <a href ="https://www.google.com/url?q=https://docs.google.com/document/d/11vrdKptDA_9Pu17OIA4zOyZsSG7pYz32/edit&sa=D&source=docs&ust=1679666573842562&usg=AOvVaw19vK9Bqn6tfwlETfupklQq">documentação técnica.</a></p>
<h3 id='listar-webhooks'>Listar Webhooks</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/conta/webhook-default
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-api.zenvia.com/conta/webhook-default'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">conta</span><span class="o">-&gt;</span><span class="na">webhooksDefault</span><span class="p">();</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kd">var</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">conta</span><span class="p">.</span><span class="nx">webhooksDefault</span><span class="p">()</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">WebhookDefault</span><span class="o">.</span><span class="n">Listar</span><span class="p">();</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">conta</span><span class="o">.</span><span class="n">get_webhook_default</span><span class="p">()</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Conta</span> <span class="n">conta</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Conta</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">conta</span><span class="o">.</span><span class="na">webhookDefault</span><span class="o">()</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">conta</span><span class="p">.</span><span class="nf">webhooks_default</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"webhooks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"webhook"</span><span class="p">:</span><span class="w"> </span><span class="s2">"status_tempo_real"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://webhook.site/T3st1dew3b400k"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"webhook"</span><span class="p">:</span><span class="w"> </span><span class="s2">"chamada_fim"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://webhook.site/T3st1dew3b400k"</span><span class="w">
      </span><span class="p">},</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Este método permite a listagem de todos os webhooks default configurados para suas subcontas (Contas filhas). </p>
<h4 id='request-6'>Request</h4>
<table class="table-parameters">
    <p>Não precisa passar nenhum parâmetro.</p>
</table>
<h4 id='response-6'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                webhooks
                <span class="attribute">array</span>
            </td>
           <td>
                Retorna dentro de dados um arrays com os webhooks default cadastros.
            </td>
        </tr>
    </tbody>
</table>
<h3 id='remover-webhooks'>Remover Webhooks</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>DELETE https://voice-api.zenvia.com/conta/webhook-default/{nome_webhook}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X DELETE --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-api.zenvia.com/conta/webhook-default/chamada_fim'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">conta</span><span class="o">-&gt;</span><span class="na">excluirWebhookDefault</span><span class="p">(</span><span class="s2">"nome"</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kd">var</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">conta</span><span class="p">.</span><span class="nx">excluirWebhookDefault</span><span class="p">(</span><span class="s2">"nome"</span><span class="p">)</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">WebhookDefault</span><span class="o">.</span><span class="n">Excluir</span><span class="p">(</span><span class="s">"nome"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">client</span><span class="o">.</span><span class="n">conta</span><span class="o">.</span><span class="n">delete_webhook_default</span><span class="p">(</span><span class="s">"nome"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Conta</span> <span class="n">conta</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Conta</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">conta</span><span class="o">.</span><span class="na">excluirWebhookDefault</span><span class="o">(</span><span class="s">"nome"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">conta</span><span class="p">.</span><span class="nf">excluir_webhook_default</span><span class="p">(</span><span class="s2">"nome"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"webhook default apagado com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Este método permite a remoção de um webhook default específico. </p>
<h4 id='request-7'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                webhook
                <span class="required">string</span>
            </td>
            <td>
                Nome do webhook
             </td>
        </tr>
    </tbody>
</table>
<h4 id='response-7'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">string</span>
            </td>
            <td>
                Retorna dados null e mensagem de sucesso
             </td>
        </tr>
    </tbody>
</table>
<h3 id='alterar-um-webhook'>Alterar um webhook</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>PUT https://voice-api.zenvia.com/conta/webhook-default/{nome_webhook}
</code></pre>
<blockquote>
<p><br/>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl <span class="s1">'https://voice-api.zenvia.com/conta/webhook-default/chamada_fim'</span> <span class="se">\</span>
    -X PUT <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --header <span class="s1">'Access-Token: Seu_Token'</span> <span class="se">\</span>
    -d <span class="s1">'{"url" : "www.urlretorno.com.br"}'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'Seu_Token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">conta</span><span class="o">-&gt;</span><span class="na">salvaWebhookDefault</span><span class="p">(</span><span class="s2">"nome"</span><span class="p">,</span><span class="s2">"url"</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"Seu_Token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">conta</span><span class="p">.</span><span class="nx">salvaWebhookDefault</span><span class="p">(</span><span class="s2">"nome"</span><span class="p">,</span><span class="s2">"url"</span><span class="p">)</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">WebhookDefault</span><span class="o">.</span><span class="n">Salvar</span><span class="p">(</span><span class="s">"nome"</span><span class="p">,</span><span class="s">"url"</span><span class="p">);</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">conta</span><span class="o">.</span><span class="n">edit_webhook_default</span><span class="p">(</span><span class="s">"nome"</span><span class="p">,</span><span class="s">"url"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"Seu_Token"</span><span class="o">);</span>
<span class="n">Conta</span> <span class="n">conta</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Conta</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">conta</span><span class="o">.</span><span class="na">salvarWebhookDefault</span><span class="o">(</span><span class="s">"nome"</span><span class="o">,</span><span class="s">"url"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">conta</span><span class="p">.</span><span class="nf">salvar_webhook_default</span><span class="p">(</span><span class="s2">"nome"</span><span class="p">,</span><span class="s2">"url"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p><br/>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"webhook default atualizado com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Este método permite alterar as informações de um webhook default. Para isso, antes você precisa passar no corpo do request o JSON com a url que vai receber o webhook.</p>
<h4 id='request-8'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                nome
                <span class="required">string</span>
            </td>
            <td>
                Nome do webhook que vai ser alterado
             </td>
        </tr>
        <tr>
            <td>
                url
                <span class="required">string</span>
            </td>
            <td>
                Sua URL que vai receber o callback
             </td>
        </tr>
    </tbody>
</table>
<h4 id='response-8'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">string</span>
            </td>
            <td>
                Retorna dados null e mensagem de sucesso
             </td>
        </tr>
    </tbody>
</table>
<h2 id='minha-conta'>Minha conta</h2>
<p>Usando esse recurso, você pode visualizar seu saldo, monitorar suas contas e suas recargas, editar suas contas e configurar e visualizar seus webhooks.</p>
<h3 id='objeto-minha-conta'>Objeto Minha Conta</h3>
<blockquote>
<p><br></p>

<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zenvia Telecom"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cpf_cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.123.123</span><span class="se">\/</span><span class="s2">0001-10"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"teste@zenvia.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"saldo"</span><span class="p">:</span><span class="w"> </span><span class="mf">950.64</span><span class="p">,</span><span class="w">
    </span><span class="s2">"telefone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234asdkgh1g23213nkbdfsh3v43"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_fixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.060"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_sms"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.090"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_cel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.350"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email_financeiro"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testefinanceiro@zenvia.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome_fantasia"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"conta_ativa"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valor_aviso_saldo_baixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"metodo_pagamento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prepago"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fatura_atual"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.52</span><span class="p">,</span><span class="w">
    </span><span class="s2">"limite_credito_bonus"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>O objeto é um modelo JSON. Para realizar a chamada, é necessário que esta contenha os parâmetros solicitados abaixo na tabela Atributos. Ao final, a API fará o retorno.</p>

<p><strong>Endpoint</strong> <a href ="https://voice-api.zenvia.com/conta">https://voice-api.zenvia.com/conta</a></p>
<h4 id='atributos-2'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                nome
                <span class="attribute">string</span>
            </td>
            <td>
                Nome da conta.
             </td>
        </tr>
        <tr>
            <td>
                login
                <span class="attribute">string</span>
            </td>
            <td>
                Login de acesso da sua conta
            </td>
        </tr>
        <tr>
            <td>
                cpf_cnpj
                <span class="attribute">string</span>
            </td>
            <td>
                CPF ou CNPJ da sua conta
            </td>
        </tr>
        <tr>
            <td>
                telefone
                <span class="attribute">string</span>
            </td>
            <td>
                Telefone da sua conta
            </td>
        </tr>
        <tr>
            <td>
                preco_fixo
                <span class="attribute">string</span>
            </td>
            <td>
                Preço por minuto do fixo
            </td>
        </tr>
        <tr>
            <td>
                preco_cel
                <span class="attribute">string</span>
            </td>
            <td>
                Preço por minuto para celular
            </td>
        </tr>
        <tr>
        <tr>
            <td>
                preco_ramal
                <span class="attribute">string</span>
            </td>
            <td>
                Preço por minuto do ramal
            </td>
        </tr>
        <tr>
            <td>
                email_financeiro
                <span class="attribute">string</span>
            </td>
            <td>
                E-mail do financeiro da sua empresa
            </td>
        </tr>
        <tr>
            <td>
                nome_fantasia
                <span class="attribute">string</span>
            </td>
            <td>
                Nome fantasia da sua empresa
            </td>
        </tr>
    </tbody>
</table>
<h3 id='objeto-resposta-minha-conta'>Objeto Resposta - Minha conta</h3>
<blockquote>
<p><br></p>

<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zenvia Telecom"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cpf_cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.123.123</span><span class="se">\/</span><span class="s2">0001-10"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"teste@zenvia.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"saldo"</span><span class="p">:</span><span class="w"> </span><span class="mf">950.64</span><span class="p">,</span><span class="w">
    </span><span class="s2">"telefone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234asdkgh1g23213nkbdfsh3v43"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_fixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.060"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_sms"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.090"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_cel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.350"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email_financeiro"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testefinanceiro@zenvia.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome_fantasia"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"conta_ativa"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valor_aviso_saldo_baixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"metodo_pagamento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prepago"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fatura_atual"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.52</span><span class="p">,</span><span class="w">
    </span><span class="s2">"limite_credito_bonus"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>O objeto é um modelo JSON. Para realizar a chamada, é necessário que esta contenha os parâmetros solicitados abaixo na tabela Atributos. Ao final, a API fará o retorno.</p>

<p><strong>Endpoint</strong> <a href ="https://voice-api.zenvia.com/conta">https://voice-api.zenvia.com/conta</a></p>
<h4 id='atributos-3'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro da sua conta
             </td>
        </tr>
        <tr>
            <td>
                nome
                <span class="attribute">string</span>
            </td>
            <td>
                Nome da sua conta
             </td>
        </tr>
        <tr>
            <td>
                cpf_cnpj
                <span class="attribute">string</span>
            </td>
            <td>
                CPF ou CNPJ da sua conta
            </td>
        </tr>
        <tr>
            <td>
                login
                <span class="attribute">string</span>
            </td>
            <td>
                Login de acesso da sua conta
            </td>
        </tr>
        <tr>
            <td>
                saldo
                <span class="attribute">float</span>
            </td>
            <td>
                Saldo atual da conta
            </td>
        </tr>
        <tr>
            <td>
                telefone
                <span class="attribute">string</span>
            </td>
            <td>
                Telefone da sua conta
            </td>
        </tr>
        <tr>
            <td>
                access_token
                <span class="attribute">string</span>
            </td>
            <td>
                Access Token da sua conta
            </td>
        </tr>
        <tr>
            <td>
                preco_fixo
                <span class="attribute">string</span>
            </td>
            <td>
                Preço por minuto para fixo
            </td>
        </tr>
        <tr>
            <td>
                preco_cel
                <span class="attribute">string</span>
            </td>
            <td>
                Preço por minuto para celulares
            </td>
        </tr>
        <tr>
            <td>
                preco_ramal
                <span class="attribute">string</span>
            </td>
            <td>
                Preço por minuto para ramal
            </td>
        </tr>
        <tr>
            <td>
                email_financeiro
                <span class="attribute">string</span>
            </td>
            <td>
                E-mail do financeiro da sua empresa
            </td>
        </tr>
        <tr>
            <td>
                nome_fantasia
                <span class="attribute">string</span>
            </td>
            <td>
                Nome fantasia da sua empresa
            </td>
        </tr>
        <tr>
            <td>
                metodo_pagamento
                <span class="attribute">string</span>
            </td>
            <td>
                Método de faturamento da sua conta
            </td>
        </tr>
    </tbody>
</table>
<h3 id='consultar-saldo-da-conta'>Consultar saldo da Conta</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/saldo
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-api.zenvia.com/saldo'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">perfil</span><span class="o">-&gt;</span><span class="na">consultaSaldo</span><span class="p">();</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kd">var</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">perfil</span><span class="p">.</span><span class="nx">consultaSaldo</span><span class="p">()</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">)</span><span class="x">

 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Saldo</span><span class="o">.</span><span class="n">ConsultaSaldo</span><span class="p">()</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">minha_conta</span><span class="o">.</span><span class="n">get_saldo</span><span class="p">()</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Perfil</span> <span class="n">perfil</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Perfil</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">perfil</span><span class="o">.</span><span class="na">consultaSaldo</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">perfil</span><span class="p">.</span><span class="nf">consulta_saldo</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"saldo atual"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"saldo"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.00</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Caso deseje consultar o saldo disponível em sua conta, basta realizar uma chamada para obter os dados. Utilize um HTTP GET para o endereço de definição da API. </p>

<p><strong>GET</strong> <a href ="https://voice-api.zenvia.com/saldo">https://voice-api.zenvia.com/saldo</a></p>
<h3 id='buscar-conta-2'>Buscar conta</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/conta/
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="s1">'https://voice-api.zenvia.com/conta'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">perfil</span><span class="o">-&gt;</span><span class="na">minhaConta</span><span class="p">();</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kd">var</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">perfil</span><span class="p">.</span><span class="nx">minhaConta</span><span class="p">()</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">)</span><span class="x">

 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Perfil</span><span class="o">.</span><span class="n">MinhaConta</span><span class="p">()</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">minha_conta</span><span class="o">.</span><span class="n">get_conta</span><span class="p">()</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Perfil</span> <span class="n">perfil</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Perfil</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">perfil</span><span class="o">.</span><span class="na">minhaConta</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">perfil</span><span class="p">.</span><span class="nf">minha_conta</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zenvia Telecom"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cpf_cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.123.123</span><span class="se">\/</span><span class="s2">0001-10"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"teste@zenvia.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"saldo"</span><span class="p">:</span><span class="w"> </span><span class="mf">950.64</span><span class="p">,</span><span class="w">
    </span><span class="s2">"telefone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234asdkgh1g23213nkbdfsh3v43"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_fixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.060"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_sms"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.090"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_cel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.350"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email_financeiro"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testefinanceiro@zenvia.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome_fantasia"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"conta_ativa"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valor_aviso_saldo_baixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"metodo_pagamento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prepago"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fatura_atual"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.52</span><span class="p">,</span><span class="w">
    </span><span class="s2">"limite_credito_bonus"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Caso deseje buscar a sua conta, basta realizar uma chamada para obter os dados. Utilize um HTTP GET para o endereço de definição da API. </p>

<p><strong>GET</strong> <a href ="https://voice-api.zenvia.com/conta">https://voice-api.zenvia.com/conta</a></p>
<h3 id='alterar-conta-2'>Alterar Conta</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>PUT https://voice-api.zenvia.com/conta
</code></pre>
<blockquote>
<p><br/>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl <span class="s1">'https://voice-api.zenvia.com/conta/3132'</span> <span class="se">\</span>
    -X PUT <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --header <span class="s1">'Access-Token: Seu_Token'</span> <span class="se">\</span>
    -d <span class="s1">'{"senha" : "senha123456"}'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'Seu_Token'</span><span class="p">);</span>

<span class="nv">$conta_dados</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">"senha"</span> <span class="o">=&gt;</span> <span class="s2">"senha123456"</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">perfil</span><span class="o">-&gt;</span><span class="na">atualizaDadosConta</span><span class="p">(</span><span class="nv">$conta_dados</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"Seu_Token"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">conta_dados</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">senha</span><span class="p">:</span> <span class="s2">"senha123456"</span>
<span class="p">};</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">perfil</span><span class="p">.</span><span class="nx">atualizaDadosConta</span><span class="p">(</span><span class="nx">conta_dados</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">)</span><span class="x">

</span><span class="n">perfil</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="nb">new</span><span class="p">(</span><span class="n">Perfil</span><span class="p">)</span><span class="x">
</span><span class="n">perfil</span><span class="o">.</span><span class="n">NomeFantasia</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="s">"NovoNome"</span><span class="x">

</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Perfil</span><span class="o">.</span><span class="n">AtualizarConta</span><span class="p">(</span><span class="n">perfil</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">perfil</span><span class="o">.</span><span class="n">editar_conta</span><span class="p">(</span><span class="s">"Zenvia"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"Seu_Token"</span><span class="o">);</span>
<span class="n">Perfil</span> <span class="n">perfil</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Perfil</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">perfil</span><span class="o">.</span><span class="na">atualizaDadosConta</span><span class="o">(</span><span class="err">'</span><span class="o">{</span><span class="s">"nome"</span><span class="o">:</span><span class="s">"TotalVoice"</span><span class="o">}</span><span class="err">'</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">perfil</span><span class="p">.</span><span class="nf">atualizar</span><span class="p">(</span><span class="s1">'{"nome":"TotalVoice"}'</span><span class="p">)</span>
</code></pre>
<blockquote>
<p><br/>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados atualizados com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para alterar as informações da sua conta principal, você precisa passar no corpo do request o JSON com os campos que serão alterados, conforme os exemplos.</p>

<p>O método de solicitação deve ser HTTP PUT. Ele criará um novo recurso e substituirá as antigas informações. </p>

<p><strong>PUT</strong> <a href ="https://voice-api.zenvia.com/conta">https://voice-api.zenvia.com/conta</a></p>
<h4 id='request-9'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                nome
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo nome para a conta que você deseja alterar
             </td>
        </tr>
        <tr>
            <td>
                login
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo login para a conta, precisa ser um endereço de e-mail válido.
            </td>
        </tr>
        <tr>
            <td>
                senha
                <span class="optional">Opcional</span>
            </td>
            <td>
                Nova senha para esta conta. (Deve conter 8 caracteres, sendo pelo menos 1 maiúsculo e 1 minúsculo)
            </td>
        </tr>
        <tr>
            <td>
                cpf_cnpj
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo CPF ou CNPJ desta conta, para fim de identificação e integração.
            </td>
        </tr>
        <tr>
            <td>
                telefone
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo número de telefone de contato desta conta, precisa ser um número de telefone válido.
            </td>
        </tr>
        <tr>
            <td>
                preco_fixo
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamadas destinadas a números fixos deve ser maior ou igual ao da conta pai.
            </td>
        </tr>
        <tr>
            <td>
                preco_cel
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamadas destinadas a números móveis, deve ser maior ou igual ao da conta pai.
            </td>
        </tr>
        <tr>
            <td>
                preco_ramal
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamada entre Ramais dentro dela mesma deve ser maior ou igual ao valor da conta pai.
            </td>
        </tr>
        <tr>
            <td>
                email_financeiro
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo e-mail de contato para assuntos financeiros desta conta.
            </td>
        </tr>
        <tr>
            <td>
                nome_fantasia
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo nome fantasia desta conta que será utilizado para exibição.
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response-9'>Response</h4>
<p><br/>
Retorna o objeto <a href="#respostas-da-api">resposta padrão</a> da API com sucesso ou falha.
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h3 id='relatorio-de-recarga'>Relatório de Recarga</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/conta/recargas
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-api.zenvia.com/conta/recargas'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">perfil</span><span class="o">-&gt;</span><span class="na">relatorioRecarga</span><span class="p">();</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kd">var</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">perfil</span><span class="p">.</span><span class="nx">relatorioRecarga</span><span class="p">();</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">)</span><span class="x">

 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Perfil</span><span class="o">.</span><span class="n">RelatorioRecarga</span><span class="p">()</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">minha_conta</span><span class="o">.</span><span class="n">get_recargas</span><span class="p">()</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Perfil</span> <span class="n">perfil</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Perfil</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">perfil</span><span class="o">.</span><span class="na">relatorioRecarga</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">perfil</span><span class="p">.</span><span class="nf">relatorio_recarga</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6470</span><span class="p">,</span><span class="w">
        </span><span class="s2">"credito"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-05T09:42:03-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"descricao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Recarga"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5873</span><span class="p">,</span><span class="w">
        </span><span class="s2">"credito"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-28T11:34:49-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"descricao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Recarga"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para consultar os dados de recarga da sua conta, basta informar o período desejado para que a API retorne os dados.</p>

<p>Veja ao lado um exemplo de requisição. Os campos são:</p>
<h4 id='response-10'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID da transação de recarga
             </td>
        </tr>
        <tr>
            <td>
                credito
                <span class="attribute">float</span>
            </td>
            <td>
                Valor da recarga
             </td>
        </tr>
        <tr>
            <td>
                data
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data da transação
             </td>
        </tr>
        <tr>
            <td>
                descricao
                <span class="attribute">string</span>
            </td>
            <td>
                Descrição da transação
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h3 id='url-de-recarga'>URL de recarga</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/conta/urlrecarga
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-api.zenvia.com/conta/urlrecarga?url_retorno=www.urlretorno.com.br'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">perfil</span><span class="o">-&gt;</span><span class="na">urlRecarga</span><span class="p">(</span><span class="s2">"www.urlretorno.com.br"</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kd">var</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">perfil</span><span class="p">.</span><span class="nx">urlRecarga</span><span class="p">(</span><span class="s2">"www.urlretorno.com.br"</span><span class="p">);</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">)</span><span class="x">

 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Perfil</span><span class="o">.</span><span class="n">GeraURLRecarga</span><span class="p">(</span><span class="s">"www.urlretorno.com.br"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">minha_conta</span><span class="o">.</span><span class="n">get_url_recarga</span><span class="p">(</span><span class="s">"www.urlretorno.com.br"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Perfil</span> <span class="n">perfil</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Perfil</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">perfil</span><span class="o">.</span><span class="na">urlRecarga</span><span class="o">(</span><span class="s">"www.urlretorno.com.br"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">perfil</span><span class="p">.</span><span class="nf">url_recarga</span><span class="p">(</span><span class="s2">"www.urlretorno.com.br"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.evoline.com.br/recarga/index.php?id=eagr&amp;public_key=teste5a4b033e14e69"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para gerar uma URL para recarga de créditos na sua conta, utilize um HTTP GET no endereço de definição da API. </p>

<p><strong>GET</strong> <a href ="https://voice-api.zenvia.com/conta/urlrecarga">https://voice-api.zenvia.com/conta/urlrecarga</a></p>
<h1 id='apis-de-ligacoes'>APIs de Ligações</h1><h2 id='chamadas'>Chamadas</h2>
<p>Usando esse recurso, será possível criar chamadas perna A e perna B, podendo gravar as ligações, agendar e binar o seu próprio número. </p>

<p>Além disso, também permite:</p>

<ul>
<li>Gerar relatório de chamadas;</li>
<li>Derrubar chamadas em andamento;</li>
<li>Transferir chamadas;</li>
<li>Obter avaliação de chamadas.</li>
</ul>
<h3 id='objeto-chamadas'>Objeto Chamadas</h3>
<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-02T10:49:30-03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ativa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://urlgravacao.com.br/rec/audio.mp3"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cliente_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"conta_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ramal_id_origem"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">"minha-tags"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status_geral"</span><span class="p">:</span><span class="w"> </span><span class="s2">"finalizada"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"origem"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ramal"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:10"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:10"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:10"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"indefinido"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"destino"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-02T10:49:29-03:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4001"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ramal"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:29"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:01:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:28"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"indefinido"</span><span class="w">
    </span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>O objeto é um modelo JSON que retorna informações sobre as chamadas. </p>

<p>É necessário conter os parâmetros solicitados abaixo na tabela Atributos para, ao final, a API fazer o retorno.</p>

<p><strong>Endpoint:</strong> <a href = "https://voice-api.zenvia.com/chamada">https://voice-api.zenvia.com/chamada</a></p>
<h4 id='atributos'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro da chamada.
             </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data de criação do registro da chamada. Data e Hora no formato UTC
            </td>
        </tr>
        <tr>
            <td>
                ativa
                <span class="attribute">boolean</span>
            </td>
            <td>
                Identifica se a chamada está ativa ou não
             </td>
        </tr>
        <tr>
            <td>
                url_gravacao
                <span class="attribute">string</span>
            </td>
            <td>
                URL com áudio da gravação da chamada
             </td>
        </tr>
        <tr>
            <td>
                cliente_id
                <span class="attribute">integer</span>
            </td>
            <td>
               Identificação do cliente referente a chamada
            </td>
        </tr>
        <tr>
            <td>
                conta_id
                <span class="attribute">integer</span>
            </td>
            <td>
               Identificação da Conta referente a chamada
            </td>
        </tr>
        <tr>
            <td>
                ramal_id_origem
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do ramal que originou a chamada referente a ligação, se houver.
            </td>
        </tr>
        <tr>
            <td>
                tags
                <span class="attribute">string</span>
            </td>
            <td>
                Informação adicional que pode ser retornada no objeto, como um ID Externo por exemplo. Você consegue enviar essa informação no
                Post da Chamada e recuperar posteriormente nessa consulta.
            </td>
        </tr>
        <tr>
            <td>
                detecta_caixa
                <span class="attribute">boolean</span>
            </td>
            <td>
                Caso identificado caixa, a ligação será derrubada antes que a ligação seja atendida. Esse serviço tem um custo adicional.
            </td>
        </tr>
        <tr>
            <td>
                status_geral
                <span class="attribute">string</span>
            </td>
            <td>
                Status geral da Chamada.
                <ul>
                    <li>criada: chamada foi criada</li>
                    <li>curso: está em andamento</li>
                    <li>finalizada: chamada foi finalizada</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td>
                origem / destino
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna os objetos <a href="#objeto-origem-destino">origem/destino</a>
            </td>
        </tr>
    </tbody>
</table>
<h3 id='objeto-origem-destino'>Objeto Origem/Destino</h3>
<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-02T10:49:29-03:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ramal"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:29"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:01:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:28"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"indefinido"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>O objeto é um modelo JSON que retorna informações sobre a <strong>origem</strong> de quem originou a ligação e o <strong>destino</strong> de quem recebeu. </p>

<p>Nestes dois objetos você encontrará as informações sobre <strong>duração das chamadas, status</strong> e <strong>preço</strong> que foi cobrado por cada perna. </p>

<p>É necessário conter os parâmetros solicitados abaixo na tabela Atributos para, ao final, a API fazer o retorno.</p>

<p><strong>Endpoint:</strong> <a href = "https://voice-api.zenvia.com/chamada">https://voice-api.zenvia.com/chamada</a></p>
<h4 id='atributos-2'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_inicio
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora de início da chamada na Origem/Destino.
             </td>
        </tr>
        <tr>
            <td>
                numero
                <span class="attribute">string</span>
            </td>
            <td>
                Número que irá receber a ligação e será o número de Origem/Destino.
             </td>
        </tr>
        <tr>
            <td>
                tipo
                <span class="attribute">string</span>
            </td>
            <td>
                Tipo da ligação:
                <ul>
                    <li>ramal: ligação para um ramal</li>
                    <li>movel: ligação para um celular</li>
                    <li>fixo: ligação para um número fixo</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td>
                status
                <span class="attribute">string</span>
            </td>
            <td>
                Status da ligação na Origem/Destino:
                <ul>
                    <li>atendida</li>
                    <li>sem resposta</li>
                    <li>ocupado</li>
                    <li>congestionado</li>
                    <li>falha</li>
                    <li>cancelada</li>
                    <li>não existe</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td>
                duracao_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos (inteiro) do total da chamada desde o início do processamento
            </td>
        </tr>
        <tr>
            <td>
                duracao
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração total da chamada desde o início do processamento
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos para fins de cobrança
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração considerada para fins de cobrança
            </td>
        </tr>
                <tr>
            <td>
                duracao_falada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos da chamada desde que o destino atendeu
            </td>
        </tr>
        <tr>
            <td>
                duracao_falada
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração da chamada desde que o destino atendeu
            </td>
        </tr>
        <tr>
            <td>
                preco
                <span class="attribute">float</span>
            </td>
            <td>
                Valor cobrado pela chamada
            </td>
        </tr>
        <tr>
            <td>
                motivo_desconexao
                <span class="attribute">string</span>
            </td>
            <td>
                Um dos motivos de desconexão:
                <ul>
                    <li>1. telefone não existe</li>
                    <li>2. sem rota para a rede de destino</li>
                    <li>3. sem rota para o destino</li>
                    <li>4. prefixo incorreto</li>
                    <li>6. canal inaceitável</li>
                    <li>7. chamada sendo entregue em canal ja estabelecido</li>
                    <li>8. call peemption</li>
                    <li>14. telefone portado para outra operadora</li>
                    <li>16. normal</li>
                    <li>17. ocupado</li>
                    <li>18. sem resposta</li>
                    <li>19. sem resposta - mas chamou</li>
                    <li>20. assinante ausente</li>
                    <li>21. chamada rejeitada</li>
                    <li>22. este número mudou</li>
                    <li>23. redirecionado para novo destino</li>
                    <li>26. atendido em outro lugar</li>
                    <li>27. destino não está funcionando</li>
                    <li>28. formato inválido de número</li>
                    <li>29. rejeitado</li>
                    <li>30. resposta para status enquiry</li>
                    <li>31. normal, não especificado</li>
                    <li>34. sem canal disponível</li>
                    <li>41. falha temporária</li>
                    <li>42. equipamento congestionado</li>
                    <li>44. canal requisitado não está disponível</li>
                    <li>50. não cadastrado</li>
                    <li>52. chamada sainte barrada</li>
                    <li>54. chamada entrante barrada</li>
                    <li>57. capacidade não autorizada</li>
                    <li>58. erro de mídia ou parâmetros incompatíveis</li>
                    <li>65. capacidade do portador não implementada</li>
                    <li>66. tipo de canal não implementado</li>
                    <li>69. não implementado</li>
                    <li>81. valor de referência inválido</li>
                    <li>88. destino incompatível</li>
                    <li>95. mensagem inválida não especificada</li>
                    <li>96. informação obrigatória não presente</li>
                    <li>97. mensagem não implementada</li>
                    <li>98. mensagem não compatível com o estado da chamada não existente ou não implementada</li>
                    <li>97. mensagem não implementada</li>
                    <li>99. elemento não existente ou não implementada</li>
                    <li>97. mensagem não implementada</li>
                    <li>100. informação inválida no conteúdo dos elementos</li>
                    <li>101. mensagem não compatível com o estado da chamada</li>
                    <li>102. timeout</li>
                    <li>111. erro de protocolo</li>
                    <li>127. erro de conectividade</li>
                </ul>
            </td>
        </tr>
    </tbody>
</table>
<h3 id='criar-chamada'>Criar Chamada</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://voice-api.zenvia.com/chamada
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Content-Type: application/json'</span> 
             --header <span class="s1">'Accept: application/json'</span> 
             --header <span class="s1">'Access-Token: seu-token'</span> 
             -d <span class="s1">'{
                    "numero_origem":"4811111111",
                    "numero_destino":"4811111112",
                    "data_criacao":"2021-04-08T17:21:20Z",
                    "gravar_audio":"true",
                    "bina_origem":"4832830151",
                    "bina_destino":"4832830152",
                    "tags":"clienteUm",
                    "detecta_caixa_origem":"true"
                 }'</span> 
             <span class="s1">'https://voice-api.zenvia.com/chamada'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">chamada</span><span class="o">-&gt;</span><span class="na">ligar</span><span class="p">(</span><span class="s1">'4811111111'</span><span class="p">,</span> <span class="s1">'4811111112'</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">chamada</span><span class="p">.</span><span class="nx">ligar</span><span class="p">(</span><span class="s2">"4811111111"</span><span class="p">,</span> <span class="s2">"4811111112"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Chamada</span><span class="o">.</span><span class="n">Criar</span><span class="p">(</span><span class="s">"4811111111"</span><span class="p">,</span><span class="x"> </span><span class="s">"4811111112"</span><span class="p">,</span><span class="x"> </span><span class="no">nil</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">chamada</span><span class="o">.</span><span class="n">enviar</span><span class="p">(</span><span class="s">"4811111111"</span><span class="p">,</span> <span class="s">"4811111112"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Chamada</span> <span class="n">chamada</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Chamada</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">chamada</span><span class="o">.</span><span class="na">ligar</span><span class="o">(</span><span class="s">"4811111111"</span><span class="o">,</span> <span class="s">"4811111112"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">chamada</span><span class="p">.</span><span class="nf">ligar</span><span class="p">(</span><span class="s2">"4811111111"</span><span class="p">,</span> <span class="s2">"4811111112"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"chamada criada com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123123</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para criar uma chamada, basta informar o número de origem e o destino. </p>

<p><strong>POST:</strong>  <a href = "https://voice-api.zenvia.com/chamada">https://voice-api.zenvia.com/chamada</a></p>

<p><strong>REQUEST:</strong></p>

<ul>
<li><strong>Headers</strong></li>
</ul>

<ol>
<li><strong>Content-Type:</strong> application/json</li>
<li><strong>Authorization:</strong> Access-Token: seu-token</li>
</ol>

<p>Veja ao lado um exemplo de requisição. Utilize os campos abaixo para informar à nossa API as informações que irá enviar:</p>
<h4 id='request'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                numero_origem
                <span class="required">Obrigatório</span>
                <span class="attribute">string</span>
            </td>
            <td>
                Número origem (perna A), recebe a chamada primeiro do número destino. Exemplo: 4832830151
             </td>
        </tr>
        <tr>
            <td>
                numero_destino
                <span class="required">Obrigatório</span>
                <span class="attribute">string</span>
            </td>
            <td>
               Número destino (perna B), recebe a chamada após o número origem atender. Exemplo: 4832830151
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="optional">Opcional</span>
                <span class="attribute">string</span>
            </td>
            <td>
                Informe uma data e hora para agendar a chamada. vazio = liga imediatamente. Data e Hora no formato UTC
            </td>
        </tr>
        <tr>
            <td>
                gravar_audio
                <span class="optional">Opcional</span>
                <span class="attribute">boolean</span>
            </td>
            <td>
                Flag que indica se o áudio da ligação deve ser gravado
            </td>
        </tr>
        <tr>
            <td>
                bina_origem
                <span class="optional">Opcional</span>
                <span class="attribute">string</span>
            </td>
            <td>
                Número de BINA que será apresentado na chamada para o número origem (perna A). Formato DDD + Número, exemplo: 4832830151
            </td>
        </tr>
        <tr>
            <td>
                bina_destino
                <span class="optional">Opcional</span>
                <span class="attribute">string</span>
            </td>
            <td>
                Número de BINA que será apresentado na chamada para o número destino (perna B). Formato DDD + Número, exemplo: 4832830151
            </td>
        </tr>
        <tr>
            <td>
                tags
                <span class="optional">Opcional</span>
                <span class="attribute">string</span>
            </td>
            <td>
                Tags ou comentários sobre esta chamada
            </td>
        </tr>
        <tr>
            <td>
                detecta_caixa_origem
                <span class="optional">Opcional</span>
                <span class="attribute">boolean</span>
            </td>
            <td>
                Desconecta automaticamente em até 3s caso caia em caixa postal (vivo, claro, tim, oi)
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Retorna o ID da chamada
             </td>
        </tr>
    </tbody>
</table>
<h3 id='desligar-chamada'>Desligar Chamada</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://voice-api.zenvia.com/chamada/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X DELETE --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
               --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
               --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
               <span class="s1">'https://voice-api.zenvia.com/chamada/123'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">chamada</span><span class="o">-&gt;</span><span class="na">encerrar</span><span class="p">(</span><span class="mi">123</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">chamada</span><span class="p">.</span><span class="nx">encerrar</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Chamada</span><span class="o">.</span><span class="n">Encerrar</span><span class="p">(</span><span class="m">123</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">chamada</span><span class="o">.</span><span class="n">deletar</span><span class="p">(</span><span class="s">"123"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Chamada</span> <span class="n">chamada</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Chamada</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">chamada</span><span class="o">.</span><span class="na">encerrar</span><span class="o">(</span><span class="mi">123</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">chamada</span><span class="p">.</span><span class="nf">encerrar</span><span class="p">(</span><span class="s2">"4811111111"</span><span class="p">,</span> <span class="s2">"http://foo.bar/audio.mp3"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"encerrando chamada"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para desligar uma chamada, basta informar o ID da mesma.</p>

<p>Método utilizado: </p>

<p><strong>POST</strong> <a href = "https://voice-api.zenvia.com/chamada/{id}">https://voice-api.zenvia.com/chamada/{id}</a></p>
<h4 id='request-2'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID da chamada ativa
             </td>
        </tr>
    </tbody>
</table>
<h3 id='buscar-chamada'>Buscar Chamada</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/chamada/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="s1">'https://voice-api.zenvia.com/chamada/123'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">chamada</span><span class="o">-&gt;</span><span class="na">buscaChamada</span><span class="p">(</span><span class="mi">123</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">chamada</span><span class="p">.</span><span class="nx">buscar</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Chamada</span><span class="o">.</span><span class="n">Buscar</span><span class="p">(</span><span class="m">123</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">chamada</span><span class="o">.</span><span class="n">get_by_id</span><span class="p">(</span><span class="s">"123"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Chamada</span> <span class="n">chamada</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Chamada</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">chamada</span><span class="o">.</span><span class="na">buscar</span><span class="o">(</span><span class="mi">123</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">chamada</span><span class="p">.</span><span class="nf">buscar</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
     </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-02T10:49:30-03:00"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"ativa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://urlgravacao.com.br/rec/audio.mp3"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"cliente_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="s2">"conta_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="s2">"ramal_id_origem"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">"minha-tags"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"status_geral"</span><span class="p">:</span><span class="w"> </span><span class="s2">"finalizada"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"origem"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
       </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ramal"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
       </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:10"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
       </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:10"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
       </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:10"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w">
       </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"indefinido"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"bina_origem"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"+27921815114"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="s2">"destino"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-02T10:49:29-03:00"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4001"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ramal"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w">
       </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:29"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
       </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:01:00"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
       </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:28"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w">
       </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"indefinido"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"bina_destino"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"+73970934836"</span><span class="w">
     </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para buscar uma chamada, basta informar o ID da mesma após o seu envio.</p>

<p>Método utilizado: </p>

<p><strong>GET</strong>  <a href = "https://voice-api.zenvia.com/chamada/{id}">https://voice-api.zenvia.com/chamada/{id}</a></p>
<h5 id='request-3'>Request</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                ID
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID da chamada para recuperar os dados
             </td>
        </tr>
    </tbody>
</table>
<h5 id='response-2'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto <a href="#objeto-chamada">chamada</a>
             </td>
        </tr>
    </tbody>
</table>
<h3 id='buscar-gravacao-da-chamada'>Buscar gravação da Chamada</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/chamada/{id}/gravacao
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="s1">'https://voice-api.zenvia.com/chamada/1/gravacao'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">chamada</span><span class="o">-&gt;</span><span class="na">downloadGravacao</span><span class="p">(</span><span class="mi">123</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">chamada</span><span class="p">.</span><span class="nx">downloadGravacao</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Chamada</span><span class="o">.</span><span class="n">DownloadGravacao</span><span class="p">(</span><span class="m">123</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">chamada</span><span class="o">.</span><span class="n">get_gravacao_chamada</span><span class="p">(</span><span class="s">"123"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Chamada</span> <span class="n">chamada</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Chamada</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">chamada</span><span class="o">.</span><span class="na">downloadGravacao</span><span class="o">(</span><span class="mi">123</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">chamada</span><span class="p">.</span><span class="nf">download_gravacao</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"access-control-allow-origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"connection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Keep-Alive"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"content-length"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"content-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"audio/mpeg"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 02 Aug 2018 19:06:54 GMT"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"keep-alive"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timeout=5, max=100"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para buscar uma gravação e realizar o download do áudio da chamada, é preciso antes setar a opção <strong>&quot;Gravar Audio&quot; igual a True</strong> no momento da criação da chamada. </p>

<p>Método utilizado: </p>

<p><strong>GET</strong>  <a href = "https://voice-api.zenvia.com/chamada/{id}/gravacao">https://voice-api.zenvia.com/chamada/{id}/gravacao</a></p>

<p>Veja ao lado um exemplo de requisição. Os campos são: </p>
<h5 id='request-4'>Request</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                ID
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID da chamada para recuperar os dados da gravação
             </td>
        </tr>
    </tbody>
</table>
<h5 id='response-3'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                response
                <span class="attribute">header</span>
            </td>
            <td>
                Irá retornar um HTTP Response com Cabeçalho de Resposta: Content-Type: "audio/mpeg"
             </td>
        </tr>
    </tbody>
</table>
<h3 id='relatorio-chamadas'>Relatório Chamadas</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/chamada/relatorio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
            <span class="s1">'https://voice-api.zenvia.com/chamada/relatorio?data_inicio=2018-03-14&amp;data_fim=2018-03-15'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">chamada</span><span class="o">-&gt;</span><span class="na">relatorio</span><span class="p">(</span><span class="nv">$dataInicial</span><span class="p">,</span> <span class="nv">$dataFinal</span><span class="p">,</span> <span class="nv">$filtros</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">chamada</span><span class="p">.</span><span class="nx">relatorio</span><span class="p">(</span><span class="nx">dataInicial</span><span class="p">,</span> <span class="nx">dataFinal</span><span class="p">,</span> <span class="nx">filtros</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Chamada</span><span class="o">.</span><span class="n">Relatorio</span><span class="o">.</span><span class="n">Gerar</span><span class="p">(</span><span class="n">dataInicial</span><span class="p">,</span><span class="x"> </span><span class="n">dataFinal</span><span class="p">,</span><span class="x"> </span><span class="n">filtros</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">chamada</span><span class="o">.</span><span class="n">get_relatorio</span><span class="p">(</span><span class="s">"2017-12-08T11:00:32-02:00"</span><span class="p">,</span> <span class="s">"2017-12-08T11:00:32-02:00"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Chamada</span> <span class="n">chamada</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Chamada</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">chamada</span><span class="o">.</span><span class="na">relatorio</span><span class="o">(</span><span class="n">dataInicial</span><span class="o">,</span> <span class="n">dataFinal</span><span class="o">,</span> <span class="n">filtros</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">chamada</span><span class="p">.</span><span class="nf">relatorio</span><span class="p">(</span><span class="n">data_inicial</span><span class="p">,</span> <span class="n">data_final</span><span class="p">,</span> <span class="n">filtros</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-02T10:32:22-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ativa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://urlgravacao.com.br/rec/audio.mp3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cliente_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"conta_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ramal_id_origem"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status_geral"</span><span class="p">:</span><span class="w"> </span><span class="s2">"finalizada"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"origem"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ramal"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"indefinido"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"bina_origem"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"+27921815114"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"destino"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-02T10:32:22-03:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4001"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ramal"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
          </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:08"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
          </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:01:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
          </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:08"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"indefinido"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"bina_destino"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"+73970934836"</span><span class="w">

        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para consultar as chamadas enviadas,, basta informar o período desejado para que a API retorne os dados.</p>

<p>Veja ao lado um exemplo de requisição. Os campos são:</p>
<h4 id='request-5'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_inicio
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data inicial para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                data_fim
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data final para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                origem
                <span class="optional">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Número de telefone de origem para filtrar. Ex.: 4832830151
            </td>
        </tr>
        <tr>
            <td>
                destino
                <span class="optional">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Número de telefone de destino para filtrar. Ex.: 4832830151
            </td>
        </tr>
        <tr>
            <td>
                posicao
                <span class="optional">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Posição para seleção dos dados do relatório - começa na posição 0. Também chamado de offset.
            </td>
        </tr>
        <tr>
            <td>
                limite
                <span class="optional">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Quantidade de chamadas a retornar na consulta. O limite padrão é 100 e o máximo é 200.
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response-4'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                relatorio
                <span class="attribute">array</span>
            </td>
            <td>
                Retorna um array com objetos <a href="#objeto-chamada">chamada</a>
             </td>
        </tr>
    </tbody>
</table>
<h3 id='escutar-chamadas'>Escutar Chamadas</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/chamada/{id}/escuta
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
             -d <span class="s1">'{"numero":"4811111111", "modo": 1}'</span> <span class="se">\</span>
             <span class="s1">'https://voice-api.zenvia.com/chamada/123/escuta'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">chamada</span><span class="o">-&gt;</span><span class="na">escutar</span><span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="s1">'4811111111'</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">chamada</span><span class="p">.</span><span class="nx">escutar</span><span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="s2">"4811111111"</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Chamada</span><span class="o">.</span><span class="n">Escutar</span><span class="p">(</span><span class="m">123</span><span class="p">,</span><span class="x"> </span><span class="s">"4811111111"</span><span class="p">,</span><span class="x"> </span><span class="m">1</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">chamada</span><span class="o">.</span><span class="n">escuta_chamada</span><span class="p">(</span><span class="s">"123"</span><span class="p">,</span> <span class="s">'4811111111'</span><span class="p">,</span><span class="s">"1"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Chamada</span> <span class="n">chamada</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Chamada</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">chamada</span><span class="o">.</span><span class="na">escutar</span><span class="o">(</span><span class="mi">123</span><span class="o">,</span> <span class="s">"4811111111"</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">chamada</span><span class="p">.</span><span class="nf">escutar</span><span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="s2">"4811111111"</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"escuta criada com sucesso"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para realizar uma escuta para uma chamada que está ativa, basta informar o ID da mesma.</p>

<p>Método utilizado: </p>

<p><strong>GET</strong> <a href = "https://voice-api.zenvia.com/chamada/{id}/escuta">https://voice-api.zenvia.com/chamada/{id}/escuta</a></p>

<p>Veja ao lado um exemplo de requisição. Os campos são: </p>
<h4 id='request-6'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID da chamada a ser escutada
            </td>
        </tr>
        <tr>
            <td>
                numero
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Número do seu telefone
            </td>
        </tr>
        <tr>
            <td>
                modo
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Modo de Escuta
                <ul>
                    <li>1 = escuta</li>
                    <li>2 = sussurro</li>
                    <li>3 = conferência</li>
                </ul>
            </td>
        </tr>
    </tbody>
</table>
<h3 id='transferir-chamadas'>Transferir Chamadas</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://voice-api.zenvia.com/chamada/{id}/transfer
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
            -d <span class="s1">'{"numero":"4811111111", "perna": "destino"}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-api.zenvia.com/chamada/123/transfer'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">chamada</span><span class="o">-&gt;</span><span class="na">transferir</span><span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="s1">'4811111111'</span><span class="p">,</span> <span class="s1">'destino'</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">chamada</span><span class="p">.</span><span class="nx">transferir</span><span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="s2">"4811111111"</span><span class="p">,</span> <span class="s2">"destino"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Chamada</span><span class="o">.</span><span class="n">Transferir</span><span class="p">(</span><span class="m">123</span><span class="p">,</span><span class="x"> </span><span class="s">"4811111111"</span><span class="p">,</span><span class="x"> </span><span class="s">"destino"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">chamada</span><span class="o">.</span><span class="n">transferir</span><span class="p">(</span><span class="s">"123"</span><span class="p">,</span> <span class="s">"4811111111"</span><span class="p">,</span> <span class="s">"destino"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Chamada</span> <span class="n">chamada</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Chamada</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">chamada</span><span class="o">.</span><span class="na">transferir</span><span class="o">(</span><span class="mi">123</span><span class="o">,</span> <span class="s">"4811111111"</span><span class="o">,</span> <span class="s">"destino"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">chamada</span><span class="p">.</span><span class="nf">transferir</span><span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="s2">"4811111111"</span><span class="p">,</span> <span class="s2">"destino"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a chamada está sendo transferida"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para transferir a origem ou destino para outro telefone e desconectar a outra perna (Beta), basta informar o ID da chamada.</p>

<p>Método utilizado: </p>

<p><strong>POST</strong>  <a href = "https://voice-api.zenvia.com/chamada/{id}/transfer">https://voice-api.zenvia.com/chamada/{id}/transfer</a></p>

<p>Veja ao lado um exemplo de requisição. Os campos são: </p>
<h4 id='request-7'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID da chamada a ser transferida
            </td>
        </tr>
        <tr>
            <td>
                numero
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Número ao qual a chamada será transferida
            </td>
        </tr>
        <tr>
            <td>
                perna
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Qual perna da chamada será transferida?
                <ul>
                    <li>origem</li>
                    <li>destino</li>
                </ul>
            </td>
        </tr>
    </tbody>
</table>
<h3 id='avaliar-chamadas'>Avaliar Chamadas</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/chamada/{id}/avaliar
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
            -d <span class="s1">'{"numero":"5", "comentario": "muito boa"}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-api.zenvia.com/chamada/123/avaliar'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">chamada</span><span class="o">-&gt;</span><span class="na">avaliar</span><span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="s1">'5'</span><span class="p">,</span> <span class="s1">'muito boa'</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">chamada</span><span class="p">.</span><span class="nx">avaliar</span><span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="s2">"5"</span><span class="p">,</span> <span class="s2">"muito boa"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Chamada</span><span class="o">.</span><span class="n">Avaliar</span><span class="p">(</span><span class="m">123</span><span class="p">,</span><span class="x"> </span><span class="s">"5"</span><span class="p">,</span><span class="x"> </span><span class="s">"muito boa"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">chamada</span><span class="o">.</span><span class="n">avaliar</span><span class="p">(</span><span class="s">"123"</span><span class="p">,</span> <span class="s">"5"</span><span class="p">,</span> <span class="s">"muito boa"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Chamada</span> <span class="n">chamada</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Chamada</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">chamada</span><span class="o">.</span><span class="na">avaliar</span><span class="o">(</span><span class="mi">123</span><span class="o">,</span> <span class="s">"5"</span><span class="o">,</span> <span class="s">"muito boa"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">chamada</span><span class="p">.</span><span class="nf">avaliar</span><span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="s2">"5"</span><span class="p">,</span> <span class="s2">"muito boa"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"chamada avaliada com sucesso"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para avaliar a chamada e obter estatísticas de qualidade de seus clientes, basta informar o ID da chamada.</p>

<p>Método utilizado: </p>

<p><strong>GET</strong>  <a href = "https://voice-api.zenvia.com/chamada/{id}/avaliar">https://voice-api.zenvia.com/chamada/{id}/avaliar</a></p>

<p>Veja ao lado um exemplo de requisição. Os campos são: </p>
<h4 id='request-8'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID da chamada a ser avaliada
            </td>
        </tr>
        <tr>
            <td>
                nota
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Nota de 1 a 5
            </td>
        </tr>
        <tr>
            <td>
                comentario
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Texto de até 1000 caracteres com a avaliação.
            </td>
        </tr>
    </tbody>
</table>
<h2 id='conferencias'>Conferências</h2>
<blockquote>
<p>Conferência Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-api.zenvia.com/conferencia
</code></pre>
<p>Usando esse recurso, você poderá criar salas privadas e receber um ID para ser utilizado ao realizar chamadas. Ao serem atendidas, estas chamadas se conectam com as conferências. </p>
<h3 id='objeto-conferencias'>Objeto Conferências</h3>
<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_termino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"chamadas"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
                  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">46132</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"conferencia_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/gravacao.mp3"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"cli"</span><span class="p">:</span><span class="w"> </span><span class="mi">3132</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:60"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:35"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:13:11+01:00"</span><span class="w">                  
          </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>O objeto é um modelo JSON que retorna a lista de chamadas da conferência. </p>

<p>Para realizar a chamada, é necessário que esta contenha os parâmetros solicitados abaixo na tabela Atributos. Ao final, a API fará o retorno.</p>

<p><strong>Endpoint:</strong>  <a href = "https://voice-api.zenvia.com/conferencia">https://voice-api.zenvia.com/conferencia</a></p>
<h4 id='atributos-3'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único da conferência.
             </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi criada a conferência.
            </td>
        </tr>
        <tr>
            <td>
                data_termino
                <span class="attribute">datetime</span>
            </td>
            <td>
               Data e hora que a conferência foi fechada.
            </td>
        </tr>
        <tr>
            <td>
                chamadas
                <span class="attribute">array</span>
            </td>
            <td>
                Lista de objetos de cada <a href="#objeto-chamada-da-conferencia">chamada da conferência</a>.
            </td>
        </tr>
    </tbody>
</table>
<h3 id='objeto-chamada-da-conferencia'>Objeto Chamada da Conferência</h3>
<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">46132</span><span class="p">,</span><span class="w">
    </span><span class="s2">"conferencia_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/gravacao.mp3"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cli"</span><span class="p">:</span><span class="w"> </span><span class="mi">3132</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:60"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:35"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:13:11+01:00"</span><span class="w">                  
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>O objeto é um modelo JSON. Para realizar a chamada, é necessário que esta contenha os parâmetros solicitados abaixo na tabela Atributos. Ao final, a API fará o retorno.</p>

<p><strong>Endpoint:</strong>  <a href = "https://voice-api.zenvia.com/conferencia">https://voice-api.zenvia.com/conferencia</a></p>
<h4 id='atributos-4'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único da chamada da conferência. 
             </td>
        </tr>
        <tr>
            <td>
                conferencia_id
                <span class="attribute">id</span>
            </td>
            <td>
                Identificador único da conferência. 
            </td>
        </tr>
        <tr>
            <td>
                url_gravacao
                <span class="attribute">string</span>
            </td>
            <td>
                Endereço URL da gravação desta chamada na conferência.
            </td>
        </tr>
        <tr>
            <td>
                numero
                <span class="attribute">integer</span>
            </td>
            <td>
                Número do destinatário que foi conectado à conferência.
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi criada a chamada.
            </td>
        </tr>
        <tr>
            <td>
                cli
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único do cliente.
            </td>
        </tr>
        <tr>
            <td>
                duracao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Duração total da chamada desde o início do processamento.
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada
                <span class="attribute">datetime</span>
            </td>
            <td>
                Duração total da chamada considerada para fins de cobrança.
            </td>
        </tr>
        <tr>
            <td>
                duracao_falada
                <span class="attribute">datetime</span>
            </td>
            <td>
                Duração da chamada desde que o destino atendeu.
            </td>
        </tr>
        <tr>
            <td>
                status
                <span class="attribute">string</span>
            </td>
            <td>
                Estado atual da chamada.
            </td>
        </tr>
        <tr>
            <td>
                preco
                <span class="attribute">float</span>
            </td>
            <td>
                Valor cobrado por esta chamada da conferência.
            </td>
        </tr>
        <tr>
            <td>
                data_inicio
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data do início da chamada.
            </td>
        </tr>
    </tbody>
</table>
<h3 id='criar-conferencia'>Criar Conferência</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://voice-api.zenvia.com/conferencia
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
             -d <span class="s1">'{"numero_destino":"4811111111","url_conferencia":"http://foo.bar/conferencia.mp3"}'</span> <span class="se">\</span>
             <span class="s1">'https://voice-api.zenvia.com/conferencia'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">conferencia</span><span class="o">-&gt;</span><span class="na">enviar</span><span class="p">(</span><span class="s1">'NUMERO-DESTINO'</span><span class="p">,</span> <span class="s1">'http://foo.bar/conferencia.mp3'</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">conferencia</span><span class="p">.</span><span class="nx">enviar</span><span class="p">(</span><span class="s2">"4811111111"</span><span class="p">,</span> <span class="s2">"http://foo.bar/conferencia.mp3"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Conferencia</span><span class="o">.</span><span class="n">Enviar</span><span class="p">(</span><span class="s">"4811111111"</span><span class="p">,</span><span class="x"> </span><span class="s">"http://foo.bar/conferencia.mp3"</span><span class="p">,</span><span class="x"> </span><span class="no">false</span><span class="p">,</span><span class="x"> </span><span class="s">""</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">conferencia</span><span class="o">.</span><span class="n">cria_conferencia</span><span class="p">()</span>

</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Conferencia</span> <span class="n">conferencia</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Conferencia</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">conferencia</span><span class="o">.</span><span class="na">enviar</span><span class="o">(</span><span class="s">"4811111111"</span><span class="o">,</span> <span class="s">"http://foo.bar/conferencia.mp3"</span><span class="o">);</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"conferencia criado com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4921</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para criar uma conferência, basta chamar o método cria_conferencia para criar o id da mesma. </p>

<p><strong>POST:</strong>   <a href = "https://voice-api.zenvia.com/conferencia">https://voice-api.zenvia.com/conferencia</a></p>

<p><strong>REQUEST:</strong></p>

<ul>
<li><strong>Headers</strong></li>
</ul>

<ol>
<li><strong>Content-Type:</strong> application/json</li>
<li><strong>Authorization:</strong> Access-Token: {{access-token}} </li>
</ol>

<p>Veja ao lado um exemplo de requisição. No campo ID, o response retorna o ID da conferência. </p>
<h4 id='response-5'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Retorna o ID do Conferência
             </td>
        </tr>
    </tbody>
</table>
<h3 id='buscar-conferencia'>Buscar Conferência</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/conferencia/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="s1">'https://voice-api.zenvia.com/conferencia/1'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">conferencia</span><span class="o">-&gt;</span><span class="na">buscaConferencia</span><span class="p">(</span><span class="mi">123</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">conferencia</span><span class="p">.</span><span class="nx">buscar</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Conferencia</span><span class="o">.</span><span class="n">Buscar</span><span class="p">(</span><span class="m">123</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">conferencia</span><span class="o">.</span><span class="n">get_by_id</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Conferencia</span> <span class="n">conferencia</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Conferencia</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">conferencia</span><span class="o">.</span><span class="na">buscar</span><span class="o">(</span><span class="mi">123</span><span class="o">);</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:60"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:35"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_conferencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/conferencia.mp3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Caso deseje, após o envio de mensagens de conferência, você poderá realizar a busca do registro pelo seu ID. </p>

<p>Para buscar, é necessário o envio da chave da fila na URL da requisição seguido da autenticação Acess Token no Header. </p>

<p>A chamada para obter os dados da consulta deve ser realizada utilizando um HTTP GET para o endereço de definição da API.</p>

<p><strong>GET</strong>  <a href = "https://voice-api.zenvia.com/conferencia/{id}">https://voice-api.zenvia.com/conferencia/{id}</a></p>
<h5 id='request-9'>Request</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                ID
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID da Conferência para recuperar os dados
             </td>
        </tr>
    </tbody>
</table>
<h5 id='response-6'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto <a href="#objeto-conferencia">conferência</a>
             </td>
        </tr>
    </tbody>
</table>
<h3 id='encerrar-conferencia'>Encerrar Conferência</h3>
<p>Para encerrar uma conferência, basta informar o período desejado e, por parâmetro, o ID da conferência que deseja encerrar.</p>

<p><strong>Método utilizado:</strong> </p>

<p><strong>DELETE</strong>  <a href = "https://voice-api.zenvia.com/conferencia/{id}">https://voice-api.zenvia.com/conferencia/{id}</a></p>
<h3 id='relatorio-conferencia'>Relatório Conferência</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/conferencia/relatorio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-api.zenvia.com/conferencia/relatorio?data_inicio=2018-03-14&amp;data_fim=2018-03-15'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">conferencia</span><span class="o">-&gt;</span><span class="na">relatorio</span><span class="p">(</span><span class="nv">$dataInicial</span><span class="p">,</span> <span class="nv">$dataFinal</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">conferencia</span><span class="p">.</span><span class="nx">relatorio</span><span class="p">(</span><span class="nx">data_inicial</span><span class="p">,</span> <span class="nx">data_final</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Conferencia</span><span class="o">.</span><span class="n">Relatorio</span><span class="o">.</span><span class="n">Gerar</span><span class="p">(</span><span class="n">dataInicial</span><span class="p">,</span><span class="x"> </span><span class="n">dataFinal</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">conferencia</span><span class="o">.</span><span class="n">get_relatorio</span><span class="p">(</span><span class="n">data_inicio</span><span class="p">,</span> <span class="n">data_fim</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Conferencia</span> <span class="n">conferencia</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Conferencia</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">conferencia</span><span class="o">.</span><span class="na">relatorio</span><span class="o">(</span><span class="n">dataInicial</span><span class="o">,</span> <span class="n">dataFinal</span><span class="o">);</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:60"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:35"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_conferencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/conferencia.mp3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ocupado"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:10"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_conferencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/conferencia.mp3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para consultar as conferências, basta informar o período desejado para que a API retorne os dados.</p>

<p>Veja ao lado um exemplo de requisição. Os campos são:</p>
<h4 id='request-10'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_inicio
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data inicial para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                data_fim
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data final para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                posicao
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Posição para seleção dos dados do relatório - começa na posição 0. Também chamado de offset.            
            </td>
        </tr>
        <tr>
            <td>
                limite
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Quantidade de chamadas a retornar na consulta. O limite padrão é 100 e o máximo é 200.
            </td>
        </tr> 
    </tbody>
</table>
<h4 id='response-7'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                relatorio
                <span class="attribute">array</span>
            </td>
            <td>
                Retorna um array com objetos <a href="#objeto-conferencia">conferência</a>
             </td>
        </tr>
    </tbody>
</table>
<h2 id='webphone'>Webphone</h2>
<blockquote>
<p>Webphone End Point</p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-api.zenvia.com/webphone
</code></pre>
<p>Webphone é uma maneira de se conectar a um Ramal diretamente por um computador. Todo ramal tem uma URL pela qual é possível acessar o Webphone sem precisar se conectar à plataforma da ZenAPI. </p>

<p>Ele é muito utilizado em integrações para implementar ligações diretamente em um software ou sistema de uma maneira fácil.</p>

<p>Há três tipos de Webphone:</p>

<ol>
<li>Floating: quando você vai abrir o Webphone em um popup;</li>
<li>Embedded: se o Webphone ficará embutido no site / sistema;</li>
<li>Hidden: sem interface, apenas funções Javascript.</li>
</ol>

<p>Um webphone é vinculado diretamente a um Ramal.</p>
<h3 id='consultar-url-webphone'>Consultar URL Webphone</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/webphone
</code></pre>
<p>Para consultar a URL do Webphone de um determinado Ramal, basta enviar os parâmetros para pré-configuração do webphone. </p>

<p>A URL gerada vem com um código único para acesso daquele Webphone, sem ser necessário login na plataforma da ZenAPI.</p>

<blockquote>
<p><br/>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl <span class="s1">'https://voice-api.zenvia.com/webphone?ramal=4000'</span> <span class="se">\</span>
    -X GET <span class="se">\</span>
    --header <span class="s1">'Access-Token: Seu_Token'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'Seu_Token'</span><span class="p">);</span>

<span class="nv">$webphone_dados</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">"ramal"</span> <span class="o">=&gt;</span> <span class="mi">4000</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">central</span><span class="o">-&gt;</span><span class="na">webphone</span><span class="p">(</span><span class="nv">$webphone_dados</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"Seu_Token"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">webphone_dados</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="na">ramal</span><span class="p">:</span> <span class="mi">4000</span>
<span class="p">};</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">central</span><span class="p">.</span><span class="nx">webphone</span><span class="p">(</span><span class="nx">webphone_dados</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">)</span><span class="x">

</span><span class="n">m</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="k">interface</span><span class="p">{}]</span><span class="k">interface</span><span class="p">{}{}</span><span class="x">
</span><span class="n">m</span><span class="p">[</span><span class="s">"ramal"</span><span class="p">]</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="m">4000</span><span class="x">

</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Ramal</span><span class="o">.</span><span class="n">Webphone</span><span class="p">(</span><span class="n">m</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"Seu_Token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">webphone</span><span class="o">.</span><span class="n">get_webphone</span><span class="p">(</span><span class="s">"floating"</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">4000</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"Seu_Token"</span><span class="o">);</span>
<span class="n">Central</span> <span class="n">central</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Central</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">webphone_dados</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">webphone_dados</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"ramal"</span><span class="o">,</span> <span class="mi">4000</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">central</span><span class="o">.</span><span class="na">webphone</span><span class="o">(</span><span class="n">webphone_dados</span><span class="o">);</span>
</code></pre>
<blockquote>
<p><br/>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"url webphone"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://voice-api.zenvia.com/w3/?key=XXXXXXXXXXXXXXXXXXXXXX83b3420&amp;pop=1"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h5 id='request-query'>Request Query</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id_ramal
                <span class="optional">Opcional</span>
            </td>
            <td>
               Identificador único do Ramal que você deseja usar no Webphone, obrigatório caso não for informar o campo ramal.
            </td>
        </tr>
        <tr>
            <td>
                ramal
                <span class="optional">Opcional</span>
            </td>
            <td>
               Número do Ramal que você deseja buscar o Webphone, obrigatório caso não for informar o campo id_ramal.
            </td>
        </tr>
        <tr>
            <td>
                ligar_para
                <span class="optional">Opcional</span>
            </td>
            <td>
               Se você deseja que o Webphone já disque automaticamente para algum número quando abrir, deverá informar o número neste campo.
            </td>
        </tr>
        <tr>
            <td>
                fechar_fim
                <span class="optional">Opcional</span>
            </td>
            <td>
                Se você quiser que o Webphone feche ao fim da ligação deve colocar esse campo como true;
            </td>
        </tr>
        <tr>
            <td>
                tipo
                <span class="optional">Opcional</span>
            </td>
            <td>
                Tipo do Webphone, poderá ser: floating, embedded, hidden, por padrão irá o Floating.
            </td>
        </tr>
    </tbody>
</table>
<h5 id='response-8'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                url
                <span class="attribute">string</span>
            </td>
            <td>
                Retorna a URL completa do Webphone do Ramal desejado. 
             </td>
        </tr>
    </tbody>
</table>
<h3 id='criar-webphone'>Criar Webphone</h3>
<p>Para criar um webphone, utilize nosso exemplo localizado em <a href = "https://github.com/totalvoice/webphone-js">Exemplo Webphone</a>.</p>
<h4 id='funcoes-do-webphone'>Funções do Webphone</h4><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">conectar</span><span class="p">(){</span>
                <span class="nx">webphone</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">({</span><span class="na">message</span> <span class="p">:</span> <span class="s1">'conectar'</span><span class="p">},</span> <span class="s1">'*'</span><span class="p">);</span>
            <span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">desconectar</span><span class="p">(){</span>
                <span class="nx">webphone</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">({</span><span class="na">message</span> <span class="p">:</span> <span class="s1">'desconectar'</span><span class="p">},</span> <span class="s1">'*'</span><span class="p">);</span>
            <span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">chamaNumero</span><span class="p">(</span><span class="nx">numero</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">webphone</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">({</span>
                    <span class="na">message</span><span class="p">:</span> <span class="s1">'chamaNumero'</span><span class="p">,</span>
                    <span class="s1">'numero'</span><span class="p">:</span> <span class="nx">numero</span>
                <span class="p">},</span> <span class="s1">'*'</span><span class="p">);</span>
            <span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">atender</span><span class="p">()</span> <span class="p">{</span>
                <span class="nx">webphone</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">({</span>
                    <span class="na">message</span><span class="p">:</span> <span class="s1">'answer'</span>
                <span class="p">},</span> <span class="s1">'*'</span><span class="p">);</span>
            <span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">desligaChamada</span><span class="p">()</span> <span class="p">{</span>
                <span class="nx">webphone</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">({</span>
                    <span class="na">message</span><span class="p">:</span> <span class="s1">'hangup'</span>
                <span class="p">},</span> <span class="s1">'*'</span><span class="p">);</span>
            <span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">enviaDTMF</span><span class="p">(</span><span class="nx">meuDTMF</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">webphone</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">({</span>
                    <span class="na">message</span><span class="p">:</span> <span class="s1">'enviaDTMF'</span><span class="p">,</span>
                    <span class="s1">'dtmf'</span><span class="p">:</span> <span class="nx">meuDTMF</span>
                <span class="p">},</span> <span class="s1">'*'</span><span class="p">);</span>
            <span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">mute</span><span class="p">()</span> <span class="p">{</span>
                <span class="nx">webphone</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">({</span>
                    <span class="na">message</span><span class="p">:</span> <span class="s1">'mute'</span>
                <span class="p">},</span> <span class="s1">'*'</span><span class="p">);</span>
            <span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">transferir</span><span class="p">(</span><span class="nx">numeroTelefone</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">webphone</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">({</span>
                    <span class="na">message</span><span class="p">:</span> <span class="s1">'transferir'</span><span class="p">,</span>
                    <span class="s1">'numeroTelefone'</span><span class="p">:</span> <span class="nx">numeroTelefone</span>
                <span class="p">},</span> <span class="s1">'*'</span><span class="p">);</span>
            <span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">transferirConsulta</span><span class="p">(</span><span class="nx">numeroTelefone</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">webphone</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">({</span>
                    <span class="na">message</span><span class="p">:</span> <span class="s1">'transferirConsulta'</span><span class="p">,</span>
                    <span class="s1">'numeroTelefone'</span><span class="p">:</span> <span class="nx">numeroTelefone</span>
                <span class="p">},</span> <span class="s1">'*'</span><span class="p">);</span>
            <span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">recstart</span><span class="p">()</span> <span class="p">{</span>
                <span class="nx">webphone</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">({</span>
                    <span class="na">message</span><span class="p">:</span> <span class="s1">'recStart'</span>
                <span class="p">},</span> <span class="s1">'*'</span><span class="p">);</span>
            <span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">recstop</span><span class="p">()</span> <span class="p">{</span>
                <span class="nx">webphone</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">({</span>
                    <span class="na">message</span><span class="p">:</span> <span class="s1">'recStop'</span>
                <span class="p">},</span> <span class="s1">'*'</span><span class="p">);</span>                
            <span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">pausarNaFila</span><span class="p">(</span><span class="nx">filaId</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">webphone</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">({</span>
                <span class="na">message</span><span class="p">:</span> <span class="s1">'pausarNaFila'</span><span class="p">,</span>
                <span class="na">filaId</span><span class="p">:</span> <span class="nx">filaId</span>
                <span class="p">},</span> <span class="s1">'*'</span><span class="p">);</span>
            <span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">despausarNaFila</span><span class="p">(</span><span class="nx">filaId</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">webphone</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">({</span>
                <span class="na">message</span><span class="p">:</span> <span class="s1">'despausarNaFila'</span><span class="p">,</span>
                <span class="na">filaId</span><span class="p">:</span> <span class="nx">filaId</span>
                <span class="p">},</span> <span class="s1">'*'</span><span class="p">);</span>
            <span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">entrarNaFila</span><span class="p">(</span><span class="nx">filaId</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">webphone</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">({</span>
                <span class="na">message</span><span class="p">:</span> <span class="s1">'entrarNaFila'</span><span class="p">,</span>
                <span class="na">filaId</span><span class="p">:</span> <span class="nx">filaId</span>
                <span class="p">},</span> <span class="s1">'*'</span><span class="p">);</span>
            <span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">sairDaFila</span><span class="p">(</span><span class="nx">filaId</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">webphone</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">({</span>
                <span class="na">message</span><span class="p">:</span> <span class="s1">'sairDaFila'</span><span class="p">,</span>
                <span class="na">filaId</span><span class="p">:</span> <span class="nx">filaId</span>
                <span class="p">},</span> <span class="s1">'*'</span><span class="p">);</span>
            <span class="p">}</span>
</code></pre>
<table class="table-parameters">
    
    <tbody>
        <tr>
            <td>
                <b>conectar()<b>
            </td>
            <td>
                Conecta o webphone
            </td>
        </tr>
        

        <tr>
             <td>
                <b>desconectar()<b>
            </td>
            <td>
                Desconecta o webphone
            </td>
        </tr>
        

        <tr>
            <td>
                <b>chamaNumero(numero)<b>
            </td>
            <td>
                Telefona para o número/ramal destino
            </td>
        </tr>
        <tr>
            <td>
                <b>atender()<b>
            </td>
            <td>
                Atender chamada
            </td>
        </tr>
        <tr>
            <td>
                <b>desligaChamada()<b>
            </td>
            <td>
                Encerra chamada ativa
            </td>
        </tr>
        <tr>
            <td>
                <b>enviaDTMF(meuDTMF)<b>
            </td>
            <td>
                Envia um DTMF(número ou caracter) através de uma tecla. Números de 0 à 9, Asterisco(*) ou Sustenido(#).
            </td>
        </tr>
        <tr>
            <td>
                <b>mute()<b>
            </td>
            <td>
                Microfone fica mudo
            </td>
        </tr>
        <tr>
            <td>
                <b>transferir(numeroTelefone)<b>
            </td>
            <td>
                Transferir ligação sem consulta
            </td>
        </tr>
        <tr>
            <td>
                <b>transferirConsulta(numeroTelefone)<b>
            </td>
            <td>
                Transferir ligação com consulta
            </td>
        </tr>
        <tr>
            <td>
                <b>recstart()<b>
            </td>
            <td>
                Inicia a gravação parcial de uma chamada
            </td>
        </tr>
        <tr>
            <td>
                <b>recstop()<b>
            </td>
            <td>
                Encerra a gravação parcial da chamada
            </td>
        </tr>

        <tr>
            <td>
                <b>pausarNaFila(filaId)<b>
            </td>
            <td>
                Pausa um ramal na fila `filaId` ou em todas as filas caso nenhum valor seja passado
            </td>
        </tr>

        <tr>
            <td>
                <b>despausarNaFila(filaId)<b>
            </td>
            <td>
                Despausa um ramal na fila `filaId` ou em todas as filas caso nenhum valor seja passado
            </td>
        </tr>

        <tr>
            <td>
                <b>entrarNaFila(filaId)<b>
            </td>
            <td>
                Insere o ramal na fila definida em `filaId`
            </td>
        </tr>

        <tr>
            <td>
                <b>sairDaFila(filaId)<b>
            </td>
            <td>
                Remove o ramal na fila definida em `filaId`
            </td>
        </tr>
    </tbody>
</table>
<h3 id='eventos-do-webphone'>Eventos do Webphone</h3>
<p>Caso queira adicionar um evento, veja abaixo na tabela a lista de todos os disponíveis e, ao lado, o exemplo de requisições. </p>
<pre class="highlight javascript tab-javascript"><code>
<span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">message</span> <span class="o">==</span> <span class="s1">'chegandoChamada'</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">'Chegando Chamada de '</span> <span class="o">+</span> <span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">numeroChegando</span> <span class="o">+</span> <span class="s1">' para: '</span> <span class="o">+</span> 
    <span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">numeroDestino</span> <span class="o">+</span> <span class="s1">' chamada_recebida_id: '</span> <span class="o">+</span> <span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">chamadaRecebidaId</span><span class="p">);</span>
<span class="p">}</span>


<span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">message</span> <span class="o">==</span> <span class="s1">'status'</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">'Status: '</span> <span class="o">+</span> <span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
<span class="p">}</span>


<span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">message</span> <span class="o">==</span> <span class="s1">'chamada_id'</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">'Chamada_id: '</span> <span class="o">+</span> <span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">chamada_id</span><span class="p">);</span>
<span class="p">}</span>


<span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">message</span> <span class="o">==</span> <span class="s1">'status_erro'</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">'Sem Permissão: '</span> <span class="o">+</span> <span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">status_erro</span><span class="p">);</span>
<span class="p">}</span>


<span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">message</span> <span class="o">==</span> <span class="s1">'stats_webphone'</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">'Internet: '</span> <span class="o">+</span> <span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">internet</span> <span class="o">+</span> <span class="s1">' e computador: '</span> <span class="o">+</span> <span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">computador</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">message</span> <span class="o">==</span> <span class="s1">'entrou_na_fila'</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">'Ramal entrou na fila'</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">message</span> <span class="o">==</span> <span class="s1">'saiu_da_fila'</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">'Ramal saiu da fila'</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">message</span> <span class="o">==</span> <span class="s1">'pausou_na_fila'</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">'Ramal foi pausado na fila'</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">message</span> <span class="o">==</span> <span class="s1">'despausou_na_fila'</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">'Ramal foi despausado na fila'</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                <b>chegandoChamada<b>
            </td>
            <td>
                Ao receber uma chamada é disparado uma mensagem com o número de envio(e.data.numeroChegando), número de destino(e.data.numeroDestino) e o ID da chamada( e.data.chamadaRecebidaId).
            </td>
        </tr>
        <tr>
             <td>
                <b>status<b>
            </td>
            <td>
                Dispara uma mensagem ao ser alterado o status da chamada(e.data.status), que são exemplos de status: <b>conectado<b>, <b>desconectado<b>, <b>chamando<b>, <b>encerrada<b>, <b>conversando<b>.
            </td>
        </tr>
        <tr>
            <td>
                <b>chamada_id<b>
            </td>
            <td>
                Ao ser iniciada a chamada é disparado esse evento que retorna o identificador único da chamada(e.data.chamada_id), o ID é único e pode ser utilizado na api para recuperação de mais informações (get na api ou webhooks). 
            </td>
        </tr>
        <tr>
            <td>
                <b>status_erro<b>
            </td>
            <td>
                Ao ocorrer um erro(e.data.status_erro) durante a efetuação da chamada é disparado esse evento.
            </td>
        </tr>
        <tr>
            <td>
                <b>stats_webphone<b>
            </td>
            <td>
                Recebe o status da qualidade de conexão(Diagnóstico do Ping e Jitter) e computador(Uso da CPU) para verificar a qualidade da ligação.
            </td>
        </tr>
        <tr>
            <td>
                <b>pausou_na_fila<b>
            </td>
            <td>
                É chamado quando o ramal é pausado em alguma fila.
            </td>
        </tr>
        <tr>
            <td>
                <b>despausou_na_fila<b>
            </td>
            <td>
                É chamado quando o ramal é despausado em alguma fila.
            </td>
        </tr>
        <tr>
            <td>
                <b>entrou_na_fila<b>
            </td>
            <td>
                É chamado quando o ramal entra em alguma fila.
            </td>
        </tr>
        <tr>
            <td>
                <b>saiu_da_fila<b>
            </td>
            <td>
                É chamado quando o ramal sai de alguma fila.
            </td>
        </tr>
    </tbody>
</table>
<h1 id='apis-de-torpedos'>APIs de Torpedos</h1>
<p>AS APIs de Torpedo viabilizam a entrega de mensagens para os clientes. Nossa documentação possui as amostras de código para você iniciar o disparo de mensagens com leitura de texto TTS e envios de torpedo de voz. </p>
<h4 id='apis-de-torpedo'>APIs de Torpedo:</h4>
<ul>
<li>Áudio</li>
<li>Composto</li>
<li>TTS: leitura de texto</li>
</ul>
<h2 id='audio'>Áudio</h2>
<blockquote>
<p><b>Áudio Endpoint</b></p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-api.zenvia.com/audio
</code></pre>
<p>Usando esse recurso, você pode enviar um torpedo de voz ou mensagens de voz como áudio para o destino através de um arquivo <strong>MP3</strong>. Poderá também enviar algumas opções adicionais. São elas:</p>

<ul>
<li>Aguardar uma resposta do usuário;</li>
<li>Gravar o áudio da ligação;</li>
<li>Colocar um número bina que aparecerá no momento da ligação.</li>
</ul>
<h4 id='observacoes'>Observações:</h4>
<ol>
<li>Os arquivos de áudio devem estar disponíveis em uma URL pública direcionando para um arquivo de áudio MP3.</li>
<li>O tamanho máximo é de 5MB.</li>
<li>O formato de envio no campo numero_destino é DDD + número. (Ex. p/ SP: 11912341234).</li>
</ol>
<h3 id='objeto-audio'>Objeto Áudio</h3>
<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345678</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48912341234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-22T09:18:44.000-03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-22T09:18:44.000-03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movel"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:22"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:01:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:02"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.36</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_audio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://sua.url.audio/files/audios/audio.mp3"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://voice-api.zenvia.com/rec/123456789"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+5548988888888"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>O objeto é um modelo JSON que contém o arquivo de áudio. </p>

<p>Para realizar a chamada, é necessário que esta contenha os parâmetros solicitados abaixo na tabela Atributos. Ao final, a API fará o retorno.</p>

<p><strong>Endpoint:</strong> https://voice-api.zenvia.com/audio</p>

<p>No atributo “status”, os seguintes valores podem ser retornados:</p>

<ul>
<li>Preparando</li>
<li>Chamando</li>
<li>Atendida</li>
<li>Ocupado</li>
<li>Sem resposta</li>
<li>Congestionado</li>
<li>Falha</li>
<li>Cancelada</li>
<li>Desconhecido </li>
</ul>
<h4 id='atributos'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro de Áudio.
             </td>
        </tr>
        <tr>
            <td>
                numero_destino
                <span class="attribute">string</span>
            </td>
            <td>
                Número do destinatário que foi enviado o áudio.
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi criado o registro.
            </td>
        </tr>
        <tr>
            <td>
                data_inicio
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi iniciado o processamento do áudio.
            </td>
        </tr>
        <tr>
            <td>
                tipo
                <span class="attribute">string</span>
            </td>
            <td>
                Tipo de telefone: fixo, móvel ou ramal.
            </td>
        </tr>
        <tr>
            <td>
                status
                <span class="attribute">string</span>
            </td>
            <td>
                Status do registro.
            </td>
        </tr>
        <tr>
            <td>
                duracao_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em total em <i>segundos</i>, da chamada, desde o início do processamento.
            </td>
        </tr>
        <tr>
            <td>
                duracao
                <span class="attribute">String</span>
            </td>
            <td>
                Duração total da chamada desde o início do processamento
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em <i>segundos</i> para fins de cobrança.
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada
                <span class="attribute">String</span>
            </td>
            <td>
                Duração considerada para fins de cobrança.
            </td>
        </tr>
                <tr>
            <td>
                duracao_falada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em <i>segundos</i> da chamada desde que o destino atendeu.
            </td>
        </tr>
        <tr>
            <td>
                duracao_falada
                <span class="attribute">String</span>
            </td>
            <td>
                Duração da chamada desde que o destino atendeu.
            </td>
        </tr>
        <tr>
            <td>
                preco
                <span class="attribute">float</span>
            </td>
            <td>
                Valor cobrado pela chamada.
            </td>
        </tr>
        <tr>
            <td>
                url_audio
                <span class="attribute">string</span>
            </td>
            <td>
                URL do Áudio enviado para a chamada.
            </td>
        </tr>
        <tr>
            <td>
                resposta_usuario
                <span class="attribute">boolean</span>
            </td>
            <td>
                Valor enviado identendificando se aceita a resposta do usuário.¹
            </td>
        </tr>
        <tr>
            <td>
                resposta
                <span class="attribute">string</span>
            </td>
            <td>
                Se você enviou resposta_usuario = true, quando o usuário executa alguma ação no teclado númerico do dispositivo, o valor será exibido neste campo (DTMF).¹
            </td>
        </tr>
        <tr>
            <td>
                motivo_desconexao
                <span class="attribute">string</span>
            </td>
            <td>
                Aqui é informado o motivo do derrubamento da ligação, você pode ver mais em <a href="#codigos-de-motivos">motivos de desconexão</a>
            </td>
        </tr>
        <tr>
            <td>
                url_gravacao
                <span class="attribute">string</span>
            </td>
            <td>
                Quando enviado a opção Gravar Áudio = true, este campo disponibilizará uma URL contendo o áudio da gravação da ligação.
            </td>
        </tr>
        <tr>
              <td>
                  bina
                  <span class="attribute">string</span>
              </td>
              <td>
                    Número de telefone que aparece no identificador de quem recebe a chamada
              </td>
          </tr>
        <tr>
    </tbody>
</table>

<p><br></p>
<h3 id='criar-audio'>Criar Áudio</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://voice-api.zenvia.com/audio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
             -d <span class="s1">'{"numero_destino":"4888881111", "bina": "4811111111" ,"url_audio":"http://sua.url.audio/audio.mp3"}'</span> <span class="se">\</span>
             <span class="s1">'https://voice-api.zenvia.com/audio'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">audio</span><span class="o">-&gt;</span><span class="na">enviar</span><span class="p">(</span><span class="s1">'4811111111'</span><span class="p">,</span> <span class="s1">'http://sua.url.audio/audio.mp3'</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">audio</span><span class="p">.</span><span class="nx">enviar</span><span class="p">(</span><span class="s2">"4811111111"</span><span class="p">,</span> <span class="s2">"http://sua.url.audio/audio.mp3"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Audio</span><span class="o">.</span><span class="n">Enviar</span><span class="p">(</span><span class="s">"4811111111"</span><span class="p">,</span><span class="x"> </span><span class="s">"http://sua.url.audio/audio.mp3"</span><span class="p">,</span><span class="x"> </span><span class="no">false</span><span class="p">,</span><span class="x"> </span><span class="s">""</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">audio</span><span class="o">.</span><span class="n">enviar</span><span class="p">(</span><span class="s">"4811111111"</span><span class="p">,</span> <span class="s">"http://sua.url.audio/audio.mp3"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Audio</span> <span class="n">audio</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Audio</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">audio</span><span class="o">.</span><span class="na">enviar</span><span class="o">(</span><span class="s">"4811111111"</span><span class="o">,</span> <span class="s">"http://sua.url.audio/audio.mp3"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">audio</span><span class="p">.</span><span class="nf">enviar</span><span class="p">(</span><span class="s2">"4811111111"</span><span class="p">,</span> <span class="s2">"http://sua.url.audio/audio.mp3"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"audio criado com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4921</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para criar um áudio, basta informar o número de destino válido e a URL pública do
arquivo.</p>

<p><strong>POST:</strong>  https://voice-api.zenvia.com/audio</p>

<p><strong>REQUEST:</strong></p>

<ul>
<li><strong>Headers</strong></li>
</ul>

<ol>
<li><strong>Content-Type:</strong> application/json</li>
<li><strong>Authorization:</strong> Access-Token: seu-token</li>
</ol>

<p>Veja ao lado um exemplo de requisição. Os campos são:</p>
<h4 id='request'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                numero_destino
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Número do telefone que irá receber a chamada, formato DDD + Número, exemplo: 4832830151.
             </td>
        </tr>
        <tr>
            <td>
                url_audio
                <span class="required">Obrigatório</span>
            </td>
            <td>
                URL do áudio, exemplo: http://sua.url.audio/audio.mp3.
            </td>
        </tr>
        <tr>
            <td>
                resposta_usuario
                <span class="optional">Opcional</span>
            </td>
            <td>
                Aguardar uma resposta do destinário.
            </td>
        </tr>
        <tr>
            <td>
                gravar_audio
                <span class="optional">Opcional</span>
            </td>
            <td>
                Gravar a ligação.
            </td>
        </tr>
        <tr>
            <td>
                bina
                <span class="optional">Opcional</span>
            </td>
            <td>
                Número de telefone que aparecerá no identificador de quem receber a chamada, formato DDD + Número, exemplo: 4832830151.
            </td>
        </tr>
        <tr>
            <td>
                detecta_caixa
                <span class="optional">Opcional</span>
            </td>
            <td>
                Caso identificado caixa, a ligação será derrubada antes que a ligação seja atendida. Esse serviço tem um custo adicional.
            </td>
        </tr>
        <tr>
            <td>
                bina_inteligente
                <span class="optional">Opcional</span>
            </td>
            <td>
                Quando o valor for true, ao enviar o torpedo o número de telefone que aparecerá para o destino será um número com DDD de sua região. Veja <a href="https://centraltotalvoice.freshdesk.com/support/solutions/articles/35000132235-bina-inteligente-torpedo-de-voz">DDDs disponíveis</a>.
            </td>
        </tr>
    
    </tbody>
</table>
<h3 id='buscar-audio'>Buscar Áudio</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/audio/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="s1">'https://voice-api.zenvia.com/audio/ID-Audio'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">audio</span><span class="o">-&gt;</span><span class="na">buscaAudio</span><span class="p">(</span><span class="nx">id</span><span class="o">-</span><span class="nx">audio</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">audio</span><span class="p">.</span><span class="nx">buscar</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Audio</span><span class="o">.</span><span class="n">Buscar</span><span class="p">(</span><span class="m">123</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">audio</span><span class="o">.</span><span class="n">get_by_id</span><span class="p">(</span><span class="s">"123"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Audio</span> <span class="n">audio</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Audio</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">audio</span><span class="o">.</span><span class="na">buscar</span><span class="o">(</span><span class="mi">123</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">audio</span><span class="p">.</span><span class="nf">enviar</span><span class="p">(</span><span class="s2">"NUMERO-DESTINO"</span><span class="p">,</span> <span class="s2">"URL-AUDIO"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:60"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:35"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_audio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/audio.mp3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+5548988888888"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Caso deseje, após o envio de mensagens de áudio você poderá realizar a busca do registro
pelo seu ID. </p>

<p>Para buscar, é necessário o envio da chave do áudio na URL da requisição seguido da autenticação Acess Token no Header. </p>

<p>A chamada para obter os dados da consulta deve ser realizada utilizando um HTTP GET para o endereço de definição da API.</p>

<p><strong>GET</strong> https://voice-api.zenvia.com/audio/{id}</p>
<h5 id='request-2'>Request</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID do Áudio para recuperar os dados
             </td>
        </tr>
    </tbody>
</table>
<h5 id='response'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto <a href="#objeto-audio">áudio</a>
             </td>
        </tr>
    </tbody>
</table>
<h3 id='relatorio-audio'>Relátorio Áudio</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/audio/relatorio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
            <span class="s1">'https://voice-api.zenvia.com/audio/relatorio?data_inicio=2018-03-14&amp;data_fim=2018-03-15'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">audio</span><span class="o">-&gt;</span><span class="na">relatorio</span><span class="p">(</span><span class="nv">$dataInicial</span><span class="p">,</span> <span class="nv">$dataFinal</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">audio</span><span class="p">.</span><span class="nx">relatorio</span><span class="p">(</span><span class="nx">data_inicial</span><span class="p">,</span> <span class="nx">data_final</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Audio</span><span class="o">.</span><span class="n">Relatorio</span><span class="o">.</span><span class="n">Gerar</span><span class="p">(</span><span class="n">dataInicial</span><span class="p">,</span><span class="x"> </span><span class="n">dataFinal</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>


<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">audio</span><span class="o">.</span><span class="n">get_relatorio</span><span class="p">(</span><span class="s">"2017-12-08T11:00:32-02:00"</span><span class="p">,</span> <span class="s">"2017-12-08T11:00:32-02:00"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Audio</span> <span class="n">audio</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Audio</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">audio</span><span class="o">.</span><span class="na">relatorio</span><span class="o">(</span><span class="n">dataInicial</span><span class="o">,</span> <span class="n">dataFinal</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">audio</span><span class="p">.</span><span class="nf">enviar</span><span class="p">(</span><span class="s2">"NUMERO-DESTINO"</span><span class="p">,</span> <span class="s2">"URL-AUDIO"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:60"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:35"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_audio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/audio.mp3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+5548988888888"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ocupado"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:10"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_audio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/audio.mp3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+5548988888888"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para consultar os áudios enviados, basta informar o período desejado para que a API
retorne os dados.</p>

<p>Veja ao lado um exemplo de requisição. Os campos são:</p>
<h4 id='request-3'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_inicio
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data inicial para consulta dos dados no relatório.
            </td>
        </tr>
        <tr>
            <td>
                data_fim
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data final para consulta dos dados no relatório.
            </td>
        </tr>
        <tr>
            <td>
                posicao
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Posição para seleção dos dados do relatório - começa na posição 0. Também chamado de offset.
            </td>
        </tr>
        <tr>
            <td>
                limite
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Quantidade de chamadas a retornar na consulta. O limite padrão é 100 e o máximo é 200.
            </td>
        </tr>

    </tbody>
</table>
<h4 id='response-2'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                relatorio
                <span class="attribute">array</span>
            </td>
            <td>
                Retorna um array com objetos <a href="#objeto-audio">áudio</a>
             </td>
        </tr>
    </tbody>
</table>
<h2 id='composto'>Composto</h2>
<blockquote>
<p>Composto Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-api.zenvia.com/composto
</code></pre><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"acao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"audio"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"acao_dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"url_audio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/composto.mp3"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"acao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tts"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"acao_dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Você possui uma consulta agendada para amanhã 18h. Aperte 1 para confirmar ou 2 para ser remarcar"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"tipo_voz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"br-Ricardo"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"acao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transferir"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"opcao"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"acao_dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"numero_telefone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1132830151"</span><span class="p">,</span><span class="w">
                         </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1132830152"</span><span class="w"> 
                    </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w"> 
</span><span class="p">]</span><span class="w">

</span></code></pre>
<p>Usando esse recurso, você poderá enviar mensagens de voz por telefone misturando gravações de áudio MP3 com TTS. Além disso, será possível também realizar outras funções de central telefônica, como coletar e transferir DTMF. </p>

<p><strong>Por exemplo:</strong> envie uma mensagem para confirmar uma consulta ou transferir a pessoa para o reagendamento: &quot;Você possui uma consulta agendada para amanhã às 18h. Pressione 1 para confirmar ou 2 para ser remarcado&quot;. Quando o usuário pressionar a opção 2, será transferido para o telefone de remarcação. </p>

<p>O composto aceita um JSON com as seguintes opções: </p>

<ul>
<li>Áudio; </li>
<li>TTS;</li>
<li>Transferir; </li>
<li>URA; </li>
</ul>
<h4 id='observacoes-2'>Observações:</h4>
<ul>
<li>Os arquivos de áudio são aceitos nos formatos <strong>MP3</strong>;</li>
<li>O tamanho máximo é de <strong>5MB</strong>.</li>
</ul>
<h3 id='objeto-composto'>Objeto Composto</h3>
<blockquote>
<p><br></p>

<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:60"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:35"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clienteX"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/gravacao.mp3"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+5548988888888"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>O objeto é um modelo JSON que contém o arquivo de composto. </p>

<p>Para realizar a chamada, é necessário que esta contenha os parâmetros solicitados abaixo na tabela Atributos. Ao final, a API fará o retorno.</p>

<p><strong>Endpoint:</strong> https://voice-api.zenvia.com/composto</p>

<p>No atributo “status”, os seguintes valores podem ser retornados:</p>

<ul>
<li>Preparando</li>
<li>Chamando</li>
<li>Atendida</li>
<li>Ocupado</li>
<li>Sem resposta</li>
<li>Congestionado</li>
<li>Falha</li>
<li>Cancelada</li>
<li>Desconhecido </li>
</ul>
<h4 id='atributos-2'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro de Áudio.
             </td>
        </tr>
        <tr>
            <td>
                numero_destino
                <span class="attribute">string</span>
            </td>
            <td>
                Número do destinatário que foi enviado o áudio.
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi criado o registro
            </td>
        </tr>
        <tr>
            <td>
                data_inicio
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi iniciado o processamento do áudio
            </td>
        </tr>
        <tr>
            <td>
                tipo
                <span class="attribute">string</span>
            </td>
            <td>
                Tipo de telefone: fixo, móvel ou ramal
            </td>
        </tr>
        <tr>
            <td>
                status
                <span class="attribute">string</span>
            </td>
            <td>
                Status do registro
            </td>
        </tr>
        <tr>
            <td>
                duracao_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos (inteiro) do total da chamada desde o início do processamento
            </td>
        </tr>
        <tr>
            <td>
                duracao
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração total da chamada desde o início do processamento
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos para fins de cobrança
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração considerada para fins de cobrança
            </td>
        </tr>
                <tr>
            <td>
                duracao_falada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos da chamada desde que o destino atendeu
            </td>
        </tr>
        <tr>
            <td>
                duracao_falada
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração da chamada desde que o destino atendeu
            </td>
        </tr>
        <tr>
            <td>
                preco
                <span class="attribute">float</span>
            </td>
            <td>
                Valor cobrado pela chamada
            </td>
        </tr>
        <tr>
            <td>
                resposta_usuario
                <span class="attribute">boolean</span>
            </td>
            <td>
                Aguarda a resposta do usuário: sim ou não
            </td>
        </tr>
        <tr>
            <td>
                resposta
                <span class="attribute">string</span>
            </td>
            <td>
                Quando o usuário executa alguma ação no teclado do dispositivo, o valor será exibido neste campo (DTMF).
            </td>
        </tr>
        <tr>
            <td>
                url_gravacao
                <span class="attribute">string</span>
            </td>
            <td>
                Quando enviado a opção Gravar Áudio = true, este campo disponibilizará uma URL contendo o áudio da gravação da ligação.
            </td>
        </tr>
        <tr>
            <td>
                tags
                <span class="attribute">string</span>
            </td>
            <td>
                Parâmetro de integração - informado no post e retornado no get. Ex: "clienteX"
            </td>
        </tr>
        <tr>
            <td>
                motivo_desconexao
                <span class="attribute">string</span>
            </td>
            <td>
                Um dos motivos de desconexão:
                <ul>
                    <li>1. telefone não existe</li>
                    <li>2. sem rota para a rede de destino</li>
                    <li>3. sem rota para o destino</li>
                    <li>4. prefixo incorreto</li>
                    <li>6. canal inaceitável</li>
                    <li>7. chamada sendo entregue em canal já estabelecido</li>
                    <li>8. call peemption</li>
                    <li>14. telefone portado para outra operadora</li>
                    <li>16. normal</li>
                    <li>17. ocupado</li>
                    <li>18. sem resposta</li>
                    <li>19. sem resposta - mas chamou</li>
                    <li>20. assinante ausente</li>
                    <li>21. chamada rejeitada</li>
                    <li>22. este número mudou</li>
                    <li>23. redirecionado para novo destino</li>
                    <li>26. atendido em outro lugar</li>
                    <li>27. destino não está funcionando</li>
                    <li>28. formato inválido de número</li>
                    <li>29. rejeitado</li>
                    <li>30. resposta para status enquiry</li>
                    <li>31. normal, não especificado</li>
                    <li>34. sem canal disponível</li>
                    <li>41. falha temporária</li>
                    <li>42. equipamento congestionado</li>
                    <li>44. canal requisitado não está disponível</li>
                    <li>50. não cadastrado</li>
                    <li>52. chamada sainte barrada</li>
                    <li>54. chamada entrante barrada</li>
                    <li>57. capacidade não autorizada</li>
                    <li>58. erro de mídia ou parâmetros incompatíveis</li>
                    <li>65. capacidade do portador não implementada</li>
                    <li>66. tipo de canal não implementado</li>
                    <li>69. não implementado</li>
                    <li>81. valor de referência inválido</li>
                    <li>88. destino incompatível</li>
                    <li>95. mensagem inválida não especificada</li>
                    <li>96. informação obrigatória não presente</li>
                    <li>97. mensagem não implementada</li>
                    <li>98. mensagem não compatível com o estado da chamada ou não existente ou não implementada</li>
                    <li>97. mensagem não implementada</li>
                    <li>99. elemento não existente ou não implementado</li>
                    <li>97. mensagem não implementada</li>
                    <li>100. informação inválida no conteúdo dos elementos</li>
                    <li>101. mensagem não compatível com o estado da chamada</li>
                    <li>102. timeout</li>
                    <li>111. erro de protocolo</li>
                    <li>127. erro de conectividade</li>
                </ul>
            </td>
        </tr>
        <tr>
              <td>
                  bina
                  <span class="attribute">string</span>
              </td>
              <td>
                    Número de telefone que aparece no identificador de quem recebe a chamada
              </td>
          </tr>
        <tr>
    </tbody>
</table>
<h3 id='criar-composto'>Criar Composto</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://voice-api.zenvia.com/composto
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
             -d <span class="s1">'{
                "numero_destino":"4888881111",
                "bina": "4811111111",
                "dados":[
                    {  
                        "acao":"audio",
                        "acao_dados":{  
                            "url_audio":"https://instaud.io/_/3K3k.mp3"
                        }
                    },
                    {  
                        "acao":"tts",
                        "acao_dados":{  
                            "mensagem":"lendo este texto",
                            "resposta_usuario":"true",
                            "tipo_voz":"br-Ricardo"
                        }
                    },
                    {  
                        "acao":"transferir",
                        "opcao":1,
                        "acao_dados":{  
                            "numero_telefone":"4832830151",
                            "bina":"4832830152"
                        }
                    },
                        {  
                        "acao":"ura",
                        "opcao":2,
                        "acao_dados":{  
                            "ura_id":"1234"
                        }
                    }'</span> <span class="se">\</span>
             <span class="s1">'https://voice-api.zenvia.com/composto'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$dados</span>  <span class="o">=</span> <span class="s1">'[{"acao":"audio","acao_dados":{"url_audio":"http://fooooo.bar/composto.mp3"}},{"acao":"tts","acao_dados":{"mensagem":"lendo este texto","resposta_usuario":"true","tipo_voz":"br-Ricardo"}},{"acao":"transferir","opcao":1,"acao_dados":{"numero_telefone":"4832830151","bina":"4832830152"}}]'</span><span class="p">;</span>
<span class="nv">$bina</span>   <span class="o">=</span> <span class="s1">'11987654321'</span><span class="p">;</span>
<span class="nv">$tags</span>   <span class="o">=</span> <span class="s1">'clienteY'</span><span class="p">;</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">composto</span><span class="o">-&gt;</span><span class="na">enviar</span><span class="p">(</span><span class="s1">'NUMERO-DESTINO'</span><span class="p">,</span> <span class="nv">$dados</span><span class="p">,</span> <span class="nv">$bina</span><span class="p">,</span> <span class="nv">$tags</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">composto</span><span class="p">.</span><span class="nx">enviar</span><span class="p">(</span><span class="s2">"NUMERO-DESTINO"</span><span class="p">,</span> <span class="s1">'[{"acao":"audio","acao_dados":{"url_audio":"http://fooooo.bar/composto.mp3"}},{"acao":"tts","acao_dados":{"mensagem":"lendo este texto","resposta_usuario":"true","tipo_voz":"br-Ricardo"}},{"acao":"transferir","opcao":1,"acao_dados":{"numero_telefone":"4832830151","bina":"4832830152"}}]'</span><span class="p">,</span><span class="s1">'11987654321'</span> <span class="p">,</span> <span class="s1">'tags'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Composto</span><span class="o">.</span><span class="n">Enviar</span><span class="p">(</span><span class="s">"NUMERO-DESTINO"</span><span class="p">,</span><span class="x"> </span><span class="err">'</span><span class="p">[{</span><span class="s">"acao"</span><span class="o">:</span><span class="s">"audio"</span><span class="p">,</span><span class="s">"acao_dados"</span><span class="o">:</span><span class="p">{</span><span class="s">"url_audio"</span><span class="o">:</span><span class="s">"http://fooooo.bar/composto.mp3"</span><span class="p">}},{</span><span class="s">"acao"</span><span class="o">:</span><span class="s">"tts"</span><span class="p">,</span><span class="s">"acao_dados"</span><span class="o">:</span><span class="p">{</span><span class="s">"mensagem"</span><span class="o">:</span><span class="s">"lendo este texto"</span><span class="p">,</span><span class="s">"resposta_usuario"</span><span class="o">:</span><span class="s">"true"</span><span class="p">,</span><span class="s">"tipo_voz"</span><span class="o">:</span><span class="s">"br-Ricardo"</span><span class="p">}},{</span><span class="s">"acao"</span><span class="o">:</span><span class="s">"transferir"</span><span class="p">,</span><span class="s">"opcao"</span><span class="o">:</span><span class="m">1</span><span class="p">,</span><span class="s">"acao_dados"</span><span class="o">:</span><span class="p">{</span><span class="s">"numero_telefone"</span><span class="o">:</span><span class="s">"4832830151"</span><span class="p">,</span><span class="s">"bina"</span><span class="o">:</span><span class="s">"4832830152"</span><span class="p">}}]</span><span class="sc">','</span><span class="m">11987654321</span><span class="err">'</span><span class="x"> </span><span class="p">,</span><span class="x"> </span><span class="err">'</span><span class="n">tags</span><span class="err">'</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">dados</span> <span class="o">=</span><span class="p">[</span>  
   <span class="p">{</span>  
      <span class="s">"acao"</span><span class="p">:</span><span class="s">"audio"</span><span class="p">,</span>
      <span class="s">"acao_dados"</span><span class="p">:{</span>  
         <span class="s">"url_audio"</span><span class="p">:</span><span class="s">"https://instaud.io/_/3K3k.mp3"</span>
      <span class="p">}</span>
   <span class="p">},</span>
   <span class="p">{</span>  
      <span class="s">"acao"</span><span class="p">:</span><span class="s">"tts"</span><span class="p">,</span>
      <span class="s">"acao_dados"</span><span class="p">:{</span>  
         <span class="s">"mensagem"</span><span class="p">:</span><span class="s">"lendo este texto"</span><span class="p">,</span>
         <span class="s">"resposta_usuario"</span><span class="p">:</span><span class="s">"true"</span><span class="p">,</span>
         <span class="s">"tipo_voz"</span><span class="p">:</span><span class="s">"br-Ricardo"</span>
      <span class="p">}</span>
   <span class="p">},</span>
   <span class="p">{</span>  
      <span class="s">"acao"</span><span class="p">:</span><span class="s">"transferir"</span><span class="p">,</span>
      <span class="s">"opcao"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
      <span class="s">"acao_dados"</span><span class="p">:{</span>  
         <span class="s">"numero_telefone"</span><span class="p">:</span><span class="s">"4832830151"</span><span class="p">,</span>
         <span class="s">"bina"</span><span class="p">:</span><span class="s">"4832830152"</span>
      <span class="p">}</span>
   <span class="p">},</span>
    <span class="p">{</span>  
      <span class="s">"acao"</span><span class="p">:</span><span class="s">"ura"</span><span class="p">,</span>
      <span class="s">"opcao"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
      <span class="s">"acao_dados"</span><span class="p">:{</span>  
         <span class="s">"ura_id"</span><span class="p">:</span><span class="s">"1234"</span>
      <span class="p">}</span>
   <span class="p">}</span>
<span class="p">]</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">composto</span><span class="o">.</span><span class="n">enviar</span><span class="p">(</span><span class="s">"NUMERO-DESTINO"</span><span class="p">,</span> <span class="n">dados</span> <span class="p">,</span><span class="s">'BINA'</span> <span class="p">,</span> <span class="s">'TAGS'</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Composto</span> <span class="n">composto</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Composto</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">composto</span><span class="o">.</span><span class="na">enviar</span><span class="o">(</span><span class="s">"NUMERO-DESTINO"</span><span class="o">,</span> <span class="err">'</span><span class="o">[{</span><span class="s">"acao"</span><span class="o">:</span><span class="s">"audio"</span><span class="o">,</span><span class="s">"acao_dados"</span><span class="o">:{</span><span class="s">"url_audio"</span><span class="o">:</span><span class="s">"http://fooooo.bar/composto.mp3"</span><span class="o">}},{</span><span class="s">"acao"</span><span class="o">:</span><span class="s">"tts"</span><span class="o">,</span><span class="s">"acao_dados"</span><span class="o">:{</span><span class="s">"mensagem"</span><span class="o">:</span><span class="s">"lendo este texto"</span><span class="o">,</span><span class="s">"resposta_usuario"</span><span class="o">:</span><span class="s">"true"</span><span class="o">,</span><span class="s">"tipo_voz"</span><span class="o">:</span><span class="s">"br-Ricardo"</span><span class="o">}},{</span><span class="s">"acao"</span><span class="o">:</span><span class="s">"transferir"</span><span class="o">,</span><span class="s">"opcao"</span><span class="o">:</span><span class="mi">1</span><span class="o">,</span><span class="s">"acao_dados"</span><span class="o">:{</span><span class="s">"numero_telefone"</span><span class="o">:</span><span class="s">"4832830151"</span><span class="o">,</span><span class="s">"bina"</span><span class="o">:</span><span class="s">"4832830152"</span><span class="o">}}]</span><span class="sc">','</span><span class="mi">11987654321</span><span class="err">'</span> <span class="o">,</span> <span class="err">'</span><span class="n">tags</span><span class="err">'</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">composto</span><span class="p">.</span><span class="nf">enviar</span><span class="p">(</span><span class="s2">"NUMERO-DESTINO"</span><span class="p">,</span> <span class="s1">'[{"acao":"audio","acao_dados":{"url_audio":"http://fooooo.bar/composto.mp3"}},{"acao":"tts","acao_dados":{"mensagem":"lendo este texto","resposta_usuario":"true","tipo_voz":"br-Ricardo"}},{"acao":"transferir","opcao":1,"acao_dados":{"numero_telefone":"4832830151","bina":"4832830152"}}]'</span><span class="p">,</span><span class="s1">'11987654321'</span> <span class="p">,</span> <span class="s1">'tags'</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"composto criado com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4921</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para criar um Composto, basta informar o número de destino válido e um JSON com o composto. </p>

<p><strong>POST:</strong>  https://voice-api.zenvia.com/composto</p>

<p><strong>REQUEST:</strong></p>

<ul>
<li><strong>Headers</strong></li>
<li>Content-Type: application/json</li>
<li>Authorization: Access-Token: seu-token</li>
</ul>

<p>Veja ao lado um exemplo de requisição. Os campos são:</p>
<h4 id='request-4'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                numero_destino
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Número do telefone que irá receber a chamada, formato DDD + Número exemplo: 4832830151
             </td>
        </tr>
        <tr>
            <td>
                dados
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Objeto JSON com a estrutura de TTS, áudio, transferir e URA ¹
            </td>
        </tr>
        <tr>
            <td>
                resposta_usuario
                <span class="optional">Opcional</span>
            </td>
            <td>
                Aguardar uma resposta do destinatário
            </td>
        </tr>
        <tr>
            <td>
                gravar_audio
                <span class="optional">Opcional</span>
            </td>
            <td>
                Gravar a ligação
            </td>
        </tr>
        <tr>
            <td>
                bina
                <span class="optional">Opcional</span>
            </td>
            <td>
                Número de telefone que aparecerá no identificador de quem receber a chamada, formato DDD + Número exemplo: 4832830151
            </td>
        </tr>
        <tr>
            <td>
                tags
                <span class="optional">Opcional</span>
            </td>
            <td>
                Campo de texto que será atrelado à ligação e devolvido no momento da consulta.  Ex.: "clienteY"
            </td>
        </tr>
        <tr>
            <td>
                bina_inteligente
                <span class="optional">Opcional</span>
            </td>
            <td>
                Quando o valor for true, ao enviar o torpedo o número de telefone que aparecerá para o destino será um número com DDD de sua região. Veja <a href="https://centraltotalvoice.freshdesk.com/support/solutions/articles/35000132235-bina-inteligente-torpedo-de-voz">DDDs disponíveis</a>. 
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response-3'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Retorna o ID do Composto
             </td>
        </tr>
    </tbody>
</table>
<h3 id='buscar-composto'>Buscar Composto</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/composto/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="s1">'https://voice-api.zenvia.com/composto/1'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">composto</span><span class="o">-&gt;</span><span class="na">buscaCompost</span><span class="p">(</span><span class="mi">123</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">composto</span><span class="p">.</span><span class="nx">buscar</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Composo</span><span class="o">.</span><span class="n">Buscar</span><span class="p">(</span><span class="m">123</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">composto</span><span class="o">.</span><span class="n">get_by_id</span><span class="p">(</span><span class="s">"123"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Composto</span> <span class="n">composto</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Composto</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">composto</span><span class="o">.</span><span class="na">buscar</span><span class="o">(</span><span class="mi">123</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"{{access-token}}"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">composto</span><span class="p">.</span><span class="nf">enviar</span><span class="p">(</span><span class="s2">"NUMERO-DESTINO"</span><span class="p">,</span> <span class="s2">"URL-AUDIO"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:60"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:35"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clienteX"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/gravacao.mp3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+5548988888888"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Caso deseje, após o envio de mensagens composto, você poderá realizar a busca do registro
pelo seu ID. </p>

<p>Para buscar, é necessário o envio da chave do composto na URL da requisição seguido da autenticação Acess Token no Header.</p>

<p>A chamada para obter os dados da consulta deve ser realizada utilizando um HTTP GET para o endereço de definição da API.</p>

<p><strong>GET</strong> https://voice-api.zenvia.com/composto/{id}</p>
<h5 id='request-5'>Request</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                ID
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID do Composto para recuperar os dados
             </td>
        </tr>
    </tbody>
</table>
<h5 id='response-4'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto <a href="#objeto-composto">composto</a>
             </td>
        </tr>
    </tbody>
</table>
<h3 id='relatorio-composto'>Relatório Composto</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/composto/relatorio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-api.zenvia.com/composto/relatorio?data_inicio=2018-03-14&amp;data_fim=2018-03-15'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">composto</span><span class="o">-&gt;</span><span class="na">relatorio</span><span class="p">(</span><span class="nv">$dataInicial</span><span class="p">,</span> <span class="nv">$dataFinal</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">composto</span><span class="p">.</span><span class="nx">relatorio</span><span class="p">(</span><span class="nx">data_inicial</span><span class="p">,</span> <span class="nx">data_final</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Audio</span><span class="o">.</span><span class="n">Relatorio</span><span class="o">.</span><span class="n">Gerar</span><span class="p">(</span><span class="n">dataInicial</span><span class="p">,</span><span class="x"> </span><span class="n">dataFinal</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">composto</span><span class="o">.</span><span class="n">get_relatorio</span><span class="p">(</span><span class="s">"2017-12-08T11:00:32-02:00"</span><span class="p">,</span> <span class="s">"2017-12-08T11:00:32-02:00"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Audio</span> <span class="n">composto</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Audio</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">composto</span><span class="o">.</span><span class="na">relatorio</span><span class="o">(</span><span class="n">dataInicial</span><span class="o">,</span> <span class="n">dataFinal</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"{{access-token}}"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">composto</span><span class="p">.</span><span class="nf">enviar</span><span class="p">(</span><span class="s2">"NUMERO-DESTINO"</span><span class="p">,</span> <span class="s2">"URL-AUDIO"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:60"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:35"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clienteX"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/gravacao.mp3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+5548988888888"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">433</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:60"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:35"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clienteX"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/gravacao.mp3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+5548988888888"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para consultar os compostos enviados, basta informar o período desejado para que a API
retorne os dados.</p>

<p>Veja ao lado um exemplo de requisição. Os campos são:</p>
<h4 id='request-6'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_inicio
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data inicial para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                data_fim
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data final para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                posicao
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Posição para seleção dos dados do relatório - começa na posição 0. Também chamado de offset.            
            </td>
        </tr>
        <tr>
            <td>
                limite
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Quantidade de chamadas a retornar na consulta. O limite padrão é 100 e o máximo é 200.
            </td>
        </tr> 
    </tbody>
</table>
<h4 id='response-5'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                relatorio
                <span class="attribute">array</span>
            </td>
            <td>
                Retorna um array com objetos <a href="#objeto-composto">composto</a>
             </td>
        </tr>
    </tbody>
</table>
<h2 id='tts-leitura-de-texto'>TTS: Leitura de Texto</h2>
<blockquote>
<p><b>TTS Endpoint</b></p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-api.zenvia.com/tts
</code></pre>
<p>Usando esse recurso, você pode converter uma mensagem de texto em fala. </p>

<p>Dessa forma, quando o número de destino inserido atender, escutará uma voz falando a mensagem escrita por você. </p>

<p>Algumas opções adicionais podem ser também enviadas:</p>

<ul>
<li>Aguardar uma resposta do usuário;</li>
<li>Gravar o áudio da ligação;</li>
<li>Inserir um número bina que aparecerá no momento da ligação.</li>
</ul>
<h3 id='objeto-tts'>Objeto TTS:</h3>
<blockquote>
<p><b>TTS Endpoint</b></p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-api.zenvia.com/tts
</code></pre>
<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345678</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48912341234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-22T09:18:44.000-03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-22T09:18:44.000-03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movel"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:22"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:01:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:02"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.35</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Olá, se você gostaria de utilizar a zenvia, digite 1."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://voice-api.zenvia.com/rec/123456789"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+5548988888888"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>O objeto é um modelo JSON que contém a mensagem de texto enviada para ser convertida em uma mensagem de voz. </p>

<p>Para realizar a chamada, é necessário que esta contenha os parâmetros solicitados abaixo na tabela Atributos. Ao final, a API fará o retorno.</p>

<p>No atributo “status”, os seguintes valores podem ser retornados:</p>

<ul>
<li>Preparando</li>
<li>Chamando</li>
<li>Atendida</li>
<li>Ocupado</li>
<li>Sem resposta</li>
<li>Congestionado</li>
<li>Falha</li>
<li>Cancelada</li>
<li>Desconhecido </li>
</ul>
<h4 id='atributos-3'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro do TTS.
             </td>
        </tr>
        <tr>
            <td>
                numero_destino
                <span class="attribute">string</span>
            </td>
            <td>
                Número do destinatário que foi enviado o TTS.
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi criado o registro.
            </td>
        </tr>
        <tr>
            <td>
                data_inicio
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi iniciado o processamento do TTS.
            </td>
        </tr>
        <tr>
            <td>
                tipo
                <span class="attribute">string</span>
            </td>
            <td>
                Tipo de telefone: fixo, móvel ou ramal.
            </td>
        </tr>
        <tr>
            <td>
                status
                <span class="attribute">string</span>
            </td>
            <td>
                Status do registro.
            </td>
        </tr>
        <tr>
            <td>
                duracao_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração total em <i>segundos</i> da chamada, desde o início do processamento.
            </td>
        </tr>
        <tr>
            <td>
                duracao
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração total da chamada desde o início do processamento
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em <i>segundos</i> para fins de cobrança.
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração considerada para fins de cobrança.
            </td>
        </tr>
                <tr>
            <td>
                duracao_falada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em <i>segundos</i> da chamada desde que o destino atendeu.
            </td>
        </tr>
        <tr>
            <td>
                duracao_falada
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração da chamada desde que o destino atendeu.
            </td>
        </tr>
        <tr>
            <td>
                preco
                <span class="attribute">float</span>
            </td>
            <td>
                Valor cobrado pela chamada.
            </td>
        </tr>
        <tr>
            <td>
                mensagem
                <span class="attribute">float</span>
            </td>
            <td>
                Mensagem em forma de texto que você nos enviou.
            </td>
        </tr>
        <tr>
            <td>
                resposta_usuario
                <span class="attribute">boolean</span>
            </td>
            <td>
                Valor enviado identificando se aceita a resposta do usuário.¹
            </td>
        </tr>
        <tr>
            <td>
                resposta
                <span class="attribute">string</span>
            </td>
            <td>
                Se você enviou resposta_usuario = true, quando o usuário executa alguma ação no teclado númerico do dispositivo, o valor será exibido neste campo (DTMF).¹
            </td>
        </tr>
        <tr>
            <td>
                motivo_desconexao
                <span class="attribute">string</span>
            </td>
            <td>
                Aqui é informado o motivo do derrubamento da ligação, você pode ver mais em <a href="#codigos-de-motivos">motivos de desconecção</a>
            </td>
        </tr>
        <tr>
            <td>
                url_gravacao
                <span class="attribute">string</span>
            </td>
            <td>
                Quando enviado a opção Gravar Áudio = true, este campo disponibilizará uma URL contendo o áudio da gravação da ligação.
            </td>
        </tr>
        <tr>
              <td>
                  bina
                  <span class="attribute">string</span>
              </td>
              <td>
                    Número de telefone que aparece no identificador de quem recebe a chamada
              </td>
          </tr>
        <tr>
    </tbody>
</table>
<h3 id='criar-tts'>Criar TTS</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://voice-api.zenvia.com/tts
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
             -d <span class="s1">'{"numero_destino":"4888881111", "bina": "4811111111", "mensagem":"Olá"}'</span> <span class="se">\</span>
             <span class="s1">'https://voice-api.zenvia.com/tts'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">tts</span><span class="o">-&gt;</span><span class="na">enviar</span><span class="p">(</span><span class="s1">'4811111111'</span><span class="p">,</span> <span class="s1">'Olá, essa é a minha mensagem'</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">tts</span><span class="p">.</span><span class="nx">enviar</span><span class="p">(</span><span class="s2">"4811111111"</span><span class="p">,</span> <span class="s2">"Olá, essa é a minha mensagem"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Tts</span><span class="o">.</span><span class="n">Enviar</span><span class="p">(</span><span class="s">"4811111111"</span><span class="p">,</span><span class="x"> </span><span class="s">"Olá, essa é a minha mensagem"</span><span class="p">,</span><span class="x"> </span><span class="no">false</span><span class="p">,</span><span class="x"> </span><span class="s">""</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">tts</span><span class="o">.</span><span class="n">enviar</span><span class="p">(</span><span class="s">"4811111111"</span><span class="p">,</span> <span class="s">"Olá, essa é a minha mensagem"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Tts</span> <span class="n">tts</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Tts</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">tts</span><span class="o">.</span><span class="na">enviar</span><span class="o">(</span><span class="s">"4811111111"</span><span class="o">,</span> <span class="s">"Olá, essa é a minha mensagem"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">tts</span><span class="p">.</span><span class="nf">enviar</span><span class="p">(</span><span class="s2">"4811111111"</span><span class="p">,</span> <span class="s2">"Olá, essa é a minha mensagem"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tts criado com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para criar um TTS, basta informar o número de destino válido e a mensagem que será falada quando o mesmo atender a ligação. </p>

<p><strong>POST:</strong> https://voice-api.zenvia.com/tts</p>

<p><strong>REQUEST:</strong></p>

<ul>
<li><strong>Headers</strong></li>
</ul>

<ol>
<li><strong>Content-Type:</strong> application/json</li>
<li><strong>Authorization:</strong> Access-Token: seu-token</li>
</ol>

<p>Veja ao lado um exemplo de requisição. Os campos são:</p>
<h4 id='request-7'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                numero_destino
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Número do telefone que irá receber a chamada, formato DDD + Número. Exemplo: 4832830151.
             </td>
        </tr>
        <tr>
            <td>
                mensagem
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Mensagem que será falada quando o número destino atender a ligação. Exemplo: Olá, essa é a minha mensagem.
            </td>
        </tr>
        <tr>
            <td>
                resposta_usuario
                <span class="optional">Opcional</span>
            </td>
            <td>
                Aguardar uma resposta do destinatário.
            </td>
        </tr>
        <tr>
            <td>
                tipo_voz
                <span class="optional">Opcional</span>
            </td>
            <td>
                Idioma em que a mensagem deve ser lida e também o tipo da voz¹
            </td>
        </tr>
        <tr>
            <td>
                bina
                <span class="optional">Opcional</span>
            </td>
            <td>
                Número de telefone que aparecerá no identificador de quem receber a chamada, formato DDD + Número. Exemplo: 4832830151
            </td>
        </tr>
        <tr>
            <td>
                gravar_audio
                <span class="optional">Opcional</span>
            </td>
            <td>
                Gravar a ligação
            </td>
        </tr>
        <tr>
            <td>
                detecta_caixa
                <span class="optional">Opcional</span>
            </td>
            <td>
                Caso seja identificado caixa postal a ligação será derrubada antes que inicie a mensagem para a caixa postal. Esse serviço tem um custo adicional.
            </td>
        </tr>
        <tr>
            <td>
                bina_inteligente
                <span class="optional">Opcional</span>
            </td>
            <td>
                Quando o valor for true, ao enviar o torpedo o número de telefone que aparecerá para o destino será um número com DDD de sua região. Veja <a href="https://centraltotalvoice.freshdesk.com/support/solutions/articles/35000132235-bina-inteligente-torpedo-de-voz">DDDs disponíveis</a>. 
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response-6'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Retorna o ID do TTS criado
             </td>
        </tr>
    </tbody>
</table>

<p>¹ Lista de vozes disponíveis.
<ul>
    <li>br-Camila</li>
    <li>br-Vitoria</li>
    <li>br-Ricardo</li>
    <li>en-Joey</li>
    <li>en-Joanna</li>
    <li>fre-Celine</li>
    <li>fre-Mathieu</li>
    <li>ger-Vicki</li>
    <li>ger-Hans</li>
    <li>ita-Carla</li>
    <li>ita-Giorgio</li>
    <li>jap-Mizuki</li>
    <li>pol-Jan</li>
    <li>rus-Tatyana</li>
    <li>rus-Maxim</li>
    <li>esp-Conchita</li>
    <li>esp-Enrique</li>
</ul> </p>
<h2 id='buscar-tts'>Buscar TTS</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/tts/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="s1">'https://voice-api.zenvia.com/tts/id-tts'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">TotalVoice\Client</span> <span class="k">as</span> <span class="nx">TotalVoiceClient</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">tts</span><span class="o">-&gt;</span><span class="na">buscaTTS</span><span class="p">(</span><span class="nx">id</span><span class="o">-</span><span class="nx">tts</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">tts</span><span class="p">.</span><span class="nx">buscar</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">tts</span><span class="o">.</span><span class="n">Buscar</span><span class="p">(</span><span class="m">123</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">tts</span><span class="o">.</span><span class="n">get_by_id</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Tts</span> <span class="n">tts</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Tts</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">tts</span><span class="o">.</span><span class="na">buscar</span><span class="o">(</span><span class="mi">123</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">tts</span><span class="p">.</span><span class="nf">enviar</span><span class="p">(</span><span class="s2">"NUMERO-DESTINO"</span><span class="p">,</span> <span class="s2">"MENSAGEM"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123453</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-09T10:59:42.000-03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-09T10:59:43.000-03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movel"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mensagem de teste"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16. normal"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+5548988888888"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Caso deseje, após o envio do TTS, você poderá realizar a busca do registro
pelo seu ID. </p>

<p>Para buscar, é necessário o envio da chave do TTS na URL da requisição seguido da autenticação Acess Token no Header. </p>

<p>A chamada para obter os dados da consulta deve ser realizada utilizando um HTTP GET para o endereço de definição da API.</p>

<p><strong>GET</strong> https://voice-api.zenvia.com/tts/{id}</p>
<h5 id='request-8'>Request</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                ID
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID do TTS para recuperar os dados
             </td>
        </tr>
    </tbody>
</table>
<h5 id='response-7'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto <a href="#objeto-tts">TTS</a>
             </td>
        </tr>
    </tbody>
</table>
<h2 id='relatorio-tts'>Relatório TTS</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/tts/relatorio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: seu-token'</span> <span class="se">\</span>
            <span class="s1">'https://voice-api.zenvia.com/tts/relatorio?data_inicio=2018-03-14&amp;data_fim=2018-03-15'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">tts</span><span class="o">-&gt;</span><span class="na">relatorio</span><span class="p">(</span><span class="nv">$dataInicial</span><span class="p">,</span> <span class="nv">$dataFinal</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">tts</span><span class="p">.</span><span class="nx">relatorio</span><span class="p">(</span><span class="nx">data_inicial</span><span class="p">,</span> <span class="nx">data_final</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">tts</span><span class="o">.</span><span class="n">Relatorio</span><span class="o">.</span><span class="n">Gerar</span><span class="p">(</span><span class="n">dataInicial</span><span class="p">,</span><span class="x"> </span><span class="n">dataFinal</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">tts</span><span class="o">.</span><span class="n">get_relatorio</span><span class="p">(</span><span class="n">data_inicio</span><span class="p">,</span> <span class="n">data_fim</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>
<span class="n">Tts</span> <span class="n">tts</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Tts</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">audio</span><span class="o">.</span><span class="na">relatorio</span><span class="o">(</span><span class="n">dataInicial</span><span class="o">,</span> <span class="n">dataFinal</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">tts</span><span class="p">.</span><span class="nf">enviar</span><span class="p">(</span><span class="s2">"NUMERO-DESTINO"</span><span class="p">,</span> <span class="s2">"MENSAGEM"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345679</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-09T10:59:42.000-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-09T10:59:43.000-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movel"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Olá, tudo bem?"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16. normal"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+5548988888888"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">13246578</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-09T15:33:01.000-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-09T15:33:01.000-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movel"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ocupado"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">33</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:33"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Olá esse é uma mensagem enviada por tts"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"motivo_desconexao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17. ocupado"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+5548988888888"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para consultar os TTSs enviados, basta informar o período desejado para que a API
retorne os dados.</p>

<p>Veja ao lado um exemplo de requisição. Os campos são:</p>
<h4 id='request-9'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_inicio
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data inicial para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                data_fim
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data final para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                posicao
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Posição para seleção dos dados do relatório - começa na posição 0. Também chamado de offset.            
            </td>
        </tr>
        <tr>
            <td>
                limite
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Quantidade de chamadas a retornar na consulta. O limite padrão é 100 e o máximo é 200.
            </td>
        </tr>
        <tr>
            <td>
                destino
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Número de destino da chamada.
            </td>
        </tr> 
    </tbody>
</table>
<h4 id='response-8'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                relatorio
                <span class="attribute">array</span>
            </td>
            <td>
                Retorna um array com objetos <a href="#objeto-audio">TTS</a>
             </td>
        </tr>
    </tbody>
</table>
<h1 id='sms-descontinuado'>SMS (descontinuado)</h1>
<blockquote>
<p>SMS Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://voice-api.zenvia.com/sms
</code></pre>
<aside class="notice">
Este endpoint foi descontinuado e não receberá novas atualizações e melhorias. Para novas implementações de SMS, acesse:
<a href="https://zenvia.github.io/zenvia-openapi-spec/v2/#tag/SMS">https://zenvia.github.io/zenvia-openapi-spec/v2/#tag/SMS</a>
</aside>

<p>O <strong>SMS</strong> permite que você envie mensagens de texto pela nossa API. Você precisa informar
um número de destino e uma mensagem a ser enviada. Existem algumas opções adicionais
que permitem aguardar uma resposta do usuário, enviar multi sms ou agendar uma 
data de envio por exemplo.</p>
<h3 id='objeto-sms'>Objeto Sms</h3>
<blockquote>
<p><br></p>
</blockquote>

<aside class="notice">
Este endpoint foi descontinuado e não receberá novas atualizações e melhorias. Para novas implementações de SMS, acesse:
<a href="https://zenvia.github.io/zenvia-openapi-spec/v2/#tag/SMS">https://zenvia.github.io/zenvia-openapi-spec/v2/#tag/SMS</a>
</aside>

<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48111111111"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-18T00:51:22.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Oi, tudo bem?"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.09</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status_envio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"enviada"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-19T00:51:36.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"respostas"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sms_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tudo bem, e voce?"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-31T22:46:42-03:00"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Definição do objeto Sms</p>
<h4 id='atributos'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro de SMS.
             </td>
        </tr>
        <tr>
            <td>
                numero_destino
                <span class="attribute">string</span>
            </td>
            <td>
                Número do destinatário (móvel) que será enviado o SMS.
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi criado o registro
            </td>
        </tr>
        <tr>
            <td>
                mensagem
                <span class="attribute">string</span>
            </td>
            <td>
                Mensagem que será enviada para o número.
            </td>
        </tr>
        <tr>
            <td>
                preco
                <span class="attribute">float</span>
            </td>
            <td>
                Valor cobrado pelo envio
            </td>
        </tr>
        <tr>
            <td>
                status
                <span class="attribute">string</span>
            </td>
            <td>
                Status do registro:
                <ul>
                    <li>enviada: enviado para processamento</li>
                    <li>erro: erro no processamento</li>
                    <li>entregue: entregue para o número de destino</li>
                    <li>aguardando: aguardando o envio para processamento</li>
                    <li>em análise:  conteúdo da mensagem em análise</li>
                    <li>bloqueado: mensagem bloqueada por conteúdo proibido</li>
                </ul> 
            </td>
        </tr>
        <tr>
            <td>
                data_status
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que o status foi alterado 
            </td>
        </tr>
        <tr>
            <td>
                resposta_usuario
                <span class="attribute">boolean</span>
            </td>
            <td>
                Aguarda a resposta do usuário: sim ou não
            </td>
        </tr>
        <tr>
            <td>
                respostas
                <span class="attribute">array</span>
            </td>
            <td>
                Array contendo os objetos de <a href="#objeto-resposta-sms">resposta</a>
            </td>
        </tr>
        <tr>
            <td>
                tags
                <span class="attribute">string</span>
            </td>
            <td>
                String com a tag enviado no momento do post.
            </td>
        </tr>
    </tbody>
</table>
<h3 id='objeto-resposta-sms'>Objeto Resposta SMS</h3>
<blockquote>
<p><br></p>
</blockquote>

<aside class="notice">
Este endpoint foi descontinuado e não receberá novas atualizações e melhorias. Para novas implementações de SMS, acesse:
<a href="https://zenvia.github.io/zenvia-openapi-spec/v2/#tag/SMS">https://zenvia.github.io/zenvia-openapi-spec/v2/#tag/SMS</a>
</aside>

<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sms_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tudo bem, e voce?"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-31T22:46:42-03:00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Definição do objeto Resposta SMS</p>
<h4 id='atributos-2'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro de Resposta.
             </td>
        </tr>
        <tr>
            <td>
                sms_id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do SMS vinculado a resposta.
             </td>
        </tr>
        <tr>
            <td>
                resposta
                <span class="attribute">string</span>
            </td>
            <td>
                Texto com a resposta do usuário
            </td>
        </tr>
        <tr>
            <td>
                data_resposta
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi respondido pelo usuário
            </td>
        </tr>
    </tbody>
</table>
<h3 id='enviar-um-sms'>Enviar um SMS</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://voice-api.zenvia.com/sms
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
             -d <span class="s1">'{"numero_destino":"48111111111","mensagem":"Ola tudo bem?"}'</span> <span class="se">\</span>
             <span class="s1">'https://voice-api.zenvia.com/sms'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">sms</span><span class="o">-&gt;</span><span class="na">enviar</span><span class="p">(</span><span class="s1">'48111111111'</span><span class="p">,</span> <span class="s1">'Ola tudo bem?'</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">sms</span><span class="p">.</span><span class="nx">enviar</span><span class="p">(</span><span class="s2">"48111111111"</span><span class="p">,</span> <span class="s2">"Ola tudo bem?"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">SMS</span><span class="o">.</span><span class="n">Enviar</span><span class="p">(</span><span class="s">"4811111111"</span><span class="p">,</span><span class="x"> </span><span class="s">"Ola tudo bem?"</span><span class="p">,</span><span class="x"> </span><span class="no">false</span><span class="p">,</span><span class="x"> </span><span class="no">false</span><span class="p">,</span><span class="x"> </span><span class="no">nil</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">sms</span><span class="o">.</span><span class="n">enviar</span><span class="p">(</span><span class="s">"48111111111"</span><span class="p">,</span> <span class="s">"Ola tudo bem?"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>

<span class="n">Sms</span> <span class="n">sms</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Sms</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">sms</span><span class="o">.</span><span class="na">enviar</span><span class="o">(</span><span class="s">"48111111111"</span><span class="o">,</span> <span class="s">"Ola tudo bem?"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">sms</span><span class="p">.</span><span class="nf">enviar</span><span class="p">(</span><span class="s2">"48111111111"</span><span class="p">,</span> <span class="s2">"Ola tudo bem?"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sms criado com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4921</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<aside class="notice">
Este endpoint foi descontinuado e não receberá novas atualizações e melhorias. Para novas implementações de SMS, acesse:
<a href="https://zenvia.github.io/zenvia-openapi-spec/v2/#tag/SMS">https://zenvia.github.io/zenvia-openapi-spec/v2/#tag/SMS</a>
</aside>

<p>Para o envio de SMS é necessário informar um número móvel válido e uma mensagem de texto.</p>
<h4 id='request'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                numero_destino
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Número do telefone móvel que irá receber a mensagem de texto.
             </td>
        </tr>
        <tr>
            <td>
                mensagem
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Mensagem de texto para ser enviada com limite de 160 caracteres e não aceita acentos.
            </td>
        </tr>
        <tr>
            <td>
                resposta_usuario
                <span class="optional">
                    Opcional,
                    <span>default <b>false</b></span>
                </span>
            </td>
            <td>
                Aguardar uma resposta do destinário.
            </td>
        </tr>
        <tr>
            <td>
                multi_sms
                <span class="optional">
                    Opcional 
                    <span>default <b>false</b></span>
                </span>
            </td>
            <td>
                Aceita SMS com mais de 160 caracteres, máximo é de 16.000 caracteres. Envia multiplos SMSs para o mesmo número (um a cada 160 caracteres) e retorna array de IDs.
            </td>
        </tr>
        <tr>
            <td>
                tags
                <span class="optional">
                    Opcional 
                </span>
            </td>
            <td>
                Você pode enviar informações em texto no campo tags com até 50 caracteres.
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="optional">
                    Opcional
                    <span>default <b>null</b></span>
                </span>
            </td>
            <td>
                Informe uma data e hora para agendar a entrega do SMS. vazio = liga imediatamente. Data e Hora no formato UTC.
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer/array</span>
            </td>
            <td>
                A resposta pode ser um Objeto com o ID do SMS, ou um array com vários IDs caso seja setado para o envio de multi_sms = true.
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h3 id='buscar-sms'>Buscar SMS</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/sms/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="s1">'https://voice-api.zenvia.com/sms/1'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">sms</span><span class="o">-&gt;</span><span class="na">buscaSms</span><span class="p">(</span><span class="mi">123</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">sms</span><span class="p">.</span><span class="nx">buscar</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">SMS</span><span class="o">.</span><span class="n">Buscar</span><span class="p">(</span><span class="m">123</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">sms</span><span class="o">.</span><span class="n">get_by_id</span><span class="p">(</span><span class="s">"123"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>

<span class="n">Sms</span> <span class="n">sms</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Sms</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">sms</span><span class="o">.</span><span class="na">buscar</span><span class="o">(</span><span class="mi">123</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">sms</span><span class="p">.</span><span class="nf">buscar</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"status"</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span><span class="w">
   </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="s2">"motivo"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
   </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"dados"</span><span class="p">:{</span><span class="w">  
      </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">25536757</span><span class="p">,</span><span class="w">
      </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="s2">"48933445566"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="s2">"2019-05-29T17:49:00.000-03:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="s2">"Ola tudo bem?"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"preco"</span><span class="p">:</span><span class="mf">0.045</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status_envio"</span><span class="p">:</span><span class="s2">"enviada"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data_status"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"respostas"</span><span class="p">:[</span><span class="w">  

      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"tags"</span><span class="p">:</span><span class="s2">"informações adicionais"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<aside class="notice">
Este endpoint foi descontinuado e não receberá novas atualizações e melhorias. Para novas implementações de SMS, acesse:
<a href="https://zenvia.github.io/zenvia-openapi-spec/v2/#tag/SMS">https://zenvia.github.io/zenvia-openapi-spec/v2/#tag/SMS</a>
</aside>

<p>Após o envio de mensagens de SMS você poderá realizar a busca do registro pelo seu ID.</p>
<h5 id='request-2'>Request</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                ID
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID do SMS para recuperar os dados
             </td>
        </tr>
    </tbody>
</table>
<h5 id='response-2'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto <a href="#objeto-sms">SMS</a>
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h3 id='relatorio-sms'>Relatório SMS</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://voice-api.zenvia.com/sms/relatorio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://voice-api.zenvia.com/sms/relatorio?data_inicio=2018-03-14&amp;data_fim=2018-03-15'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'seu-token'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">sms</span><span class="o">-&gt;</span><span class="na">relatorio</span><span class="p">(</span><span class="nv">$dataInicial</span><span class="p">,</span> <span class="nv">$dataFinal</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">sms</span><span class="p">.</span><span class="nx">relatorio</span><span class="p">(</span><span class="nx">data_inicial</span><span class="p">,</span> <span class="nx">data_final</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">SMS</span><span class="o">.</span><span class="n">Relatorio</span><span class="o">.</span><span class="n">Gerar</span><span class="p">(</span><span class="n">dataInicial</span><span class="p">,</span><span class="x"> </span><span class="n">dataFinal</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"seu-token"</span><span class="p">,</span> <span class="s">'voice-api.zenvia.com'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">sms</span><span class="o">.</span><span class="n">get_relatorio</span><span class="p">(</span><span class="s">"2017-12-08T11:00:32-02:00"</span><span class="p">,</span> <span class="s">"2017-12-08T11:00:32-02:00"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"seu-token"</span><span class="o">);</span>

<span class="n">Sms</span> <span class="n">sms</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Sms</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">sms</span><span class="o">.</span><span class="na">relatorio</span><span class="o">(</span><span class="n">dataInicial</span><span class="o">,</span> <span class="n">dataFinal</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"seu-token"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">sms</span><span class="p">.</span><span class="nf">relatorio</span><span class="p">(</span><span class="n">data_inicial</span><span class="p">,</span> <span class="n">data_final</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">151</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4899999999"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-30T23:34:08-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_envio"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mensagem de teste"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"enviada"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"respostas"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">204</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4899999999"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-31T22:39:36-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_envio"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Oi, tudo bem?"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.05</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"enviada"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"respostas"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tudo bem, e voce?"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"data_resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-31T22:46:42-03:00"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<aside class="notice">
Este endpoint foi descontinuado e não receberá novas atualizações e melhorias. Para novas implementações de SMS, acesse:
<a href="https://zenvia.github.io/zenvia-openapi-spec/v2/#tag/SMS">https://zenvia.github.io/zenvia-openapi-spec/v2/#tag/SMS</a>
</aside>

<p>Você pode consultar os SMSs enviados posteriormente. Basta informar o período desejado para que a API retorne os dados.</p>
<h4 id='request-3'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_inicio
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data inicial para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                data_fim
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data final para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                posicao
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Posição para seleção dos dados do relatório - começa na posição 0. Também chamado de offset.            
            </td>
        </tr>
        <tr>
            <td>
                limite
                <span class="required">Opcional</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Quantidade de chamadas a retornar na consulta. O limite padrão é 100 e o máximo é 200.
            </td>
        </tr> 
    </tbody>
</table>
<h4 id='response-3'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                relatorio
                <span class="attribute">array</span>
            </td>
            <td>
                Retorna um array com objetos <a href="#objeto-sms">SMS</a>
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br></p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell--curl">curl</a>
                <a href="#" data-language-name="php">php</a>
                <a href="#" data-language-name="javascript--node">node</a>
                <a href="#" data-language-name="go">go</a>
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="java">java</a>
                <a href="#" data-language-name="ruby">ruby</a>
          </div>
      </div>
    </div>
  </body>
</html>
