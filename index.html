
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>TotalVoice API Doc</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell--curl&quot;,&quot;php&quot;,&quot;javascript--node&quot;,&quot;go&quot;,&quot;python&quot;,&quot;java&quot;,&quot;ruby&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell--curl">curl</a>
              <a href="#" data-language-name="php">php</a>
              <a href="#" data-language-name="javascript--node">node</a>
              <a href="#" data-language-name="go">go</a>
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="java">java</a>
              <a href="#" data-language-name="ruby">ruby</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Pesquisar">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
           <li>
            <a href="#introducao" class="toc-h1 toc-link" data-title="Introdução">Introdução</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#bibliotecas" class="toc-h2 toc-link" data-title="Bibliotecas">Bibliotecas</a>
                  </li>
                  <li>
                    <a href="#duvidas" class="toc-h2 toc-link" data-title="Dúvidas">Dúvidas</a>
                  </li>
              </ul>
          </li>
           <li>
            <a href="#permissoes-de-conta" class="toc-h1 toc-link" data-title="Permissões de Conta">Permissões de Conta</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#contas-trial" class="toc-h2 toc-link" data-title="Contas Trial">Contas Trial</a>
                  </li>
                  <li>
                    <a href="#contas-cliente" class="toc-h2 toc-link" data-title="Contas Cliente">Contas Cliente</a>
                  </li>
                  <li>
                    <a href="#conta-pai" class="toc-h2 toc-link" data-title="Conta Pai">Conta Pai</a>
                  </li>
                  <li>
                    <a href="#conta-filha" class="toc-h2 toc-link" data-title="Conta Filha">Conta Filha</a>
                  </li>
              </ul>
          </li>
           <li>
            <a href="#autenticacao" class="toc-h1 toc-link" data-title="Autenticação">Autenticação</a>
          </li>
           <li>
            <a href="#respostas-da-api" class="toc-h1 toc-link" data-title="Respostas da API">Respostas da API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#codigos-http" class="toc-h2 toc-link" data-title="Códigos HTTP">Códigos HTTP</a>
                  </li>
                  <li>
                    <a href="#codigos-de-motivos" class="toc-h2 toc-link" data-title="Códigos de Motivos">Códigos de Motivos</a>
                  </li>
                  <li>
                    <a href="#status-para-chamada" class="toc-h2 toc-link" data-title="Status para Chamada">Status para Chamada</a>
                  </li>
                  <li>
                    <a href="#status-perna-de-ligacao" class="toc-h2 toc-link" data-title="Status Perna de Ligação">Status Perna de Ligação</a>
                  </li>
              </ul>
          </li>
           <li style="margin-top: 20px;">
            <a href="#audio" class="toc-h1 toc-link" data-title="Áudio">Áudio</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#objeto-audio" class="toc-h2 toc-link" data-title="Objeto Áudio">Objeto Áudio</a>
                  </li>
                  <li>
                    <a href="#criar-um-audio" class="toc-h2 toc-link" data-title="Criar um áudio">Criar um áudio</a>
                  </li>
                  <li>
                    <a href="#buscar-audio" class="toc-h2 toc-link" data-title="Buscar áudio">Buscar áudio</a>
                  </li>
                  <li>
                    <a href="#relatorio-audio" class="toc-h2 toc-link" data-title="Relatório áudio">Relatório áudio</a>
                  </li>
              </ul>
          </li>
           <li>
            <a href="#central-telefonica" class="toc-h1 toc-link" data-title="Central Telefônica">Central Telefônica</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#criar-um" class="toc-h2 toc-link" data-title="Criar um">Criar um</a>
                  </li>
                  <li>
                    <a href="#buscar-um" class="toc-h2 toc-link" data-title="Buscar um">Buscar um</a>
                  </li>
                  <li>
                    <a href="#editar-um" class="toc-h2 toc-link" data-title="Editar um">Editar um</a>
                  </li>
                  <li>
                    <a href="#listtar-todos-os" class="toc-h2 toc-link" data-title="Listtar todos os">Listtar todos os</a>
                  </li>
              </ul>
          </li>
           <li>
            <a href="#chamadas" class="toc-h1 toc-link" data-title="Chamadas">Chamadas</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#objeto-chamada" class="toc-h2 toc-link" data-title="Objeto Chamada">Objeto Chamada</a>
                  </li>
                  <li>
                    <a href="#criar-uma-chamada" class="toc-h2 toc-link" data-title="Criar uma chamada">Criar uma chamada</a>
                  </li>
                  <li>
                    <a href="#desligando-uma-chamada" class="toc-h2 toc-link" data-title="Desligando uma chamada">Desligando uma chamada</a>
                  </li>
                  <li>
                    <a href="#buscar-uma-chamada" class="toc-h2 toc-link" data-title="Buscar uma chamada">Buscar uma chamada</a>
                  </li>
                  <li>
                    <a href="#buscar-gravacao-da-chamada" class="toc-h2 toc-link" data-title="Buscar gravação da chamada">Buscar gravação da chamada</a>
                  </li>
              </ul>
          </li>
           <li>
            <a href="#composto" class="toc-h1 toc-link" data-title="Composto">Composto</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#objeto-composto" class="toc-h2 toc-link" data-title="Objeto Composto">Objeto Composto</a>
                  </li>
                  <li>
                    <a href="#criar-um-composto" class="toc-h2 toc-link" data-title="Criar um Composto">Criar um Composto</a>
                  </li>
                  <li>
                    <a href="#buscar-composto" class="toc-h2 toc-link" data-title="Buscar Composto">Buscar Composto</a>
                  </li>
                  <li>
                    <a href="#relatorio-composto" class="toc-h2 toc-link" data-title="Relatório composto">Relatório composto</a>
                  </li>
              </ul>
          </li>
           <li>
            <a href="#conferencias" class="toc-h1 toc-link" data-title="Conferências">Conferências</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#objeto-conferencia" class="toc-h2 toc-link" data-title="Objeto Conferência">Objeto Conferência</a>
                  </li>
                  <li>
                    <a href="#objeto-chamada-da-conferencia" class="toc-h2 toc-link" data-title="Objeto Chamada da Conferência">Objeto Chamada da Conferência</a>
                  </li>
                  <li>
                    <a href="#criar-conferencia" class="toc-h2 toc-link" data-title="Criar conferência">Criar conferência</a>
                  </li>
                  <li>
                    <a href="#buscar-conferencia" class="toc-h2 toc-link" data-title="Buscar conferência">Buscar conferência</a>
                  </li>
                  <li>
                    <a href="#encerrar-conferencia" class="toc-h2 toc-link" data-title="Encerrar conferência">Encerrar conferência</a>
                  </li>
              </ul>
          </li>
           <li>
            <a href="#dids" class="toc-h1 toc-link" data-title="DIDs">DIDs</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#criar-um" class="toc-h2 toc-link" data-title="Criar um">Criar um</a>
                  </li>
                  <li>
                    <a href="#buscar-um" class="toc-h2 toc-link" data-title="Buscar um">Buscar um</a>
                  </li>
                  <li>
                    <a href="#editar-um" class="toc-h2 toc-link" data-title="Editar um">Editar um</a>
                  </li>
                  <li>
                    <a href="#listtar-todos-os" class="toc-h2 toc-link" data-title="Listtar todos os">Listtar todos os</a>
                  </li>
              </ul>
          </li>
           <li>
            <a href="#gerenciar-contas" class="toc-h1 toc-link" data-title="Gerenciar Contas">Gerenciar Contas</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#objeto-conta" class="toc-h2 toc-link" data-title="Objeto Conta">Objeto Conta</a>
                  </li>
                  <li>
                    <a href="#criar-conta" class="toc-h2 toc-link" data-title="Criar Conta">Criar Conta</a>
                  </li>
                  <li>
                    <a href="#buscar-conta" class="toc-h2 toc-link" data-title="Buscar Conta">Buscar Conta</a>
                  </li>
                  <li>
                    <a href="#alterar-conta" class="toc-h2 toc-link" data-title="Alterar Conta">Alterar Conta</a>
                  </li>
                  <li>
                    <a href="#deletar-conta" class="toc-h2 toc-link" data-title="Deletar Conta">Deletar Conta</a>
                  </li>
                  <li>
                    <a href="#relatorio-de-contas" class="toc-h2 toc-link" data-title="Relatório de Contas">Relatório de Contas</a>
                  </li>
              </ul>
          </li>
           <li>
            <a href="#minha-conta" class="toc-h1 toc-link" data-title="Minha Conta">Minha Conta</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#objeto-minha-conta" class="toc-h2 toc-link" data-title="Objeto Minha Conta">Objeto Minha Conta</a>
                  </li>
                  <li>
                    <a href="#objeto-resposta-minha-conta" class="toc-h2 toc-link" data-title="Objeto Resposta Minha Conta">Objeto Resposta Minha Conta</a>
                  </li>
                  <li>
                    <a href="#saldo-da-conta" class="toc-h2 toc-link" data-title="Saldo da Conta">Saldo da Conta</a>
                  </li>
                  <li>
                    <a href="#buscar-minha-conta" class="toc-h2 toc-link" data-title="Buscar minha conta">Buscar minha conta</a>
                  </li>
                  <li>
                    <a href="#alterar-sua-conta" class="toc-h2 toc-link" data-title="Alterar sua Conta">Alterar sua Conta</a>
                  </li>
                  <li>
                    <a href="#relatorio-de-recarga" class="toc-h2 toc-link" data-title="Relatório de recarga">Relatório de recarga</a>
                  </li>
                  <li>
                    <a href="#url-de-recarga" class="toc-h2 toc-link" data-title="URL de Recarga">URL de Recarga</a>
                  </li>
                  <li>
                    <a href="#listar-webhooks" class="toc-h2 toc-link" data-title="Listar Webhooks">Listar Webhooks</a>
                  </li>
                  <li>
                    <a href="#remover-webhook" class="toc-h2 toc-link" data-title="Remover Webhook">Remover Webhook</a>
                  </li>
                  <li>
                    <a href="#alterar-um-webhook" class="toc-h2 toc-link" data-title="Alterar um webhook">Alterar um webhook</a>
                  </li>
              </ul>
          </li>
           <li>
            <a href="#sms" class="toc-h1 toc-link" data-title="SMS">SMS</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#objeto-sms" class="toc-h2 toc-link" data-title="Objeto Sms">Objeto Sms</a>
                  </li>
                  <li>
                    <a href="#objeto-resposta-sms" class="toc-h2 toc-link" data-title="Objeto Resposta SMS">Objeto Resposta SMS</a>
                  </li>
                  <li>
                    <a href="#enviar-um-sms" class="toc-h2 toc-link" data-title="Enviar um SMS">Enviar um SMS</a>
                  </li>
                  <li>
                    <a href="#buscar-sms" class="toc-h2 toc-link" data-title="Buscar SMS">Buscar SMS</a>
                  </li>
                  <li>
                    <a href="#relatorio-sms" class="toc-h2 toc-link" data-title="Relatório SMS">Relatório SMS</a>
                  </li>
              </ul>
          </li>
           <li>
            <a href="#tts-leitura-de-texto" class="toc-h1 toc-link" data-title="TTS Leitura de Texto">TTS Leitura de Texto</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#criar-um" class="toc-h2 toc-link" data-title="Criar um">Criar um</a>
                  </li>
                  <li>
                    <a href="#buscar-um" class="toc-h2 toc-link" data-title="Buscar um">Buscar um</a>
                  </li>
                  <li>
                    <a href="#editar-um" class="toc-h2 toc-link" data-title="Editar um">Editar um</a>
                  </li>
                  <li>
                    <a href="#listtar-todos-os" class="toc-h2 toc-link" data-title="Listtar todos os">Listtar todos os</a>
                  </li>
              </ul>
          </li>
           <li>
            <a href="#verificacao" class="toc-h1 toc-link" data-title="Verificação">Verificação</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#criar-um" class="toc-h2 toc-link" data-title="Criar um">Criar um</a>
                  </li>
                  <li>
                    <a href="#buscar-um" class="toc-h2 toc-link" data-title="Buscar um">Buscar um</a>
                  </li>
                  <li>
                    <a href="#editar-um" class="toc-h2 toc-link" data-title="Editar um">Editar um</a>
                  </li>
                  <li>
                    <a href="#listtar-todos-os" class="toc-h2 toc-link" data-title="Listtar todos os">Listtar todos os</a>
                  </li>
              </ul>
          </li>
           <li>
            <a href="#webphone" class="toc-h1 toc-link" data-title="Webphone">Webphone</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#consultar-url-webphone" class="toc-h2 toc-link" data-title="Consultar URL Webphone">Consultar URL Webphone</a>
                  </li>
              </ul>
          </li>
           <li>
            <a href="#webhooks" class="toc-h1 toc-link" data-title="Webhooks">Webhooks</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#objeto-perna-de-ligacao" class="toc-h2 toc-link" data-title="Objeto Perna de Ligação">Objeto Perna de Ligação</a>
                  </li>
                  <li>
                    <a href="#fim-de-ligacao" class="toc-h2 toc-link" data-title="Fim de Ligação">Fim de Ligação</a>
                  </li>
                  <li>
                    <a href="#status-de-chamada" class="toc-h2 toc-link" data-title="Status de Chamada">Status de Chamada</a>
                  </li>
                  <li>
                    <a href="#status-do-envio-do-sms" class="toc-h2 toc-link" data-title="Status do Envio do SMS">Status do Envio do SMS</a>
                  </li>
                  <li>
                    <a href="#resposta-de-um-sms" class="toc-h2 toc-link" data-title="Resposta de um SMS">Resposta de um SMS</a>
                  </li>
                  <li>
                    <a href="#status-de-ramal" class="toc-h2 toc-link" data-title="Status de Ramal">Status de Ramal</a>
                  </li>
                  <li>
                    <a href="#status-de-did" class="toc-h2 toc-link" data-title="Status de DID">Status de DID</a>
                  </li>
              </ul>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='https://api2.totalvoice.com.br/painel' target="_blank">Entrar</a></li>
            <li><a href='https://www.totalvoice.com.br/signup.php' target="_blank">Criar Conta</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introducao'>Introdução</h1>
<blockquote>
<p>Api Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://api.totalvoice.com.br
</code></pre>
<p>Os serviços da TotalVoice estão disponíveis através de uma API Rest, utilizando JSON, categorizada com o endereço da URL para identificar o serviço e
os códigos de respostas HTTP para indicar erros na API. Suportamos cross-origin, aceitando interações de qualquer domínio com segurança.</p>

<p>Disponibilizamos bibliotecas em diversas linguagens para uma maior facilidade dos nossos usuários, você pode alterar a linguagem de referência
da documentação clicando na linguagem desejada no canto superior direito da página.</p>

<p>Para utilizar a API, você precisará de uma conta em nosso site, <a href="https://www.totalvoice.com.br/signup.php" target="_blank">Clicando aqui</a>
você poderá criá-la facilmente, na página principal de sua conta, você tem acesso ao <strong>Access-Token</strong>, que será utilizado para autenticação no serviço.</p>
<h3 id='bibliotecas'>Bibliotecas</h3>
<p>As bibliotecas oficiais da nossa API podem ser encontradas em nosso <a href="https://github.com/totalvoice">GitHub</a>.</p>

<ul>
<li><a href="https://github.com/totalvoice/totalvoice-php">PHP</a></li>
<li><a href="https://github.com/totalvoice/totalvoice-node">Node</a></li>
<li><a href="https://github.com/totalvoice/totalvoice-go">GO</a></li>
<li><a href="https://github.com/totalvoice/totalvoice-python">Python</a></li>
<li><a href="https://github.com/totalvoice/totalvoice-java">Java</a></li>
<li><a href="https://github.com/totalvoice/totalvoice-ruby">Ruby</a></li>
</ul>
<h3 id='duvidas'>Dúvidas</h3>
<p>Caso você não encontre algum material ou possui alguma dúvida técnica que não está na documentação entre em contato conosco
pelos nossos canais de comunicação/suporte.</p>

<ul>
<li>Por e-mail: suporte@totalvoice.com.br</li>
<li><a href="https://totalvoice.herokuapp.com">Canal do Slack</a></li>
</ul>
<h1 id='permissoes-de-conta'>Permissões de Conta</h1>
<p>Quando você cria uma nova conta na TotalVoice, ela é criada automaticamente como uma conta Trial,
tendo limitações que garantem a segurança do negócio, e evitam que pessoas más intencionadas utilizem os serviços
da TotalVoice, evitando golpes de SMS, ligações, etc.</p>

<p>Após as validações solicitadas (confirmação de telefone fixo, e-mail, etc) a conta é aprovada instantaneamente, 
recebendo o acesso de conta Cliente, que retira algumas limitações, mantendo apenas as que evitam golpes e utilização para Spams.</p>

<p>Caso tenha interesse em ter acessos de funções exclusivas da TotalVoice (Centrais telefônicas, DIDs, Números Receptivos, criação de contas filhas), 
você precisa entrar em contato com nossa equipe, para podermos entender o cenário e auxiliar na escolha ideal de funcionalidades.  </p>
<h2 id='contas-trial'>Contas Trial</h2>
<blockquote>
<ul>
    <li>
        São limitadas ao envio das funções da API apenas para números cadastrados (e devidamente confirmados) no painel.
    </li>
    <li>
        Não podem editar Ramais.
    </li>
    <li>
        Número maior de palavras bloqueadas no corpo do SMS.
    </li>
    <li>
        Limite de 5 SMSs enviadas por dia.
    </li>
    <li>
        Não tem acesso a Central Telefônica.
    </li>
</ul>
</blockquote>

<p>As contas Trial, são contas que foram criadas e ainda não tiveram seus dados confirmados, como e-mail e telefone fixo (caso a pessoa
não tenha telefone fixo, pode entrar em contato com a TotalVoice que validamos diretamente), a conta trial tem o intuíto apenas de testar
as funcionalidades da API, a validação e migração é feita de modo automática e a mudança de tipo de conta acontece na hora.</p>
<h2 id='contas-cliente'>Contas Cliente</h2>
<p>Contas Clientes são aquelas que já passaram por um processo de validação, dando liberdade para utilização da API com apenas algumas limitações por questão
de segurança.</p>

<p>As contas Clientes:</p>

<blockquote>
<ul>
    <li>
        Não podem binar números que não sejam seus confirmados.
    </li>
    <li>
        Não podem criar e administrar contas filhas.
    </li>
    <li>
        Limite de 50 SMSs enviadas por dia, que cresce de acordo com o uso (ou em simples contato com a equipe da TotalVoice).
    </li>
    <li>
        SMSs com algumas palavras proíbidas (referente à cobranças, instituições financeiras, links, etc...).
    </li>
</ul>
</blockquote>
<h2 id='conta-pai'>Conta Pai</h2>
<p>Quando se tem a necessidade de criar e administrar outras contas, como em integrações com sistemas, revenda de serviços,
utilização por terceiros das funções de telefonia, você pode solicitar uma permissão de Conta Pai, 
onde você pode criar, deletar e alterar Contas Filhas.</p>

<p>As Contas Pais tem as mesmas limitações das Contas Clientes, tendo apenas o diferencial de poder administrar subcontas. </p>
<h2 id='conta-filha'>Conta Filha</h2>
<p>As contas filhas, são basicamente contas criadas que foram criadas através de outra, são praticamente as mesmas Contas Clientes, 
tendo os mesmos privilégios, sendo apenas vínculada a uma outra conta, podendo ser <a href="#alterar-conta">Alterada</a> ou <a href="#deletar-conta">Removida</a> por ela.</p>
<h1 id='autenticacao'>Autenticação</h1>
<blockquote>
<p>Exemplo de autenticação</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code><span class="gp">$ </span>curl https://api.totalvoice.com.br/sms <span class="se">\</span>
    --header <span class="s1">'Access-Token: testeM68PU1Izmb9chEdLzep7IwRymWO'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'testeM68PU1Izmb9chEdLzep7IwRymWO'</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">,</span> <span class="s">'api.totalvoice.com.br'</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="o">);</span>
</code></pre>
<blockquote>
<p>Não esqueça de alterar o Token de exemplo pelo seu Token.</p>
</blockquote>

<p>A TotalVoice utiliza um Token de Acesso para realizar a autenticação de sua conta, você deve incluir o Access-Token 
na requisição HTTP através do cabeçalho, ou pela <em>Query String</em>. </p>

<p>Exemplo de Access-Token:</p>

<p><code>testeM68PU1Izmb9chEdLzep7IwRymWO</code></p>

<p>As bibliotecas disponibilizadas pela TotalVoice já fazem a autenticação na requisição HTTP transparentemente. </p>

<aside class="warning">
 Mantenha seu Token em segredo, tome muito cuidado, não deixe ele exposto em um código público e nunca
 compartilhe com ninguém fora da sua organização.
</aside>
<h1 id='respostas-da-api'>Respostas da API</h1>
<blockquote>
<p>Exemplo JSON de retorno</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"audio criado com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4921</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Toda resposta retornada pela API, vem em formato JSON contendo um cabeçalho padrão,
o cabeçalho contém as informações sobre a requisição e os dados próprios da resposta, que ficam dentro do campo <strong>dados</strong>.</p>
<h4 id='atributos-da-resposta'>Atributos da Resposta</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                status
                <span class="attribute">integer</span>
            </td>
            <td>
                <a href="#codigos-http">Código HTTP</a> da resposta.
             </td>
        </tr>
        <tr>
            <td>
                sucesso
                <span class="attribute">boolean</span>
            </td>
            <td>
                Sucesso ou falha da requisição.
             </td>
        </tr>
        <tr>
            <td>
                motivo
                <span class="attribute">integer</span>
            </td>
            <td>
                <a href="#codigos-de-motivos">Código do motivo</a> da falha ou sucesso.
             </td>
        </tr>
        <tr>
            <td>
                mensagem
                <span class="attribute">string</span>
            </td>
            <td>
                Mensagem de resposta contendo mensagem sucesso ou motivo de falha. 
             </td>
        </tr>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Objeto de resposta variável em cada função da API.
             </td>
        </tr>
    </tbody>
</table>
<h2 id='codigos-http'>Códigos HTTP</h2>
<blockquote>
<p>Códigos HTTP utilizados</p>

<table>
    <tr>
        <td>200</td>
        <td>Os dados foram retornados com sucesso.</td>
    </tr>
    <tr>
        <td>400</td>
        <td>Formato do JSON enviado é inválido.</td>
    </tr>
    <tr>
        <td>402</td>
        <td>Sua conta não tem saldo suficiente.</td>
    </tr>
    <tr>
        <td>403</td>
        <td>Sua conta não tem permissão para realizar esse procedimento.</td>
    </tr>
    <tr>
        <td>404</td>
        <td>Objeto de sua pesquisa não foi encontrado.</td>
    </tr>
    <tr>
        <td>405</td>
        <td>Algum dos parâmetros enviados está inválido</td>
    </tr>
    <tr>
        <td>500</td>
        <td>Alguma coisa aconteceu internamente.</td>
    </tr>
    <tr>
        <td>501</td>
        <td>Ainda não implementamos essa funcionalidade (?).</td>
    </tr>
</table>
</blockquote>

<p>As respostas das requisições realizadas para a API TotalVoice utilizam os códigos convencionais HTTP, indicando sucesso ou falha,
sendo que o código 200 responde pelo sucesso e os iniciando 4xx pelas falhas, também utilizamos os códigos começando com 500 para apresentar falhas internas.</p>

<p><br style="margin-top: 280px;"/>  </p>
<h2 id='codigos-de-motivos'>Códigos de Motivos</h2>
<blockquote>
<p>Códigos de Motivos</p>

<table>
     <tr>
         <td>0</td>
         <td>Os dados foram retornados com sucesso.</td>
     </tr>
     <tr>
         <td>8</td>
         <td>Sua conta não tem permissão para realizar esse procedimento.</td>
     </tr>
     <tr>
         <td>9</td>
         <td>Sua conta não tem saldo suficiente.</td>
     </tr>
     <tr>
         <td>10</td>
         <td>Você não enviou todos os parâmetros obrigatórios.</td>
     </tr>
     <tr>
         <td>11</td>
         <td>Algum dos parâmetros enviados está inválido</td>
     </tr>
     <tr>
         <td>20</td>
         <td>Erro pois o registro iria ficar duplicado.</td>
     </tr>
     <tr>
         <td>30</td>
         <td>Esta funcionalidade ainda não foi implementada. (Avise-nos)</td>
     </tr>
     <tr>
         <td>40</td>
         <td>Houve uma falha na autenticação, seu Token está correto?</td>
     </tr>
    <tr>
         <td>50</td>
         <td>Erro interno dentro do nosso sistema.</td>
     </tr>
     <tr>
         <td>60</td>
         <td>Não encontramos o elemento que você está procurando.</td>
     </tr>
     <tr>
         <td>70</td>
         <td>A chamada requisitada não contém uma gravação.</td>
     </tr>
     <tr>
         <td>80</td>
         <td>A chamada solicitada não está ativa.</td>
     </tr>
     <tr>
         <td>90</td>
         <td>O caminho não foi encontrado.</td>
     </tr>
     <tr>
         <td>100</td>
         <td>A requisição solicitada é inválida.</td>
     </tr>
 </table>
</blockquote>

<p>Um dos parâmetros padrões que vem em toda resposta da API, é o motivo, onde detalhamos o motivo pelo qual a sua requisição
 falhou (ou deu certo), na tabela ao lado temos a lista de motivos possíveis, e mais detalhes seguem no campo mensagem 
 do cabeçalho.</p>

<p>Utilize o atributo <strong>sucesso</strong> se for apenas para identificar se a requisição deu certo ou não.</p>
<h2 id='status-para-chamada'>Status para Chamada</h2>
<blockquote>
<p>Status para Chamada</p>

<table>
     <tr>
         <td>atendida</td>
         <td>A ligação foi atendida.</td>
     </tr>
     <tr>
         <td>sem resposta</td>
         <td>O número não atendeu a ligação.</td>
     </tr>
     <tr>
         <td>ocupado</td>
         <td>A operadora retornou que o número estava ocupado.</td>
     </tr>
     <tr>
         <td>congestionado</td>
         <td>Houve algum problema nas linhas de conexões de saída de ligação. (entrar em contato para avisar)</td>
     </tr>
     <tr>
         <td>falha</td>
         <td>Não foi possível realizar a ligação.</td>
     </tr>
     <tr>
         <td>cancelada</td>
         <td>A ligação foi cancelada.</td>
     </tr>
     <tr>
         <td>não existe</td>
         <td>O número desta ligação não existe.</td>
     </tr>
 </table>
</blockquote>

<p>FALTA DESCRICAO</p>
<h2 id='status-perna-de-ligacao'>Status Perna de Ligação</h2>
<blockquote>
<p>Status Perna de Ligação</p>

<table>
     <tr>
         <td>preparando</td>
         <td>A ligação para esta perna ainda não foi iniciada.</td>
     </tr>
     <tr>
         <td>chamando</td>
         <td>O telefone/ramal desta perna está chamando mas não atendeu.</td>
     </tr>
     <tr>
         <td>atendida</td>
         <td>A perna atendeu a ligação.</td>
     </tr>
     <tr>
         <td>ocupado</td>
         <td>A operadora retornou que o número estava ocupado no momento.</td>
     </tr>
     <tr>
         <td>desconhecido</td>
         <td>Houve alguma falha, entrar em contato com o suporte.</td>
     </tr>
 </table>
</blockquote>

<p>Este parâmetro é retornado nos objetos que representam algum lado (perna) de uma ligação que foi realizada, 
 por exemplo em um Objeto de um Áudio haverá um único atributo deste que representa
 o status do número que o áudio foi enviado, já em uma Chamada você terá um status para cada uma das pernas dela.</p>
<h1 id='audio'>Áudio</h1>
<blockquote>
<p>Audio Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://api.totalvoice.com.br/audio
</code></pre>
<p>A funcionalidade de <strong>Envio de Aúdio</strong>, permite que você envie mensagens de voz (audio) / torpedos de voz para determinados números. 
Basta você informar um número destino e a URL contendo o seu arquivo de áudio. Estes arquivos 
devem estar disponíveis em uma URL pública. Você poderá enviar algumas opções adicionais, 
tais como, aguardar uma resposta do usuário, gravar o áudio da ligação ou colocar um número bina que aparecerá no momento da ligação.</p>
<h4 id='formatos-aceitos'>Formatos aceitos:</h4>
<ul>
<li>.mp3</li>
<li>.wav</li>
</ul>
<h4 id='tamanho-maximo'>Tamanho máximo:</h4>
<ul>
<li>5MB</li>
</ul>
<h2 id='objeto-audio'>Objeto Áudio</h2>
<blockquote>
<p><br></p>

<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:60"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:35"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_audio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/audio.mp3"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/gravacao.mp3"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Definição do objeto Áudio</p>
<h4 id='atributos'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro de Áudio.
             </td>
        </tr>
        <tr>
            <td>
                numero_destino
                <span class="attribute">string</span>
            </td>
            <td>
                Número do destinatário que foi enviado o áudio.
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi criado o registro
            </td>
        </tr>
        <tr>
            <td>
                data_inicio
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi iniciado o processamento do áudio
            </td>
        </tr>
        <tr>
            <td>
                tipo
                <span class="attribute">string</span>
            </td>
            <td>
                Tipo de telefone: fixo, móvel ou ramal
            </td>
        </tr>
        <tr>
            <td>
                status
                <span class="attribute">string</span>
            </td>
            <td>
                Status do registro
            </td>
        </tr>
        <tr>
            <td>
                duracao_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos (inteiro) total da chamada desde o início do processamento
            </td>
        </tr>
        <tr>
            <td>
                duracao
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração total da chamada desde o início do processamento
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos para fins de cobrança
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração considerada para fins de cobrança
            </td>
        </tr>
                <tr>
            <td>
                duracao_falada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos da chamada desde que o destino atendeu
            </td>
        </tr>
        <tr>
            <td>
                duracao_falada
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração da chamada desde que o destino atendeu
            </td>
        </tr>
        <tr>
            <td>
                preco
                <span class="attribute">float</span>
            </td>
            <td>
                Valor cobrado pela chamada
            </td>
        </tr>
        <tr>
            <td>
                url_audio
                <span class="attribute">string</span>
            </td>
            <td>
                URL do Áudio enviado para a chamada
            </td>
        </tr>
        <tr>
            <td>
                resposta_usuario
                <span class="attribute">boolean</span>
            </td>
            <td>
                Aguarda a resposta do usuário: sim ou não
            </td>
        </tr>
        <tr>
            <td>
                resposta
                <span class="attribute">string</span>
            </td>
            <td>
                Quando o usuário executa alguma ação no teclado do dispositivo, o valor será exibido neste campo (DTMF). 
            </td>
        </tr>
        <tr>
            <td>
                url_gravacao
                <span class="attribute">string</span>
            </td>
            <td>
                Quando enviado a opção Gravar Áudio = true, este campo disponibilizará uma URL contendo o áudio da gravação da ligação. 
            </td>
        </tr>
    </tbody>
</table>
<h2 id='criar-um-audio'>Criar um áudio</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://api.totalvoice.com.br/audio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
             -d <span class="s1">'{"numero_destino":"4811111111","url_audio":"http://foo.bar/audio.mp3"}'</span> <span class="se">\</span>
             <span class="s1">'https://api.totalvoice.com.br/audio'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'testeM68PU1Izmb9chEdLzep7IwRymWO'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">audio</span><span class="o">-&gt;</span><span class="na">enviar</span><span class="p">(</span><span class="s1">'4811111111'</span><span class="p">,</span> <span class="s1">'http://foo.bar/audio.mp3'</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">audio</span><span class="p">.</span><span class="nx">enviar</span><span class="p">(</span><span class="s2">"4811111111"</span><span class="p">,</span> <span class="s2">"http://foo.bar/audio.mp3"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Audio</span><span class="o">.</span><span class="n">Enviar</span><span class="p">(</span><span class="s">"4811111111"</span><span class="p">,</span><span class="x"> </span><span class="s">"http://foo.bar/audio.mp3"</span><span class="p">,</span><span class="x"> </span><span class="no">false</span><span class="p">,</span><span class="x"> </span><span class="s">""</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">,</span> <span class="s">'api.totalvoice.com.br'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">audio</span><span class="o">.</span><span class="n">enviar</span><span class="p">(</span><span class="s">"4811111111"</span><span class="p">,</span> <span class="s">"http://foo.bar/audio.mp3"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="o">);</span>
<span class="n">Audio</span> <span class="n">audio</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Audio</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">audio</span><span class="o">.</span><span class="na">enviar</span><span class="o">(</span><span class="s">"4811111111"</span><span class="o">,</span> <span class="s">"http://foo.bar/audio.mp3"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">audio</span><span class="p">.</span><span class="nf">enviar</span><span class="p">(</span><span class="s2">"4811111111"</span><span class="p">,</span> <span class="s2">"http://foo.bar/audio.mp3"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"audio criado com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4921</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Basta informar o número de destino válido e a URL pública do arquivo.</p>
<h4 id='request'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                numero_destino
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Número do telefone que irá receber a chamada, formato DDD + Número exemplo: 4832830151
             </td>
        </tr>
        <tr>
            <td>
                url_audio
                <span class="required">Obrigatório</span>
            </td>
            <td>
                URL do audio, exemplo: http://foo.bar/audio.mp3
            </td>
        </tr>
        <tr>
            <td>
                resposta_usuario
                <span class="optional">Opcional</span>
            </td>
            <td>
                Aguardar uma resposta do destinário
            </td>
        </tr>
        <tr>
            <td>
                gravar_audio
                <span class="optional">Opcional</span>
            </td>
            <td>
                Gravar a ligação
            </td>
        </tr>
        <tr>
            <td>
                bina
                <span class="optional">Opcional</span>
            </td>
            <td>
                Número de telefone que aparecerá no identificador de quem receber a chamada, formato DDD + Número exemplo: 4832830151
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Retorna o ID do Áudio
             </td>
        </tr>
    </tbody>
</table>
<h2 id='buscar-audio'>Buscar áudio</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://api.totalvoice.com.br/audio/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="s1">'https://api.totalvoice.com.br/audio/1'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'testeM68PU1Izmb9chEdLzep7IwRymWO'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">audio</span><span class="o">-&gt;</span><span class="na">buscaAudio</span><span class="p">(</span><span class="mi">123</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">audio</span><span class="p">.</span><span class="nx">buscar</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Audio</span><span class="o">.</span><span class="n">Buscar</span><span class="p">(</span><span class="m">123</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">,</span> <span class="s">'api.totalvoice.com.br'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">audio</span><span class="o">.</span><span class="n">get_by_id</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="o">);</span>
<span class="n">Audio</span> <span class="n">audio</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Audio</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">audio</span><span class="o">.</span><span class="na">buscar</span><span class="o">(</span><span class="mi">123</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"{{access-token}}"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">audio</span><span class="p">.</span><span class="nf">enviar</span><span class="p">(</span><span class="s2">"NUMERO-DESTINO"</span><span class="p">,</span> <span class="s2">"URL-AUDIO"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:60"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:35"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_audio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/audio.mp3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Após o envio de mensagens de áudio, você poderá realizar a busca do registro pelo seu ID.</p>
<h5 id='request-2'>Request</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                ID
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID do Áudio para recuperar os dados
             </td>
        </tr>
    </tbody>
</table>
<h5 id='response-2'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto <a href="#objeto-audio">áudio</a>
             </td>
        </tr>
    </tbody>
</table>
<h2 id='relatorio-audio'>Relatório áudio</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://api.totalvoice.com.br/audio/relatorio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://api.totalvoice.com.br/audio/relatorio?data_inicio=2018-03-14&amp;data_fim=2018-03-15'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'testeM68PU1Izmb9chEdLzep7IwRymWO'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">audio</span><span class="o">-&gt;</span><span class="na">relatorio</span><span class="p">(</span><span class="nv">$dataInicial</span><span class="p">,</span> <span class="nv">$dataFinal</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">audio</span><span class="p">.</span><span class="nx">relatorio</span><span class="p">(</span><span class="nx">data_inicial</span><span class="p">,</span> <span class="nx">data_final</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Audio</span><span class="o">.</span><span class="n">Relatorio</span><span class="o">.</span><span class="n">Gerar</span><span class="p">(</span><span class="n">dataInicial</span><span class="p">,</span><span class="x"> </span><span class="n">dataFinal</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">,</span> <span class="s">'api.totalvoice.com.br'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">audio</span><span class="o">.</span><span class="n">get_relatorio</span><span class="p">(</span><span class="n">data_inicio</span><span class="p">,</span> <span class="n">data_fim</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="o">);</span>
<span class="n">Audio</span> <span class="n">audio</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Audio</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">audio</span><span class="o">.</span><span class="na">relatorio</span><span class="o">(</span><span class="n">dataInicial</span><span class="o">,</span> <span class="n">dataFinal</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"{{access-token}}"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">audio</span><span class="p">.</span><span class="nf">enviar</span><span class="p">(</span><span class="s2">"NUMERO-DESTINO"</span><span class="p">,</span> <span class="s2">"URL-AUDIO"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:60"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:35"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_audio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/audio.mp3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ocupado"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:10"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_audio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/audio.mp3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Você pode consultar os áudios enviados posteriormente. Basta informar o período desejado para que a API retorne os dados.</p>
<h4 id='request-3'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_inicio
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data inicial para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                data_fim
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data final para consulta dos dados no relatório
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response-3'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                relatorio
                <span class="attribute">array</span>
            </td>
            <td>
                Retorna um array com objetos <a href="#objeto-audio">áudio</a>
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br></p>
<h1 id='central-telefonica'>Central Telefônica</h1><h2 id='criar-um'>Criar um</h2>
<blockquote>
<p>post audio</p>
</blockquote>
<h2 id='buscar-um'>Buscar um</h2>
<blockquote>
<p>Exemplo</p>
</blockquote>
<h2 id='editar-um'>Editar um</h2>
<blockquote>
<p>Exemplo</p>
</blockquote>
<h2 id='listtar-todos-os'>Listtar todos os</h2>
<blockquote>
<p>Exemplo</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'testeM68PU1Izmb9chEdLzep7IwRymWO'</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"{{access-token}}"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">chamada</span><span class="p">.</span><span class="nx">ligar</span><span class="p">(</span><span class="s2">"4832830151"</span><span class="p">,</span> <span class="s2">"4811111111"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
    </span><span class="s">"fmt"</span><span class="x">

    </span><span class="s">"github.com/totalvoice/totalvoice-go"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"{{access-token}}"</span><span class="p">)</span><span class="x">
    </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Chamada</span><span class="o">.</span><span class="n">Criar</span><span class="p">(</span><span class="s">"4811111111"</span><span class="p">,</span><span class="x"> </span><span class="s">"4822222222"</span><span class="p">,</span><span class="x"> </span><span class="no">nil</span><span class="p">)</span><span class="x">

    </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="nb">panic</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
    </span><span class="p">}</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">response</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">cliente</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"{{access-token}}"</span><span class="p">,</span> <span class="s">'HOST'</span><span class="p">)</span> <span class="c">#ex: api.totalvoice.com.br</span>

<span class="c">#Cria chamada</span>
<span class="n">numero_origem</span> <span class="o">=</span> <span class="s">"48999999999"</span>
<span class="n">numero_destino</span> <span class="o">=</span> <span class="s">"48900000000"</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">cliente</span><span class="o">.</span><span class="n">chamada</span><span class="o">.</span><span class="n">enviar</span><span class="p">(</span><span class="n">numero_origem</span><span class="p">,</span> <span class="n">numero_destino</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kn">package</span> <span class="n">br</span><span class="o">.</span><span class="na">com</span><span class="o">.</span><span class="na">totalvoice</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">br.com.totalvoice.api.Chamada</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.json.JSONObject</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span> <span class="n">args</span><span class="o">[])</span> <span class="o">{</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"{{access-token}}"</span><span class="o">);</span>
            <span class="n">Chamada</span> <span class="n">chamada</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Chamada</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

            <span class="n">JSONObject</span> <span class="n">result</span> <span class="o">=</span> <span class="n">chamada</span><span class="o">.</span><span class="na">ligar</span><span class="o">(</span><span class="s">"NUMEROA"</span><span class="o">,</span> <span class="s">"NUMEROB"</span><span class="o">);</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">result</span><span class="o">);</span>

        <span class="o">}</span> <span class="k">catch</span><span class="o">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">ex</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>Para autenticar sua conta você deve incluir na requisição HTTP o cabeçalho <strong>Access-Token</strong>, 
colocando no valor o token disponibilizado na sua Dashboard da TotalVoice, tome sempre cuidado, não forneça seu token
para ninguém e nem deixe ele exposto no código, seu token contém muitos privilégios. </p>

<p><code>Access-Token: testeM68PU1Izmb9chEdLzep7IwRymWO</code></p>

<p>As bibliotecas disponibilizadas pela TotalVoice já fazem a autenticação no cabeçalho HTTP transparentemente. </p>
<h1 id='chamadas'>Chamadas</h1>
<blockquote>
<p>Chamada Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://api.totalvoice.com.br/chamada
</code></pre>
<p>A funcionalidade <strong>Chamada</strong> permite que você crie chamadas perna A e perna B, podendo gravar as ligações, agendar, binar o seu próprio número.
Permite gerar relatório de chamadas, derrubar chamadas em andamento, transferir chamadas, avaliação de chamadas.</p>
<h3 id='objeto-chamada'>Objeto Chamada</h3>
<blockquote>
<p><br></p>

<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">  
   </span><span class="s2">"numero_origem"</span><span class="p">:</span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="s2">"2017-03-30T17:17:14-03:00"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"gravar_audio"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="s2">"bina_origem"</span><span class="p">:</span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"bina_destino"</span><span class="p">:</span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"tags"</span><span class="p">:</span><span class="s2">"clienteX"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Definição do objeto Chamada</p>
<h4 id='atributos'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                numero_origem
                <span class="attribute">string</span>
            </td>
            <td>
                Número origem, recebe a chamada primeiro.  Exemplo: 4832830151
             </td>
        </tr>
        <tr>
            <td>
                numero_destino
                <span class="attribute">string</span>
            </td>
            <td>
               Número destino, recebe a chamada após o número origem atender. Exemplo: 4832830151
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">string</span>
            </td>
            <td>
                Informe uma data e hora para agendar a chamada. vazio = liga imediatamente. Data e Hora no formato UTC
            </td>
        </tr>
        <tr>
            <td>
                gravar_audio
                <span class="optional">Opcional</span>
            </td>
            <td>
                Flag que indica se o áudio da ligação deve ser gravado
            </td>
        </tr>
        <tr>
            <td>
                bina_origem
                <span class="attribute">string</span>
            </td>
            <td>
                Número de BINA na perna A, formato DDD + Número exemplo: 4832830151
            </td>
        </tr>
        <tr>
            <td>
                bina_destino
                <span class="attribute">string</span>
            </td>
            <td>
                Número de BINA na perna B, formato DDD + Número exemplo: 4832830151
            </td>
        </tr>
        <tr>
            <td>
                tags
                <span class="attribute">string</span>
            </td>
            <td>
                Tags ou comentários sobre esta chamada
            </td>
        </tr>
    </tbody>
</table>
<h2 id='criar-uma-chamada'>Criar uma chamada</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://api.totalvoice.com.br/chamada
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: testeM68PU1Izmb9chEdLzep7IwRymWO'</span> <span class="se">\</span>
             -d <span class="s1">'{"numero_origem":"4811111111","numero_destino":"4811111112"}'</span> <span class="se">\</span>
             <span class="s1">'https://api.totalvoice.com.br/chamada'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'testeM68PU1Izmb9chEdLzep7IwRymWO'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">chamada</span><span class="o">-&gt;</span><span class="na">ligar</span><span class="p">(</span><span class="s1">'4811111111'</span><span class="p">,</span> <span class="s1">'4811111112'</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">chamada</span><span class="p">.</span><span class="nx">ligar</span><span class="p">(</span><span class="s2">"4811111111"</span><span class="p">,</span> <span class="s2">"4811111112"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Chamada</span><span class="o">.</span><span class="n">Criar</span><span class="p">(</span><span class="s">"4811111111"</span><span class="p">,</span><span class="x"> </span><span class="s">"4811111112"</span><span class="p">,</span><span class="x"> </span><span class="no">nil</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">,</span> <span class="s">'api.totalvoice.com.br'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">chamada</span><span class="o">.</span><span class="n">enviar</span><span class="p">(</span><span class="s">"4811111111"</span><span class="p">,</span> <span class="s">"4811111112"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="o">);</span>
<span class="n">Chamada</span> <span class="n">chamada</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Chamada</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">chamada</span><span class="o">.</span><span class="na">ligar</span><span class="o">(</span><span class="s">"4811111111"</span><span class="o">,</span> <span class="s">"4811111112"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">chamada</span><span class="p">.</span><span class="nf">ligar</span><span class="p">(</span><span class="s2">"4811111111"</span><span class="p">,</span> <span class="s2">"4811111112"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"chamada criada com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123123</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Basta informar o número de origem e destino.</p>
<h4 id='request'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                numero_origem
                <span class="attribute">string</span>
            </td>
            <td>
                Número origem, recebe a chamada primeiro.  Exemplo: 4832830151
             </td>
        </tr>
        <tr>
            <td>
                numero_destino
                <span class="attribute">string</span>
            </td>
            <td>
               Número destino, recebe a chamada após o número origem atender. Exemplo: 4832830151
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">string</span>
            </td>
            <td>
                Informe uma data e hora para agendar a chamada. vazio = liga imediatamente. Data e Hora no formato UTC
            </td>
        </tr>
        <tr>
            <td>
                gravar_audio
                <span class="optional">Opcional</span>
            </td>
            <td>
                Flag que indica se o áudio da ligação deve ser gravado
            </td>
        </tr>
        <tr>
            <td>
                bina_origem
                <span class="attribute">string</span>
            </td>
            <td>
                Número de BINA na perna A, formato DDD + Número exemplo: 4832830151
            </td>
        </tr>
        <tr>
            <td>
                bina_destino
                <span class="attribute">string</span>
            </td>
            <td>
                Número de BINA na perna B, formato DDD + Número exemplo: 4832830151
            </td>
        </tr>
        <tr>
            <td>
                tags
                <span class="attribute">string</span>
            </td>
            <td>
                Tags ou comentários sobre esta chamada
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Retorna o ID da chamada
             </td>
        </tr>
    </tbody>
</table>
<h2 id='desligando-uma-chamada'>Desligando uma chamada</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://api.totalvoice.com.br/chamada/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X DELETE --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
               --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
               --header <span class="s1">'Access-Token: testeM68PU1Izmb9chEdLzep7IwRymWO'</span> <span class="se">\</span>
               <span class="s1">'https://api.totalvoice.com.br/chamada/123'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'testeM68PU1Izmb9chEdLzep7IwRymWO'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">chamada</span><span class="o">-&gt;</span><span class="na">encerrar</span><span class="p">(</span><span class="mi">123</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">chamada</span><span class="p">.</span><span class="nx">encerrar</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Chamada</span><span class="o">.</span><span class="n">Encerrar</span><span class="p">(</span><span class="m">123</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">,</span> <span class="s">'api.totalvoice.com.br'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">chamada</span><span class="o">.</span><span class="n">deletar</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="o">);</span>
<span class="n">Chamada</span> <span class="n">chamada</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Chamada</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">chamada</span><span class="o">.</span><span class="na">encerrar</span><span class="o">(</span><span class="mi">123</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">chamada</span><span class="p">.</span><span class="nf">encerrar</span><span class="p">(</span><span class="s2">"4811111111"</span><span class="p">,</span> <span class="s2">"http://foo.bar/audio.mp3"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"encerrando chamada"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w"> 
</span></code></pre>
<p>Basta informar o id da chamada ativa</p>
<h4 id='request-2'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID da chamada ativa
             </td>
        </tr>
    </tbody>
</table>
<h2 id='buscar-uma-chamada'>Buscar uma chamada</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://api.totalvoice.com.br/chamada/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="s1">'https://api.totalvoice.com.br/audio/1'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'testeM68PU1Izmb9chEdLzep7IwRymWO'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">audio</span><span class="o">-&gt;</span><span class="na">buscaAudio</span><span class="p">(</span><span class="mi">123</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">audio</span><span class="p">.</span><span class="nx">buscar</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Audio</span><span class="o">.</span><span class="n">Buscar</span><span class="p">(</span><span class="m">123</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">,</span> <span class="s">'api.totalvoice.com.br'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">audio</span><span class="o">.</span><span class="n">get_by_id</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="o">);</span>
<span class="n">Audio</span> <span class="n">audio</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Audio</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">audio</span><span class="o">.</span><span class="na">buscar</span><span class="o">(</span><span class="mi">123</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"{{access-token}}"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">audio</span><span class="p">.</span><span class="nf">enviar</span><span class="p">(</span><span class="s2">"NUMERO-DESTINO"</span><span class="p">,</span> <span class="s2">"URL-AUDIO"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">185</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-31T20:33:13-03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ativa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cliente_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ramal_id_origem"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"origem"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-31T20:33:27-03:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"substatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"maquina_origem"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">47</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:47"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:30"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:01:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"destino"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-31T20:33:44-03:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4899999999"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movel"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:30"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:30"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:01:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Após o envio de chamadas, você poderá realizar a busca do registro pelo seu ID.</p>
<h5 id='request-3'>Request</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                ID
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID da chamada para recuperar os dados
             </td>
        </tr>
    </tbody>
</table>
<h5 id='response-2'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto <a href="#objeto-chamada">chamada</a>
             </td>
        </tr>
    </tbody>
</table>
<h2 id='buscar-gravacao-da-chamada'>Buscar gravação da chamada</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://api.totalvoice.com.br/chamada/{id}/gravacao
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="s1">'https://api.totalvoice.com.br/audio/1'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'testeM68PU1Izmb9chEdLzep7IwRymWO'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">audio</span><span class="o">-&gt;</span><span class="na">buscaAudio</span><span class="p">(</span><span class="mi">123</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">audio</span><span class="p">.</span><span class="nx">buscar</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Audio</span><span class="o">.</span><span class="n">Buscar</span><span class="p">(</span><span class="m">123</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">,</span> <span class="s">'api.totalvoice.com.br'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">audio</span><span class="o">.</span><span class="n">get_by_id</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="o">);</span>
<span class="n">Audio</span> <span class="n">audio</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Audio</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">audio</span><span class="o">.</span><span class="na">buscar</span><span class="o">(</span><span class="mi">123</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"{{access-token}}"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">audio</span><span class="p">.</span><span class="nf">enviar</span><span class="p">(</span><span class="s2">"NUMERO-DESTINO"</span><span class="p">,</span> <span class="s2">"URL-AUDIO"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">185</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-31T20:33:13-03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ativa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cliente_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ramal_id_origem"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"origem"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-31T20:33:27-03:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"substatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"maquina_origem"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">47</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:47"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:30"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:01:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"destino"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-31T20:33:44-03:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4899999999"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movel"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:30"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:30"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:01:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Após o envio de chamadas, você poderá realizar a busca do registro pelo seu ID.</p>
<h5 id='request-4'>Request</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                ID
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID da chamada para recuperar os dados
             </td>
        </tr>
    </tbody>
</table>
<h5 id='response-3'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto <a href="#objeto-chamada">chamada</a>
             </td>
        </tr>
    </tbody>
</table>
<h1 id='composto'>Composto</h1>
<blockquote>
<p>Composto Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://api.totalvoice.com.br/composto
</code></pre>
<p>A funcionalidade de <strong>Envio de Composto</strong>, permite que você envie mensagens de voz por telefone misturando gravações de áudio MP3 com TTS e também realize algumas outras funções de central telefônica como coletar DTMF e transferir.</p>

<p>Exemplo: Envie uma mensagem para confirmar uma consulta ou transferir a pessoa para o reagendamento: &quot;Você possui uma consulta agendada para amanhã 18h. Aperte 1 para confirmar ou 2 para ser remarcar&quot;. Quando o usuário pressionar a opção 2, ele já é transferido para o telefone de remarcação.
JSON DADOS do exemplo:</p>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="err">acao</span><span class="p">:</span><span class="w"> </span><span class="err">composto</span><span class="p">,</span><span class="w">
        </span><span class="err">acao_dados</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="err">url_composto</span><span class="p">:</span><span class="w"> </span><span class="err">http</span><span class="p">:</span><span class="err">//fooooo.bar/composto.mp</span><span class="mi">3</span><span class="w">
                    </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="err">acao</span><span class="p">:</span><span class="w"> </span><span class="err">tts</span><span class="p">,</span><span class="w">
        </span><span class="err">acao_dados</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Você possui uma consulta agendada para amanhã 18h. Aperte 1 para confirmar ou 2 para ser remarcar"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"velocidade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-4"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"tipo_voz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"br-Ricardo"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="err">acao</span><span class="p">:</span><span class="w"> </span><span class="err">transferir</span><span class="p">,</span><span class="w">
        </span><span class="err">opcao</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="err">acao_dados</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"numero_telefone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1132830151"</span><span class="p">,</span><span class="w">
                         </span><span class="s2">"bina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1132830152"</span><span class="w"> 
                    </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w"> 
</span><span class="p">]</span><span class="w">

</span></code></pre>
<p>O composto aceita um JSON com as seguintes opções:
- composto
- tts
- transferir</p>

<p>As regras para o arquivo de áudio são as mesmas:</p>
<h4 id='formatos-aceitos'>Formatos aceitos:</h4>
<ul>
<li>.mp3</li>
<li>.wav</li>
</ul>
<h4 id='tamanho-maximo'>Tamanho máximo:</h4>
<ul>
<li>5MB</li>
</ul>
<h2 id='objeto-composto'>Objeto Composto</h2>
<blockquote>
<p><br></p>

<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:60"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:35"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clienteX"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/gravacao.mp3"</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Definição do objeto Composto</p>
<h4 id='atributos'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro de Áudio.
             </td>
        </tr>
        <tr>
            <td>
                numero_destino
                <span class="attribute">string</span>
            </td>
            <td>
                Número do destinatário que foi enviado o áudio.
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi criado o registro
            </td>
        </tr>
        <tr>
            <td>
                data_inicio
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi iniciado o processamento do áudio
            </td>
        </tr>
        <tr>
            <td>
                tipo
                <span class="attribute">string</span>
            </td>
            <td>
                Tipo de telefone: fixo, móvel ou ramal
            </td>
        </tr>
        <tr>
            <td>
                status
                <span class="attribute">string</span>
            </td>
            <td>
                Status do registro
            </td>
        </tr>
        <tr>
            <td>
                duracao_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos (inteiro) total da chamada desde o início do processamento
            </td>
        </tr>
        <tr>
            <td>
                duracao
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração total da chamada desde o início do processamento
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos para fins de cobrança
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração considerada para fins de cobrança
            </td>
        </tr>
                <tr>
            <td>
                duracao_falada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos da chamada desde que o destino atendeu
            </td>
        </tr>
        <tr>
            <td>
                duracao_falada
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração da chamada desde que o destino atendeu
            </td>
        </tr>
        <tr>
            <td>
                preco
                <span class="attribute">float</span>
            </td>
            <td>
                Valor cobrado pela chamada
            </td>
        </tr>
        <tr>
            <td>
                resposta_usuario
                <span class="attribute">boolean</span>
            </td>
            <td>
                Aguarda a resposta do usuário: sim ou não
            </td>
        </tr>
        <tr>
            <td>
                resposta
                <span class="attribute">string</span>
            </td>
            <td>
                Quando o usuário executa alguma ação no teclado do dispositivo, o valor será exibido neste campo (DTMF).
            </td>
        </tr>
        <tr>
            <td>
                url_gravacao
                <span class="attribute">string</span>
            </td>
            <td>
                Quando enviado a opção Gravar Áudio = true, este campo disponibilizará uma URL contendo o áudio da gravação da ligação.
            </td>
        </tr>
        <tr>
            <td>
                tags
                <span class="attribute">string</span>
            </td>
            <td>
                Parâmetro de integração - informado no post e retornado no get. Ex: "clienteX"
            </td>
        </tr>
        <tr>
            <td>
                motivo_desconexao
                <span class="attribute">string</span>
            </td>
            <td>
                Um dos motivos de desconexão:
<br>
1. telefone não existe<br>
2. sem rota para a rede de destino<br>
3. sem rota para o destino<br>
4. prefixo incorreto<br>
6. canal inaceitavel<br>
7. chamada sendo entregue em canal ja estabelecido<br>
8. call peemption<br>
14. telefone portado para outra operadora<br>
16. normal<br>
17. ocupado<br>
18. sem resposta<br>
19. sem resposta - mas chamou<br>
20. assinante ausente<br>
21. chamada rejeitada<br>
22. este numero mudou<br>
23. redirecionado para novo destino<br>
26. atendido em outro lugar<br>
27. destino nao esta funcionando<br>
28. formato invalido de numero<br>
29. rejeitado<br>
30. resposta para status enquiry<br>
31. normal, nao especificado<br>
34. sem canal disponivel<br>
38. rede com problema<br>
41. falha temporaria<br>
42. equipamento congestionado<br>
44. canal requisitado nao esta disponivel<br>
50. nao cadastrado<br>
52. chamada sainte barrada<br>
54. chamada entrante barrada<br>
57. capacidade nao autorizada<br>
58. erro de midia ou parametros incompativeis<br>
65. capacidade do portador nao implementada<br>
66. tipo de canal nao implementado<br>
69. nao implementado<br>
81. valor de referencia invalido<br>
88. destino incompativel<br>
95. mensagem invalida nao especificada<br>
96. informacao obrigatoria nao presente<br>
97. mensagem nao implementada<br>
98. mensagem nao compativel com o estado da chamada ou nao existente ou nao implementada<br>
99. elemento nao existente ou nao implementada<br>
100. informacao invalida no conteudo dos elementos<br>
101. mensagem nao compativel com o estado da chamada<br>
102. timeout<br>
111. erro de protocolo<br>
127. erro de conectividade<br>

            </td>
        </tr>


    </tbody>
</table>
<h2 id='criar-um-composto'>Criar um Composto</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://api.totalvoice.com.br/composto
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: testeM68PU1Izmb9chEdLzep7IwRymWO'</span> <span class="se">\</span>
             -d <span class="s1">'{"numero_destino":"1132830151","dados":[{"acao":"composto","acao_dados":{"url_composto":"http://fooooo.bar/composto.mp3"}},{"acao":"tts","acao_dados":{"mensagem":"lendo este texto","velocidade":"-4","resposta_usuario":"true","tipo_voz":"br-Ricardo"}},{"acao":"transferir","opcao":1,"acao_dados":{"numero_telefone":"4832830151","bina":"4832830152"}}],"bina":"4832830151","gravar_composto":false,"tags":"clienteX"}'</span> <span class="se">\</span>
             <span class="s1">'https://api.totalvoice.com.br/composto'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'testeM68PU1Izmb9chEdLzep7IwRymWO'</span><span class="p">);</span>

<span class="nv">$dados</span>  <span class="o">=</span> <span class="s1">'[{"acao":"composto","acao_dados":{"url_composto":"http://fooooo.bar/composto.mp3"}},{"acao":"tts","acao_dados":{"mensagem":"lendo este texto","velocidade":"-4","resposta_usuario":"true","tipo_voz":"br-Ricardo"}},{"acao":"transferir","opcao":1,"acao_dados":{"numero_telefone":"4832830151","bina":"4832830152"}}]'</span><span class="p">;</span>
<span class="nv">$bina</span>   <span class="o">=</span> <span class="s1">'11987654321'</span><span class="p">;</span>
<span class="nv">$tags</span>   <span class="o">=</span> <span class="s1">'clienteY'</span><span class="p">;</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">composto</span><span class="o">-&gt;</span><span class="na">enviar</span><span class="p">(</span><span class="s1">'NUMERO-DESTINO'</span><span class="p">,</span> <span class="nv">$dados</span><span class="p">,</span> <span class="nv">$bina</span><span class="p">,</span> <span class="nv">$tags</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">composto</span><span class="p">.</span><span class="nx">enviar</span><span class="p">(</span><span class="s2">"NUMERO-DESTINO"</span><span class="p">,</span> <span class="s1">'[{"acao":"composto","acao_dados":{"url_composto":"http://fooooo.bar/composto.mp3"}},{"acao":"tts","acao_dados":{"mensagem":"lendo este texto","velocidade":"-4","resposta_usuario":"true","tipo_voz":"br-Ricardo"}},{"acao":"transferir","opcao":1,"acao_dados":{"numero_telefone":"4832830151","bina":"4832830152"}}]'</span><span class="p">,</span><span class="s1">'11987654321'</span> <span class="p">,</span> <span class="s1">'tags'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Composto</span><span class="o">.</span><span class="n">Enviar</span><span class="p">(</span><span class="s">"NUMERO-DESTINO"</span><span class="p">,</span><span class="x"> </span><span class="err">'</span><span class="p">[{</span><span class="s">"acao"</span><span class="o">:</span><span class="s">"composto"</span><span class="p">,</span><span class="s">"acao_dados"</span><span class="o">:</span><span class="p">{</span><span class="s">"url_composto"</span><span class="o">:</span><span class="s">"http://fooooo.bar/composto.mp3"</span><span class="p">}},{</span><span class="s">"acao"</span><span class="o">:</span><span class="s">"tts"</span><span class="p">,</span><span class="s">"acao_dados"</span><span class="o">:</span><span class="p">{</span><span class="s">"mensagem"</span><span class="o">:</span><span class="s">"lendo este texto"</span><span class="p">,</span><span class="s">"velocidade"</span><span class="o">:</span><span class="s">"-4"</span><span class="p">,</span><span class="s">"resposta_usuario"</span><span class="o">:</span><span class="s">"true"</span><span class="p">,</span><span class="s">"tipo_voz"</span><span class="o">:</span><span class="s">"br-Ricardo"</span><span class="p">}},{</span><span class="s">"acao"</span><span class="o">:</span><span class="s">"transferir"</span><span class="p">,</span><span class="s">"opcao"</span><span class="o">:</span><span class="m">1</span><span class="p">,</span><span class="s">"acao_dados"</span><span class="o">:</span><span class="p">{</span><span class="s">"numero_telefone"</span><span class="o">:</span><span class="s">"4832830151"</span><span class="p">,</span><span class="s">"bina"</span><span class="o">:</span><span class="s">"4832830152"</span><span class="p">}}]</span><span class="sc">','</span><span class="m">11987654321</span><span class="err">'</span><span class="x"> </span><span class="p">,</span><span class="x"> </span><span class="err">'</span><span class="n">tags</span><span class="err">'</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">,</span> <span class="s">'api.totalvoice.com.br'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">composto</span><span class="o">.</span><span class="n">enviar</span><span class="p">(</span><span class="s">"NUMERO-DESTINO"</span><span class="p">,</span> <span class="s">'[{"acao":"composto","acao_dados":{"url_composto":"http://fooooo.bar/composto.mp3"}},{"acao":"tts","acao_dados":{"mensagem":"lendo este texto","velocidade":"-4","resposta_usuario":"true","tipo_voz":"br-Ricardo"}},{"acao":"transferir","opcao":1,"acao_dados":{"numero_telefone":"4832830151","bina":"4832830152"}}]'</span><span class="p">,</span><span class="s">'11987654321'</span> <span class="p">,</span> <span class="s">'tags'</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="o">);</span>
<span class="n">Composto</span> <span class="n">composto</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Composto</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">composto</span><span class="o">.</span><span class="na">enviar</span><span class="o">(</span><span class="s">"NUMERO-DESTINO"</span><span class="o">,</span> <span class="err">'</span><span class="o">[{</span><span class="s">"acao"</span><span class="o">:</span><span class="s">"composto"</span><span class="o">,</span><span class="s">"acao_dados"</span><span class="o">:{</span><span class="s">"url_composto"</span><span class="o">:</span><span class="s">"http://fooooo.bar/composto.mp3"</span><span class="o">}},{</span><span class="s">"acao"</span><span class="o">:</span><span class="s">"tts"</span><span class="o">,</span><span class="s">"acao_dados"</span><span class="o">:{</span><span class="s">"mensagem"</span><span class="o">:</span><span class="s">"lendo este texto"</span><span class="o">,</span><span class="s">"velocidade"</span><span class="o">:</span><span class="s">"-4"</span><span class="o">,</span><span class="s">"resposta_usuario"</span><span class="o">:</span><span class="s">"true"</span><span class="o">,</span><span class="s">"tipo_voz"</span><span class="o">:</span><span class="s">"br-Ricardo"</span><span class="o">}},{</span><span class="s">"acao"</span><span class="o">:</span><span class="s">"transferir"</span><span class="o">,</span><span class="s">"opcao"</span><span class="o">:</span><span class="mi">1</span><span class="o">,</span><span class="s">"acao_dados"</span><span class="o">:{</span><span class="s">"numero_telefone"</span><span class="o">:</span><span class="s">"4832830151"</span><span class="o">,</span><span class="s">"bina"</span><span class="o">:</span><span class="s">"4832830152"</span><span class="o">}}]</span><span class="sc">','</span><span class="mi">11987654321</span><span class="err">'</span> <span class="o">,</span> <span class="err">'</span><span class="n">tags</span><span class="err">'</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">composto</span><span class="p">.</span><span class="nf">enviar</span><span class="p">(</span><span class="s2">"NUMERO-DESTINO"</span><span class="p">,</span> <span class="s1">'[{"acao":"composto","acao_dados":{"url_composto":"http://fooooo.bar/composto.mp3"}},{"acao":"tts","acao_dados":{"mensagem":"lendo este texto","velocidade":"-4","resposta_usuario":"true","tipo_voz":"br-Ricardo"}},{"acao":"transferir","opcao":1,"acao_dados":{"numero_telefone":"4832830151","bina":"4832830152"}}]'</span><span class="p">,</span><span class="s1">'11987654321'</span> <span class="p">,</span> <span class="s1">'tags'</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"composto criado com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4921</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Basta informar o número de destino válido e um JSON com o composto</p>
<h4 id='request'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                numero_destino
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Número do telefone que irá receber a chamada, formato DDD + Número exemplo: 4832830151
             </td>
        </tr>
        <tr>
            <td>
                dados
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Objeto JSON com a estrutura de TTS, áudio e transferir
            </td>
        </tr>
        <tr>
            <td>
                resposta_usuario
                <span class="optional">Opcional</span>
            </td>
            <td>
                Aguardar uma resposta do destinário
            </td>
        </tr>
        <tr>
            <td>
                gravar_composto
                <span class="optional">Opcional</span>
            </td>
            <td>
                Gravar a ligação
            </td>
        </tr>
        <tr>
            <td>
                bina
                <span class="optional">Opcional</span>
            </td>
            <td>
                Número de telefone que aparecerá no identificador de quem receber a chamada, formato DDD + Número exemplo: 4832830151
            </td>
        </tr>
        <tr>
            <td>
                tags
                <span class="optional">Opcional</span>
            </td>
            <td>
                Campo de texto que será atrelado à ligação e devolvio no momento da ocnsulta.  Ex.: "clienteY"
            </td>
        </tr>

    </tbody>
</table>
<h4 id='response'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Retorna o ID do Composto
             </td>
        </tr>
    </tbody>
</table>
<h2 id='buscar-composto'>Buscar Composto</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://api.totalvoice.com.br/composto/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="s1">'https://api.totalvoice.com.br/composto/1'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'testeM68PU1Izmb9chEdLzep7IwRymWO'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">composto</span><span class="o">-&gt;</span><span class="na">buscaCompost</span><span class="p">(</span><span class="mi">123</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">composto</span><span class="p">.</span><span class="nx">buscar</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Composo</span><span class="o">.</span><span class="n">Buscar</span><span class="p">(</span><span class="m">123</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">,</span> <span class="s">'api.totalvoice.com.br'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">composto</span><span class="o">.</span><span class="n">get_by_id</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="o">);</span>
<span class="n">Composto</span> <span class="n">composto</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Composto</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">composto</span><span class="o">.</span><span class="na">buscar</span><span class="o">(</span><span class="mi">123</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"{{access-token}}"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">composto</span><span class="p">.</span><span class="nf">enviar</span><span class="p">(</span><span class="s2">"NUMERO-DESTINO"</span><span class="p">,</span> <span class="s2">"URL-AUDIO"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:60"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:35"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clienteX"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/gravacao.mp3"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Após o envio de mensagens composto, você poderá realizar a busca do registro pelo seu ID.</p>
<h5 id='request-2'>Request</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                ID
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID do Composto para recuperar os dados
             </td>
        </tr>
    </tbody>
</table>
<h5 id='response-2'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto <a href="#objeto-composto">composto</a>
             </td>
        </tr>
    </tbody>
</table>
<h2 id='relatorio-composto'>Relatório composto</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://api.totalvoice.com.br/composto/relatorio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://api.totalvoice.com.br/composto/relatorio?data_inicio=2018-03-14&amp;data_fim=2018-03-15'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'testeM68PU1Izmb9chEdLzep7IwRymWO'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">composto</span><span class="o">-&gt;</span><span class="na">relatorio</span><span class="p">(</span><span class="nv">$dataInicial</span><span class="p">,</span> <span class="nv">$dataFinal</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">composto</span><span class="p">.</span><span class="nx">relatorio</span><span class="p">(</span><span class="nx">data_inicial</span><span class="p">,</span> <span class="nx">data_final</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Audio</span><span class="o">.</span><span class="n">Relatorio</span><span class="o">.</span><span class="n">Gerar</span><span class="p">(</span><span class="n">dataInicial</span><span class="p">,</span><span class="x"> </span><span class="n">dataFinal</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">,</span> <span class="s">'api.totalvoice.com.br'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">composto</span><span class="o">.</span><span class="n">get_relatorio</span><span class="p">(</span><span class="n">data_inicio</span><span class="p">,</span> <span class="n">data_fim</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="o">);</span>
<span class="n">Audio</span> <span class="n">composto</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Audio</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">composto</span><span class="o">.</span><span class="na">relatorio</span><span class="o">(</span><span class="n">dataInicial</span><span class="o">,</span> <span class="n">dataFinal</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'totalvoice-ruby'</span>
<span class="kp">include</span> <span class="no">TotalVoice</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">TotalVoice</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"{{access-token}}"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">composto</span><span class="p">.</span><span class="nf">enviar</span><span class="p">(</span><span class="s2">"NUMERO-DESTINO"</span><span class="p">,</span> <span class="s2">"URL-AUDIO"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:60"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:35"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clienteX"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/gravacao.mp3"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">433</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:60"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:35"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clienteX"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/gravacao.mp3"</span><span class="w">

      </span><span class="p">}</span><span class="w">

    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Você pode consultar os composto enviados posteriormente. Basta informar o período desejado para que a API retorne os dados.</p>
<h4 id='request-3'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_inicio
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data inicial para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                data_fim
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data final para consulta dos dados no relatório
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response-3'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                relatorio
                <span class="attribute">array</span>
            </td>
            <td>
                Retorna um array com objetos <a href="#objeto-composto">composto</a>
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br></p>
<h1 id='conferencias'>Conferências</h1>
<blockquote>
<p>Conferência Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://api.totalvoice.com.br/conferencia
</code></pre>
<p>Conferências são como salas privadas que você cria e recebe um ID, só você com esse código consegue realizar
chamadas que ao serem atendidas, conectam-se à essa conferência.   </p>
<h2 id='objeto-conferencia'>Objeto Conferência</h2>
<blockquote>
<p><br></p>

<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_termino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"chamadas"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
                  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">46132</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"conferencia_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/gravacao.mp3"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"cli"</span><span class="p">:</span><span class="w"> </span><span class="mi">3132</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:60"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:35"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:13:11+01:00"</span><span class="w">                  
          </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Definição do objeto Conferência</p>
<h4 id='atributos'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificar único da conferência.
             </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi criada a conferência.
            </td>
        </tr>
        <tr>
            <td>
                data_termino
                <span class="attribute">datetime</span>
            </td>
            <td>
               Data e hora que a conferência foi fechada.
            </td>
        </tr>
        <tr>
            <td>
                chamadas
                <span class="attribute">array</span>
            </td>
            <td>
                Lista de objetos de cada <a href="#objeto-chamada-da-conferencia">chamada da conferência</a>.
            </td>
        </tr>
    </tbody>
</table>
<h2 id='objeto-chamada-da-conferencia'>Objeto Chamada da Conferência</h2>
<blockquote>
<p><br></p>

<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">46132</span><span class="p">,</span><span class="w">
    </span><span class="s2">"conferencia_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_gravacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/gravacao.mp3"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cli"</span><span class="p">:</span><span class="w"> </span><span class="mi">3132</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:60"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:35"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:13:11+01:00"</span><span class="w">                  
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Definição do objeto da Chamada da Conferência</p>
<h4 id='atributos-2'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificar único da chamada da conferência. 
             </td>
        </tr>
        <tr>
            <td>
                conferencia_id
                <span class="attribute">id</span>
            </td>
            <td>
                Identificar único da conferência. 
            </td>
        </tr>
        <tr>
            <td>
                url_gravacao
                <span class="attribute">string</span>
            </td>
            <td>
                Endereço URL da gravação desta chamada na conferência.
            </td>
        </tr>
        <tr>
            <td>
                numero
                <span class="attribute">integer</span>
            </td>
            <td>
                Número do destinatário que foi conectado à conferência.
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi criada a chamada.
            </td>
        </tr>
        <tr>
            <td>
                cli
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único do cliente.
            </td>
        </tr>
        <tr>
            <td>
                duracao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Duração total da chamada desde o início do processamento.
            </td>
        </tr>
        <tr>
            <td>
                duracao_cobrada
                <span class="attribute">datetime</span>
            </td>
            <td>
                Duração total da chamada considerada para fins de cobrança.
            </td>
        </tr>
        <tr>
            <td>
                duracao_falada
                <span class="attribute">datetime</span>
            </td>
            <td>
                Duração da chamada desde que o destino atendeu.
            </td>
        </tr>
        <tr>
            <td>
                status
                <span class="attribute">string</span>
            </td>
            <td>
                Estado atual da chamada.
            </td>
        </tr>
        <tr>
            <td>
                preco
                <span class="attribute">float</span>
            </td>
            <td>
                Valor cobrado por por esta chamada da conferência.
            </td>
        </tr>
        <tr>
            <td>
                data_inicio
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data do inicio da chamada.
            </td>
        </tr>
    </tbody>
</table>
<h2 id='criar-conferencia'>Criar conferência</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://api.totalvoice.com.br/conferencia
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
             -d <span class="s1">'{"numero_destino":"4811111111","url_conferencia":"http://foo.bar/conferencia.mp3"}'</span> <span class="se">\</span>
             <span class="s1">'https://api.totalvoice.com.br/conferencia'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'testeM68PU1Izmb9chEdLzep7IwRymWO'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">conferencia</span><span class="o">-&gt;</span><span class="na">enviar</span><span class="p">(</span><span class="s1">'NUMERO-DESTINO'</span><span class="p">,</span> <span class="s1">'http://foo.bar/conferencia.mp3'</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">conferencia</span><span class="p">.</span><span class="nx">enviar</span><span class="p">(</span><span class="s2">"4811111111"</span><span class="p">,</span> <span class="s2">"http://foo.bar/conferencia.mp3"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Conferencia</span><span class="o">.</span><span class="n">Enviar</span><span class="p">(</span><span class="s">"4811111111"</span><span class="p">,</span><span class="x"> </span><span class="s">"http://foo.bar/conferencia.mp3"</span><span class="p">,</span><span class="x"> </span><span class="no">false</span><span class="p">,</span><span class="x"> </span><span class="s">""</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">,</span> <span class="s">'api.totalvoice.com.br'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">conferencia</span><span class="o">.</span><span class="n">enviar</span><span class="p">(</span><span class="s">"4811111111"</span><span class="p">,</span> <span class="s">"http://foo.bar/conferencia.mp3"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="o">);</span>
<span class="n">Conferencia</span> <span class="n">conferencia</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Conferencia</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">conferencia</span><span class="o">.</span><span class="na">enviar</span><span class="o">(</span><span class="s">"4811111111"</span><span class="o">,</span> <span class="s">"http://foo.bar/conferencia.mp3"</span><span class="o">);</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"conferencia criado com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4921</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Basta informar o número de destino válido e a URL pública do arquivo.</p>
<h4 id='request'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                numero_destino
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Número do telefone que irá receber a chamada, formato DDD + Número exemplo: 4832830151
             </td>
        </tr>
        <tr>
            <td>
                url_conferencia
                <span class="required">Obrigatório</span>
            </td>
            <td>
                URL do conferencia formato MP3, exemplo: http://foo.bar/conferencia.mp3
            </td>
        </tr>
        <tr>
            <td>
                resposta_usuario
                <span class="optional">Opcional</span>
            </td>
            <td>
                Aguardar uma resposta do destinário
            </td>
        </tr>
        <tr>
            <td>
                gravar_conferencia
                <span class="optional">Opcional</span>
            </td>
            <td>
                Gravar a ligação
            </td>
        </tr>
        <tr>
            <td>
                bina
                <span class="optional">Opcional</span>
            </td>
            <td>
                Número de telefone que aparecerá no identificador de quem receber a chamada, formato DDD + Número exemplo: 4832830151
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Retorna o ID do Conferência
             </td>
        </tr>
    </tbody>
</table>
<h2 id='buscar-conferencia'>Buscar conferência</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://api.totalvoice.com.br/conferencia/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="s1">'https://api.totalvoice.com.br/conferencia/1'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'testeM68PU1Izmb9chEdLzep7IwRymWO'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">conferencia</span><span class="o">-&gt;</span><span class="na">buscaConferencia</span><span class="p">(</span><span class="mi">123</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">conferencia</span><span class="p">.</span><span class="nx">buscar</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Conferencia</span><span class="o">.</span><span class="n">Buscar</span><span class="p">(</span><span class="m">123</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">,</span> <span class="s">'api.totalvoice.com.br'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">conferencia</span><span class="o">.</span><span class="n">get_by_id</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="o">);</span>
<span class="n">Conferencia</span> <span class="n">conferencia</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Conferencia</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">conferencia</span><span class="o">.</span><span class="na">buscar</span><span class="o">(</span><span class="mi">123</span><span class="o">);</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:60"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:35"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_conferencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/conferencia.mp3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Após o envio de mensagens de conferência, você poderá realizar a busca do registro pelo seu ID.</p>
<h5 id='request-2'>Request</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                ID
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID do Conferência para recuperar os dados
             </td>
        </tr>
    </tbody>
</table>
<h5 id='response-2'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto <a href="#objeto-conferencia">conferência</a>
             </td>
        </tr>
    </tbody>
</table>
<h2 id='encerrar-conferencia'>Encerrar conferência</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://api.totalvoice.com.br/conferencia/relatorio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://api.totalvoice.com.br/conferencia/relatorio?data_inicio=2018-03-14&amp;data_fim=2018-03-15'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'testeM68PU1Izmb9chEdLzep7IwRymWO'</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">conferencia</span><span class="o">-&gt;</span><span class="na">relatorio</span><span class="p">(</span><span class="nv">$dataInicial</span><span class="p">,</span> <span class="nv">$dataFinal</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">conferencia</span><span class="p">.</span><span class="nx">relatorio</span><span class="p">(</span><span class="nx">data_inicial</span><span class="p">,</span> <span class="nx">data_final</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span><span class="x">
 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Conferencia</span><span class="o">.</span><span class="n">Relatorio</span><span class="o">.</span><span class="n">Gerar</span><span class="p">(</span><span class="n">dataInicial</span><span class="p">,</span><span class="x"> </span><span class="n">dataFinal</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">,</span> <span class="s">'api.totalvoice.com.br'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">conferencia</span><span class="o">.</span><span class="n">get_relatorio</span><span class="p">(</span><span class="n">data_inicio</span><span class="p">,</span> <span class="n">data_fim</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="o">);</span>
<span class="n">Conferencia</span> <span class="n">conferencia</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Conferencia</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">conferencia</span><span class="o">.</span><span class="na">relatorio</span><span class="o">(</span><span class="n">dataInicial</span><span class="o">,</span> <span class="n">dataFinal</span><span class="o">);</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:60"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:35"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_conferencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/conferencia.mp3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ocupado"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:10"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url_conferencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/conferencia.mp3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Você pode consultar os conferências enviados posteriormente. Basta informar o período desejado para que a API retorne os dados.</p>
<h4 id='request-3'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_inicio
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data inicial para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                data_fim
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data final para consulta dos dados no relatório
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response-3'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                relatorio
                <span class="attribute">array</span>
            </td>
            <td>
                Retorna um array com objetos <a href="#objeto-conferencia">conferência</a>
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br></p>
<h1 id='dids'>DIDs</h1><h2 id='criar-um'>Criar um</h2>
<blockquote>
<p>post audio</p>
</blockquote>
<h2 id='buscar-um'>Buscar um</h2>
<blockquote>
<p>Exemplo</p>
</blockquote>
<h2 id='editar-um'>Editar um</h2>
<blockquote>
<p>Exemplo</p>
</blockquote>
<h2 id='listtar-todos-os'>Listtar todos os</h2>
<blockquote>
<p>Exemplo</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'testeM68PU1Izmb9chEdLzep7IwRymWO'</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"{{access-token}}"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">chamada</span><span class="p">.</span><span class="nx">ligar</span><span class="p">(</span><span class="s2">"4832830151"</span><span class="p">,</span> <span class="s2">"4811111111"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
    </span><span class="s">"fmt"</span><span class="x">

    </span><span class="s">"github.com/totalvoice/totalvoice-go"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"{{access-token}}"</span><span class="p">)</span><span class="x">
    </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Chamada</span><span class="o">.</span><span class="n">Criar</span><span class="p">(</span><span class="s">"4811111111"</span><span class="p">,</span><span class="x"> </span><span class="s">"4822222222"</span><span class="p">,</span><span class="x"> </span><span class="no">nil</span><span class="p">)</span><span class="x">

    </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="nb">panic</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
    </span><span class="p">}</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">response</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">cliente</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"{{access-token}}"</span><span class="p">,</span> <span class="s">'HOST'</span><span class="p">)</span> <span class="c">#ex: api.totalvoice.com.br</span>

<span class="c">#Cria chamada</span>
<span class="n">numero_origem</span> <span class="o">=</span> <span class="s">"48999999999"</span>
<span class="n">numero_destino</span> <span class="o">=</span> <span class="s">"48900000000"</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">cliente</span><span class="o">.</span><span class="n">chamada</span><span class="o">.</span><span class="n">enviar</span><span class="p">(</span><span class="n">numero_origem</span><span class="p">,</span> <span class="n">numero_destino</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kn">package</span> <span class="n">br</span><span class="o">.</span><span class="na">com</span><span class="o">.</span><span class="na">totalvoice</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">br.com.totalvoice.api.Chamada</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.json.JSONObject</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span> <span class="n">args</span><span class="o">[])</span> <span class="o">{</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"{{access-token}}"</span><span class="o">);</span>
            <span class="n">Chamada</span> <span class="n">chamada</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Chamada</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

            <span class="n">JSONObject</span> <span class="n">result</span> <span class="o">=</span> <span class="n">chamada</span><span class="o">.</span><span class="na">ligar</span><span class="o">(</span><span class="s">"NUMEROA"</span><span class="o">,</span> <span class="s">"NUMEROB"</span><span class="o">);</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">result</span><span class="o">);</span>

        <span class="o">}</span> <span class="k">catch</span><span class="o">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">ex</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>Para autenticar sua conta você deve incluir na requisição HTTP o cabeçalho <strong>Access-Token</strong>, 
colocando no valor o token disponibilizado na sua Dashboard da TotalVoice, tome sempre cuidado, não forneça seu token
para ninguém e nem deixe ele exposto no código, seu token contém muitos privilégios. </p>

<p><code>Access-Token: testeM68PU1Izmb9chEdLzep7IwRymWO</code></p>

<p>As bibliotecas disponibilizadas pela TotalVoice já fazem a autenticação no cabeçalho HTTP transparentemente. </p>
<h1 id='gerenciar-contas'>Gerenciar Contas</h1>
<blockquote>
<p>Gerenciar Contas End Point</p>
</blockquote>
<pre class="highlight plaintext"><code>https://api.totalvoice.com.br/conta
</code></pre>
<p>Com a funcionalidade de Gerente de Contas você pode criar, consultar, alterar e deletar contas filhas, sendo as contas filhas exatamente iguais à qualquer outra conta na TotalVoice,
apenas são vínculadas com uma conta pai que tem o controle sobre ela, tendo o intuíto de realizar integrações e automatizar processos de uso e revenda de serviços da API.</p>

<aside class="warning">
A funcionalidade de Gerente de Contas, é um acesso especial que precisa ser liberado por nossa equipe, caso tenha interesse, entrar em contato por telefone com a equipe de Vendas.
</aside>
<h2 id='objeto-conta'>Objeto Conta</h2>
<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3132</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Total Voice Telecom"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cpf_cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00.000.000/0000-00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"totalvoice@totalvoice.com.br"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"saldo"</span><span class="p">:</span><span class="w"> </span><span class="mf">999.99</span><span class="p">,</span><span class="w">
    </span><span class="s2">"telefone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_fixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.060"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_cel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.350"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email_financeiro"</span><span class="p">:</span><span class="w"> </span><span class="s2">"totalvoice@totalvoice.com.br"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome_fantasia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Total Voice"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"metodo_pagamento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prepago"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fatura_atual"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Definição do objeto Conta</p>
<h4 id='atributos'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único da Conta.
             </td>
        </tr>
        <tr>
            <td>
                nome
                <span class="attribute">string</span>
            </td>
            <td>
                Nome cadastrado para a conta.
            </td>
        </tr>
        <tr>
            <td>
                cpf_cnpj
                <span class="attribute">string</span>
            </td>
            <td>
                CPF ou CNPJ cadastrado da conta.
            </td>
        </tr>
        <tr>
            <td>
                login
                <span class="attribute">string</span>
            </td>
            <td>
                Login da conta, utilizado para entrar no painel da TotalVoice.
            </td>
        </tr>
        <tr>
            <td>
                saldo
                <span class="attribute">float</span>
            </td>
            <td>
                Saldo atual disponível para utilização na conta.
            </td>
        </tr>
        <tr>
            <td>
                telefone
                <span class="attribute">string</span>
            </td>
            <td>
                Telefone de contato cadastrado para a conta.
            </td>
        </tr>
        <tr>
            <td>
                access_token
                <span class="attribute">string</span>
            </td>
            <td>
                Token de acesso desta conta, utilizado para realizar a autenticação na API. 
            </td>
        </tr>
        <tr>
            <td>
                preco_fixo
                <span class="attribute">string</span>
            </td>
            <td>
                Valor cobrado por minuto para realização de chamadas para telefones fixos através desta conta.
            </td>
        </tr>
        <tr>
            <td>
                preco_cel
                <span class="attribute">string</span>
            </td>
            <td>
                Valor cobrado por minuto para realização de chamadas para telefones móveis através desta conta.
            </td>
        </tr>
        <tr>
            <td>
                preco_ramal
                <span class="attribute">string</span>
            </td>
            <td>
                Valor cobrado por minuto para realização de chamadas entre Ramais desta mesma conta.
            </td>
        </tr>
                <tr>
            <td>
                email_financeiro
                <span class="attribute">string</span>
            </td>
            <td>
                E-mail de contato reponsável pelo financeiro desta conta, é utilizado para confirmação de transações, recargas e avisos.
            </td>
        </tr>
        <tr>
            <td>
                nome_fantasia
                <span class="attribute">string</span>
            </td>
            <td>
                Nome fantasia da empresa desta conta, quando atribuido, aparece nos logins e nas informações no lugar do nome principal.
            </td>
        </tr>
        <tr>
            <td>
                metodo_pagamento
                <span class="attribute">string</span>
            </td>
            <td>
                Método de pagamento desta conta, atualmente só existe o método Pré Pago.
            </td>
        </tr>
        <tr>
            <td>
                fatura_atual
                <span class="attribute">float</span>
            </td>
            <td>
                Valor da fatura atual da conta.
            </td>
        </tr>
    </tbody>
</table>
<h2 id='criar-conta'>Criar Conta</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://api.totalvoice.com.br/conta
</code></pre>
<blockquote>
<p><br/>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl <span class="s1">'https://api.totalvoice.com.br/conta'</span> <span class="se">\</span>
    -X POST <span class="se">\ </span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --header <span class="s1">'Access-Token: testeM68PU1Izmb9chEdLzep7IwRymWO'</span> <span class="se">\</span>
    -d <span class="s1">'{"nome" : "Total Voice", "login" : "totalvoice@totalvoice.com.br", "senha" : "senha123"}'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'testeM68PU1Izmb9chEdLzep7IwRymWO'</span><span class="p">);</span>

<span class="nv">$conta_dados</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"nome"</span> <span class="o">=&gt;</span> <span class="s2">"Total Voice"</span><span class="p">,</span> 
    <span class="s2">"login"</span> <span class="o">=&gt;</span> <span class="s2">"totalvoice@totalvoice.com.br"</span><span class="p">,</span> 
    <span class="s2">"senha"</span> <span class="o">=&gt;</span> <span class="s2">"senha123"</span>
<span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">conta</span><span class="o">-&gt;</span><span class="na">criar</span><span class="p">(</span><span class="nv">$conta_dados</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">conta_dados</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">nome</span><span class="p">:</span> <span class="s2">"Total Voice"</span><span class="p">,</span> 
    <span class="na">login</span><span class="p">:</span> <span class="s2">"totalvoice@totalvoice.com.br"</span><span class="p">,</span> 
    <span class="na">senha</span><span class="p">:</span> <span class="s2">"senha123"</span>
<span class="p">};</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">conta</span><span class="p">.</span><span class="nx">criar</span><span class="p">(</span><span class="nx">conta_dados</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span><span class="x">

</span><span class="n">conta</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="nb">new</span><span class="p">(</span><span class="n">Conta</span><span class="p">)</span><span class="x">
</span><span class="n">conta</span><span class="o">.</span><span class="n">Nome</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="s">"Total Voice"</span><span class="x">
</span><span class="n">conta</span><span class="o">.</span><span class="n">Login</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="s">"totalvoice@totalvoice.com.br"</span><span class="x">
</span><span class="n">conta</span><span class="o">.</span><span class="n">Senha</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="s">"senha123"</span><span class="x">

</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Conta</span><span class="o">.</span><span class="n">Criar</span><span class="p">(</span><span class="n">conta</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">,</span> <span class="s">'api.totalvoice.com.br'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">conta</span><span class="o">.</span><span class="n">criar_conta</span><span class="p">(</span><span class="s">"Total Voice"</span><span class="p">,</span> <span class="s">"totalvoice@totalvoice.com.br"</span><span class="p">,</span> <span class="s">"senha123"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="o">);</span>
<span class="n">Conta</span> <span class="n">conta</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Conta</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">contaDados</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">contaDados</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"nome"</span><span class="o">,</span> <span class="s">"Total Voice"</span><span class="o">);</span>
<span class="n">contaDados</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"login"</span><span class="o">,</span> <span class="s">"totalvoice@totalvoice.com.br"</span><span class="o">);</span>
<span class="n">contaDados</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"senha"</span><span class="o">,</span> <span class="s">"senha123"</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">conta</span><span class="o">.</span><span class="na">criar</span><span class="o">(</span><span class="n">contaDados</span><span class="o">);</span>
</code></pre>
<blockquote>
<p><br/>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"conta criada com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3132</span><span class="p">,</span><span class="w">
        </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Cria uma nova conta filha.</p>
<h4 id='request'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                nome
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Nome para a nova conta filha.
             </td>
        </tr>
        <tr>
            <td>
                login
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Login para a nova conta, precisa ser um endereço de e-mail válido.
            </td>
        </tr>
        <tr>
            <td>
                senha
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Senha para esta nova conta, deve ter mais que 6 caracteres.
            </td>
        </tr>
        <tr>
            <td>
                cpf_cnpj
                <span class="optional">Opcional</span>
            </td>
            <td>
                CPF ou CNPJ desta conta, para fim de identificação e integração.
            </td>
        </tr>
        <tr>
            <td>
                telefone
                <span class="optional">Opcional</span>
            </td>
            <td>
                Número de telefone de contato desta conta, precisa ser um número de telefone válido.
            </td>
        </tr>
        <tr>
            <td>
                preco_fixo
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamadas destinadas à números fixos, deve ser maior ou igual ao da conta pai, por padrão vem o valor igual ao atual.
            </td>
        </tr>
        <tr>
            <td>
                preco_cel
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamadas destinadas à números móveis, deve ser maior ou igual ao da conta pai, por padrão vem o valor igual ao atual.
            </td>
        </tr>
        <tr>
            <td>
                preco_ramal
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamada entre Ramais dentro dela mesma, deve ser maior ou igual ao valor da conta pai, por padrão vem o valor igual ao atual.
            </td>
        </tr>
        <tr>
            <td>
                email_financeiro
                <span class="optional">Opcional</span>
            </td>
            <td>
                E-mail de contato para assuntos financeiros da nova conta, por padrão vem o e-mail da conta pai.
            </td>
        </tr>
        <tr>
            <td>
                nome_fantasia
                <span class="optional">Opcional</span>
            </td>
            <td>
                Nome fantasia desta conta que será utilizado para exibição.
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único da conta criada.
             </td>
        </tr>
        <tr>
            <td>
                access_token
                <span class="attribute">string</span>
            </td>
            <td>
                Token que deverá ser utilizado por esta nova conta para acessar os serviços da API.
             </td>
        </tr>
    </tbody>
</table>
<h2 id='buscar-conta'>Buscar Conta</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://api.totalvoice.com.br/conta/{id}
</code></pre>
<blockquote>
<p><br/>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl <span class="s1">'https://api.totalvoice.com.br/conta/3132'</span> <span class="se">\</span>
    -X GET <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --header <span class="s1">'Access-Token: testeM68PU1Izmb9chEdLzep7IwRymWO'</span> 
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'testeM68PU1Izmb9chEdLzep7IwRymWO'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">conta</span><span class="o">-&gt;</span><span class="na">buscaConta</span><span class="p">(</span><span class="mi">3132</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">conta</span><span class="p">.</span><span class="nx">buscar</span><span class="p">(</span><span class="mi">3132</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Conta</span><span class="o">.</span><span class="n">Buscar</span><span class="p">(</span><span class="m">3132</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">,</span> <span class="s">'api.totalvoice.com.br'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">conta</span><span class="o">.</span><span class="n">get_by_id</span><span class="p">(</span><span class="mi">3132</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="o">);</span>
<span class="n">Conta</span> <span class="n">conta</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Conta</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">conta</span><span class="o">.</span><span class="na">buscar</span><span class="o">(</span><span class="mi">3132</span><span class="o">);</span>
</code></pre>
<blockquote>
<p><br/>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3132</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Total Voice"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cpf_cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00.000.000/0000-00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"totalvoice@totalvoice.com.br"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"saldo"</span><span class="p">:</span><span class="w"> </span><span class="mf">99.01</span><span class="p">,</span><span class="w">
        </span><span class="s2">"telefone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco_fixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.060"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco_cel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.350"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco_ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email_financeiro"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contato@totalvoice.com.br"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nome_fantasia"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"metodo_pagamento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prepago"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fatura_atual"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p><br/><br/><br/></p>
</blockquote>

<p>Busca os detalhes de uma conta filha.</p>
<h5 id='request-2'>Request</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Identificador único da conta filha que você deseja buscar.
             </td>
        </tr>
    </tbody>
</table>
<h5 id='response-2'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto <a href="#objeto-conta">Conta</a>
             </td>
        </tr>
    </tbody>
</table>
<h2 id='alterar-conta'>Alterar Conta</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>PUT https://api.totalvoice.com.br/conta/{id}
</code></pre>
<blockquote>
<p><br/>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl <span class="s1">'https://api.totalvoice.com.br/conta/3132'</span> <span class="se">\</span>
    -X PUT <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --header <span class="s1">'Access-Token: testeM68PU1Izmb9chEdLzep7IwRymWO'</span> <span class="se">\</span>
    -d <span class="s1">'{"senha" : "senha123456"}'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'testeM68PU1Izmb9chEdLzep7IwRymWO'</span><span class="p">);</span>

<span class="nv">$conta_dados</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">"senha"</span> <span class="o">=&gt;</span> <span class="s2">"senha123456"</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">conta</span><span class="o">-&gt;</span><span class="na">atualizar</span><span class="p">(</span><span class="mi">3132</span><span class="p">,</span> <span class="nv">$conta_dados</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">conta_dados</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">senha</span><span class="p">:</span> <span class="s2">"senha123456"</span>
<span class="p">};</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">conta</span><span class="p">.</span><span class="nx">atualizar</span><span class="p">(</span><span class="mi">3132</span><span class="p">,</span> <span class="nx">conta_dados</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span><span class="x">

</span><span class="n">conta</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="nb">new</span><span class="p">(</span><span class="n">Conta</span><span class="p">)</span><span class="x">
</span><span class="n">conta</span><span class="o">.</span><span class="n">senha</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="s">"senha123"</span><span class="x">

</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Conta</span><span class="o">.</span><span class="n">Atualizar</span><span class="p">(</span><span class="n">conta</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">,</span> <span class="s">'api.totalvoice.com.br'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">conta</span><span class="o">.</span><span class="n">editar_conta</span><span class="p">(</span><span class="s">"Total Voice"</span><span class="p">,</span> <span class="s">"totalvoice@totalvoice.com.br"</span><span class="p">,</span> <span class="s">"senha123"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="o">);</span>
<span class="n">Conta</span> <span class="n">conta</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Conta</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">contaDados</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">contaDados</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"id"</span><span class="o">,</span> <span class="mi">3132</span><span class="o">);</span>
<span class="n">contaDados</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"senha"</span><span class="o">,</span> <span class="s">"senha123"</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">conta</span><span class="o">.</span><span class="na">atualizar</span><span class="o">(</span><span class="n">contaDados</span><span class="o">);</span>
</code></pre>
<blockquote>
<p><br/>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados atualizados com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Altera as informações de uma conta já existente, você precisa passar na URL o ID da conta e no corpo do request o JSON com os campos que serão alterados, conforme exemplos.</p>
<h4 id='request-3'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                nome
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo nome para a conta que você deseja alterar
             </td>
        </tr>
        <tr>
            <td>
                login
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo login para a conta, precisa ser um endereço de e-mail válido.
            </td>
        </tr>
        <tr>
            <td>
                senha
                <span class="optional">Opcional</span>
            </td>
            <td>
                Nova senha para esta conta, deve ter mais que 6 caracteres.
            </td>
        </tr>
        <tr>
            <td>
                cpf_cnpj
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo CPF ou CNPJ desta conta, para fim de identificação e integração.
            </td>
        </tr>
        <tr>
            <td>
                telefone
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo número de telefone de contato desta conta, precisa ser um número de telefone válido.
            </td>
        </tr>
        <tr>
            <td>
                preco_fixo
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamadas destinadas à números fixos, deve ser maior ou igual ao da conta pai.
            </td>
        </tr>
        <tr>
            <td>
                preco_cel
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamadas destinadas à números móveis, deve ser maior ou igual ao da conta pai.
            </td>
        </tr>
        <tr>
            <td>
                preco_ramal
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamada entre Ramais dentro dela mesma, deve ser maior ou igual ao valor da conta pai.
            </td>
        </tr>
        <tr>
            <td>
                email_financeiro
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo e-mail de contato para assuntos financeiros desta conta.
            </td>
        </tr>
        <tr>
            <td>
                nome_fantasia
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo nome fantasia desta conta que será utilizado para exibição.
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response-3'>Response</h4>
<p><br/>
Retorna o objeto <a href="#respostas-da-api">resposta padrão</a> da API com sucesso ou falha.</p>
<h2 id='deletar-conta'>Deletar Conta</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>DELETE https://api.totalvoice.com.br/conta/{id}
</code></pre>
<blockquote>
<p><br/>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl <span class="s1">'https://api.totalvoice.com.br/conta/3132'</span> <span class="se">\</span>
    -X DELETE <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --header <span class="s1">'Access-Token: testeM68PU1Izmb9chEdLzep7IwRymWO'</span> <span class="se">\</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'testeM68PU1Izmb9chEdLzep7IwRymWO'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">conta</span><span class="o">-&gt;</span><span class="na">excluir</span><span class="p">(</span><span class="mi">3132</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">conta</span><span class="p">.</span><span class="nx">excluir</span><span class="p">(</span><span class="mi">3132</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Conta</span><span class="o">.</span><span class="n">Excluir</span><span class="p">(</span><span class="m">3132</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">,</span> <span class="s">'api.totalvoice.com.br'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">conta</span><span class="o">.</span><span class="n">deletar</span><span class="p">(</span><span class="mi">3132</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="o">);</span>
<span class="n">Conta</span> <span class="n">conta</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Conta</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">conta</span><span class="o">.</span><span class="na">excluir</span><span class="o">(</span><span class="mi">3132</span><span class="o">);</span>
</code></pre>
<blockquote>
<p><br/>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Conta Removida com sucesso."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p><br/><br/><br/></p>
</blockquote>

<p>Deleta permanentemente uma conta filha, ficando indisponível para posterior consulta, 
tome muito cuidado ao executar este comando, após deletada, a conta filha irá perder todos os acessos à TotalVoice, 
com isso o login utilizdo ficará disponível (pois não é possível logins duplicados na API).</p>
<h5 id='request-4'>Request</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Identificador único da conta filha que você deseja deletar.
             </td>
        </tr>
    </tbody>
</table>
<h4 id='response-4'>Response</h4>
<p><br/>
Retorna o objeto <a href="#respostas-da-api">resposta padrão</a> da API com sucesso ou falha.</p>
<h2 id='relatorio-de-contas'>Relatório de Contas</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://api.totalvoice.com.br/conta/relatorio
</code></pre>
<blockquote>
<p><br/>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl <span class="s1">'https://api.totalvoice.com.br/conta/relatorio'</span> <span class="se">\</span>
    -X GET <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --header <span class="s1">'Access-Token: testeM68PU1Izmb9chEdLzep7IwRymWO'</span> 
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'testeM68PU1Izmb9chEdLzep7IwRymWO'</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">conta</span><span class="o">-&gt;</span><span class="na">relatorio</span><span class="p">();</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">conta</span><span class="p">.</span><span class="nx">relatorio</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span><span class="x">
</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Conta</span><span class="o">.</span><span class="n">Relatorio</span><span class="o">.</span><span class="n">Gerar</span><span class="p">()</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">,</span> <span class="s">'api.totalvoice.com.br'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">conta</span><span class="o">.</span><span class="n">get_relatorio</span><span class="p">()</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="o">);</span>
<span class="n">Conta</span> <span class="n">conta</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Conta</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">conta</span><span class="o">.</span><span class="na">relatorio</span><span class="o">();</span>
</code></pre>
<blockquote>
<p><br/>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3132</span><span class="p">,</span><span class="w">
          </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Total Voice"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"cpf_cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00.000.000/0000-00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"totalvoice@totalvoice.com.br"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"saldo"</span><span class="p">:</span><span class="w"> </span><span class="mf">99.01</span><span class="p">,</span><span class="w">
          </span><span class="s2">"telefone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"preco_fixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.060"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"preco_cel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.350"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"preco_ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"email_financeiro"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contato@totalvoice.com.br"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"nome_fantasia"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"metodo_pagamento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prepago"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fatura_atual"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3133</span><span class="p">,</span><span class="w">
          </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Total Voice Filial 2"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"cpf_cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00.000.000/1111-11"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"totalvoice_filial_2@totalvoice.com.br"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"saldo"</span><span class="p">:</span><span class="w"> </span><span class="mf">99.01</span><span class="p">,</span><span class="w">
          </span><span class="s2">"telefone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"teste228PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"preco_fixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.060"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"preco_cel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.350"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"preco_ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"email_financeiro"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contato@totalvoice.com.br"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"nome_fantasia"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"metodo_pagamento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prepago"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fatura_atual"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p><br/><br/><br/></p>
</blockquote>

<p>Retorna um relatório com todas as suas contas filhas. As contas retornadas no relatório vem ordenadas por data de criação.</p>
<h4 id='response-5'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                relatorio
                <span class="attribute">array</span>
            </td>
            <td>
                Retorna um array com objetos <a href="#objeto-conta">conta</a>
             </td>
        </tr>
    </tbody>
</table>

<p><br/>
<br/></p>
<h1 id='minha-conta'>Minha Conta</h1>
<blockquote>
<p>Minha Conta Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://api.totalvoice.com.br/conta
</code></pre>
<blockquote>
<p>Saldo Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://api.totalvoice.com.br/saldo
</code></pre>
<blockquote>
<p>Webhook Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://api.totalvoice.com.br/webhook 
</code></pre>
<p>O <strong>Minha Conta</strong> permite que você visualize seu saldo, monitore suas contas e suas recargas,
edite suas contas e configure e visualize seus webhooks.</p>
<h3 id='objeto-minha-conta'>Objeto Minha Conta</h3>
<blockquote>
<p><br></p>

<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Total Voice Telecom"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contato@totalvoice.com.br"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"senha"</span><span class="p">:</span><span class="w"> </span><span class="s2">"senha secreta"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cpf_cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00.000.000/0000-00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"telefone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_fixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.09"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_cel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.35"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.02"</span><span class="w">
    </span><span class="s2">"email_financeiro"</span><span class="p">:</span><span class="w"> </span><span class="s2">"financeiro@totalvoice.com.br"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome_fantasia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Total Voice"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Definição do objeto Conta</p>
<h4 id='atributos'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                nome
                <span class="attribute">string</span>
            </td>
            <td>
                Nome da conta.
             </td>
        </tr>
        <tr>
            <td>
                login
                <span class="attribute">string</span>
            </td>
            <td>
                Login de acesso da sua conta
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">senha</span>
            </td>
            <td>
                Senha de acesso da sua conta
            </td>
        </tr>
        <tr>
            <td>
                cpf_cnpj
                <span class="attribute">string</span>
            </td>
            <td>
                CPF ou CNPJ da sua conta
            </td>
        </tr>
        <tr>
            <td>
                telefone
                <span class="attribute">string</span>
            </td>
            <td>
                Telefone da sua conta
            </td>
        </tr>
        <tr>
            <td>
                preco_fixo
                <span class="attribute">string</span>
            </td>
            <td>
                Preço por minuto do fixo
            </td>
        </tr>
        <tr>
            <td>
                preco_cel
                <span class="attribute">string</span>
            </td>
            <td>
                Preço por minuto para celular
            </td>
        </tr>
        <tr>
        <tr>
            <td>
                preco_ramal
                <span class="attribute">string</span>
            </td>
            <td>
                Preço por minuto do ramal
            </td>
        </tr>
        <tr>
            <td>
                email_financeiro
                <span class="attribute">string</span>
            </td>
            <td>
                E-mail do financeiro da sua empresa
            </td>
        </tr>
        <tr>
            <td>
                nome_fantasia
                <span class="attribute">string</span>
            </td>
            <td>
                Nome fantasia da sua empresa
            </td>
        </tr>
    </tbody>
</table>
<h3 id='objeto-resposta-minha-conta'>Objeto Resposta Minha Conta</h3>
<blockquote>
<p><br></p>

<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14681</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DesenvolvimentoTotalVoice"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cpf_cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.042.833/0001-02"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"desenvolvimento@totalvoice.com.br"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"saldo"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.00</span><span class="p">,</span><span class="w">
    </span><span class="s2">"telefone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acces_token"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_fixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.060"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_cel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.350"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email_financeiro"</span><span class="p">:</span><span class="w"> </span><span class="s2">"financeiro@totalvoice.com.br"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome_fantasia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TotalVoice"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"metodo_pagamento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prepago"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Definição do objeto resposta Minha Conta</p>
<h4 id='atributos-2'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro da sua conta
             </td>
        </tr>
        <tr>
            <td>
                nome
                <span class="attribute">string</span>
            </td>
            <td>
                Nome da sua conta
             </td>
        </tr>
        <tr>
            <td>
                cpf_cnpj
                <span class="attribute">string</span>
            </td>
            <td>
                CPF ou CNPJ da sua conta
            </td>
        </tr>
        <tr>
            <td>
                login
                <span class="attribute">string</span>
            </td>
            <td>
                Login de acesso da sua conta
            </td>
        </tr>
        <tr>
            <td>
                saldo
                <span class="attribute">float</span>
            </td>
            <td>
                Saldo atual da conta
            </td>
        </tr>
        <tr>
            <td>
                telefone
                <span class="attribute">string</span>
            </td>
            <td>
                Telefone da sua conta
            </td>
        </tr>
        <tr>
            <td>
                access_token
                <span class="attribute">string</span>
            </td>
            <td>
                Access Token da sua conta
            </td>
        </tr>
        <tr>
            <td>
                preco_fixo
                <span class="attribute">string</span>
            </td>
            <td>
                Preço por minuto para fixo
            </td>
        </tr>
        <tr>
            <td>
                preco_cel
                <span class="attribute">string</span>
            </td>
            <td>
                Preço por minuto para celulares
            </td>
        </tr>
        <tr>
            <td>
                preco_ramal
                <span class="attribute">string</span>
            </td>
            <td>
                Preço por minuto para ramal
            </td>
        </tr>
        <tr>
            <td>
                email_financeiro
                <span class="attribute">string</span>
            </td>
            <td>
                E-mail do financeiro da sua empresa
            </td>
        </tr>
        <tr>
            <td>
                nome_fantasia
                <span class="attribute">string</span>
            </td>
            <td>
                Nome fantasia da sua empresa
            </td>
        </tr>
        <tr>
            <td>
                metodo_pagamento
                <span class="attribute">string</span>
            </td>
            <td>
                Método de faturamento da sua conta
            </td>
        </tr>
    </tbody>
</table>
<h3 id='saldo-da-conta'>Saldo da Conta</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://api.totalvoice.com.br/saldo
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://api.totalvoice.com.br/saldo'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">perfil</span><span class="o">-&gt;</span><span class="na">consultaSaldo</span><span class="p">();</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kd">var</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">perfil</span><span class="p">.</span><span class="nx">consultaSaldo</span><span class="p">()</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span><span class="x">

 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Saldo</span><span class="o">.</span><span class="n">ConsultaSaldo</span><span class="p">()</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">minha_conta</span><span class="o">.</span><span class="n">get_saldo</span><span class="p">()</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Perfil</span> <span class="n">perfil</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Perfil</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">perfil</span><span class="o">.</span><span class="na">consultaSaldo</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">perfil</span><span class="p">.</span><span class="nf">consulta_saldo</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"saldo atual"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"saldo"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.00</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='response'>Response</h4>
<table class="table-parameters">
    <tbody>
 <tr>
            <td>
                saldo
                <span class="attribute">float</span>
            </td>
            <td>
                Saldo atual da sua conta
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h3 id='buscar-minha-conta'>Buscar minha conta</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://api.totalvoice.com.br/conta/
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="s1">'https://api.totalvoice.com.br/conta'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">perfil</span><span class="o">-&gt;</span><span class="na">minhaConta</span><span class="p">();</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kd">var</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">perfil</span><span class="p">.</span><span class="nx">minhaConta</span><span class="p">()</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span><span class="x">

 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Perfil</span><span class="o">.</span><span class="n">MinhaConta</span><span class="p">()</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">minha_conta</span><span class="o">.</span><span class="n">get_conta</span><span class="p">()</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Perfil</span> <span class="n">perfil</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Perfil</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">perfil</span><span class="o">.</span><span class="na">minhaConta</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">perfil</span><span class="p">.</span><span class="nf">minha_conta</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14681</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DesenvolvimentoTotalVoice"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cpf_cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11.111.111/0001-02"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"desenvolvimento@totalvoice.com.br"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"saldo"</span><span class="p">:</span><span class="w"> </span><span class="mf">111.38</span><span class="p">,</span><span class="w">
    </span><span class="s2">"telefone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tokentestetoken"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_fixo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.060"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_cel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.350"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco_ramal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email_financeiro"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome_fantasia"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"metodo_pagamento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pospago"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fatura_atual"</span><span class="p">:</span><span class="w"> </span><span class="mf">365.34</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h5 id='response-2'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto <a href="#objeto-minha-conta">Minha Conta</a>
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h2 id='alterar-sua-conta'>Alterar sua Conta</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>PUT https://api.totalvoice.com.br/conta
</code></pre>
<blockquote>
<p><br/>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl <span class="s1">'https://api.totalvoice.com.br/conta/3132'</span> <span class="se">\</span>
    -X PUT <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --header <span class="s1">'Access-Token: testeM68PU1Izmb9chEdLzep7IwRymWO'</span> <span class="se">\</span>
    -d <span class="s1">'{"senha" : "senha123456"}'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'testeM68PU1Izmb9chEdLzep7IwRymWO'</span><span class="p">);</span>

<span class="nv">$conta_dados</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">"senha"</span> <span class="o">=&gt;</span> <span class="s2">"senha123456"</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">perfil</span><span class="o">-&gt;</span><span class="na">atualizaDadosConta</span><span class="p">(</span><span class="nv">$conta_dados</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">conta_dados</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">senha</span><span class="p">:</span> <span class="s2">"senha123456"</span>
<span class="p">};</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">perfil</span><span class="p">.</span><span class="nx">atualizaDadosConta</span><span class="p">(</span><span class="nx">conta_dados</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span><span class="x">

</span><span class="n">perfil</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="nb">new</span><span class="p">(</span><span class="n">Perfil</span><span class="p">)</span><span class="x">
</span><span class="n">perfil</span><span class="o">.</span><span class="n">NomeFantasia</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="s">"NovoNome"</span><span class="x">

</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Perfil</span><span class="o">.</span><span class="n">AtualizarConta</span><span class="p">(</span><span class="n">perfil</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">,</span> <span class="s">'api.totalvoice.com.br'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">perfil</span><span class="o">.</span><span class="n">editar_conta</span><span class="p">(</span><span class="s">"Total Voice"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="o">);</span>
<span class="n">Perfil</span> <span class="n">perfil</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Perfil</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">perfil</span><span class="o">.</span><span class="na">atualizaDadosConta</span><span class="o">(</span><span class="err">'</span><span class="o">{</span><span class="s">"nome"</span><span class="o">:</span><span class="s">"TotalVoice"</span><span class="o">}</span><span class="err">'</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">perfil</span><span class="p">.</span><span class="nf">atualizar</span><span class="p">(</span><span class="s1">'{"nome":"TotalVoice"}'</span><span class="p">)</span>
</code></pre>
<blockquote>
<p><br/>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados atualizados com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Altera as informações de sua conta principal, você precisa passar no corpo do request o JSON com os campos que serão alterados, conforme exemplos.</p>
<h4 id='request'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                nome
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo nome para a conta que você deseja alterar
             </td>
        </tr>
        <tr>
            <td>
                login
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo login para a conta, precisa ser um endereço de e-mail válido.
            </td>
        </tr>
        <tr>
            <td>
                senha
                <span class="optional">Opcional</span>
            </td>
            <td>
                Nova senha para esta conta, deve ter mais que 6 caracteres.
            </td>
        </tr>
        <tr>
            <td>
                cpf_cnpj
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo CPF ou CNPJ desta conta, para fim de identificação e integração.
            </td>
        </tr>
        <tr>
            <td>
                telefone
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo número de telefone de contato desta conta, precisa ser um número de telefone válido.
            </td>
        </tr>
        <tr>
            <td>
                preco_fixo
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamadas destinadas à números fixos, deve ser maior ou igual ao da conta pai.
            </td>
        </tr>
        <tr>
            <td>
                preco_cel
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamadas destinadas à números móveis, deve ser maior ou igual ao da conta pai.
            </td>
        </tr>
        <tr>
            <td>
                preco_ramal
                <span class="optional">Opcional</span>
            </td>
            <td>
                O valor que será cobrado desta conta para chamada entre Ramais dentro dela mesma, deve ser maior ou igual ao valor da conta pai.
            </td>
        </tr>
        <tr>
            <td>
                email_financeiro
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo e-mail de contato para assuntos financeiros desta conta.
            </td>
        </tr>
        <tr>
            <td>
                nome_fantasia
                <span class="optional">Opcional</span>
            </td>
            <td>
                Novo nome fantasia desta conta que será utilizado para exibição.
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response-3'>Response</h4>
<p><br/>
Retorna o objeto <a href="#respostas-da-api">resposta padrão</a> da API com sucesso ou falha.
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h2 id='relatorio-de-recarga'>Relatório de recarga</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://api.totalvoice.com.br/conta/recargas
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://api.totalvoice.com.br/conta/recargas'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">perfil</span><span class="o">-&gt;</span><span class="na">relatorioRecarga</span><span class="p">();</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kd">var</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">perfil</span><span class="p">.</span><span class="nx">relatorioRecarga</span><span class="p">();</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span><span class="x">

 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Perfil</span><span class="o">.</span><span class="n">RelatorioRecarga</span><span class="p">()</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">minha_conta</span><span class="o">.</span><span class="n">get_recargas</span><span class="p">()</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Perfil</span> <span class="n">perfil</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Perfil</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">perfil</span><span class="o">.</span><span class="na">relatorioRecarga</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">perfil</span><span class="p">.</span><span class="nf">relatorio_recarga</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6470</span><span class="p">,</span><span class="w">
        </span><span class="s2">"credito"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-05T09:42:03-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"descricao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Recarga"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5873</span><span class="p">,</span><span class="w">
        </span><span class="s2">"credito"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-28T11:34:49-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"descricao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Recarga"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='response-4'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID da transação de recarga
             </td>
        </tr>
        <tr>
            <td>
                credito
                <span class="attribute">float</span>
            </td>
            <td>
                Valor da recarga
             </td>
        </tr>
        <tr>
            <td>
                data
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data da transação
             </td>
        </tr>
        <tr>
            <td>
                descricao
                <span class="attribute">string</span>
            </td>
            <td>
                Descrição da transação
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h2 id='url-de-recarga'>URL de Recarga</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://api.totalvoice.com.br/conta/urlrecarga
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://api.totalvoice.com.br/conta/urlrecarga?url_retorno=www.urlretorno.com.br'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">perfil</span><span class="o">-&gt;</span><span class="na">urlRecarga</span><span class="p">(</span><span class="s2">"www.urlretorno.com.br"</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kd">var</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">perfil</span><span class="p">.</span><span class="nx">urlRecarga</span><span class="p">(</span><span class="s2">"www.urlretorno.com.br"</span><span class="p">);</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span><span class="x">

 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Perfil</span><span class="o">.</span><span class="n">GeraURLRecarga</span><span class="p">(</span><span class="s">"www.urlretorno.com.br"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">minha_conta</span><span class="o">.</span><span class="n">get_url_recarga</span><span class="p">(</span><span class="s">"www.urlretorno.com.br"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Perfil</span> <span class="n">perfil</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Perfil</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">perfil</span><span class="o">.</span><span class="na">urlRecarga</span><span class="o">(</span><span class="s">"www.urlretorno.com.br"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">perfil</span><span class="p">.</span><span class="nf">url_recarga</span><span class="p">(</span><span class="s2">"www.urlretorno.com.br"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.evoline.com.br/recarga/index.php?id=eagr&amp;public_key=teste5a4b033e14e69"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='request-2'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                url_retorno
                <span class="optional">Opcional</span>
            </td>
            <td>
                URL para retorno depois da recarga ou ao cancelar.
             </td>
        </tr>
    </tbody>
</table>
<h4 id='response-5'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                url
                <span class="attribute">string</span>
            </td>
            <td>
                URL para acessar o painel de recarga
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h2 id='listar-webhooks'>Listar Webhooks</h2>
<p>Este método permite a listagem de todos os webhooks configurados da sua conta. <a href="#webhooks">Clique aqui</a> para obter mais informações sobre cada webhook da TotalVoice. </p>

<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://api.totalvoice.com.br/webhook
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://api.totalvoice.com.br/webhook'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">perfil</span><span class="o">-&gt;</span><span class="na">webhooks</span><span class="p">();</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kd">var</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">perfil</span><span class="p">.</span><span class="nx">webhooks</span><span class="p">();</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span><span class="x">

 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Webhook</span><span class="o">.</span><span class="n">Listar</span><span class="p">()</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">minha_conta</span><span class="o">.</span><span class="n">get_webhook</span><span class="p">()</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Perfil</span> <span class="n">perfil</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Perfil</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">perfil</span><span class="o">.</span><span class="na">webhooks</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">perfil</span><span class="p">.</span><span class="nf">webhooks</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"webhook apagado com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='request-3'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                nome_webhook
                <span class="attribute">string</span>
            </td>
            <td>
                Nome do webhook a ser deletado
             </td>
        </tr>
    </tbody>
</table>
<h4 id='response-6'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">string</span>
            </td>
            <td>
                Retorna dados null e mensagem de sucesso
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h2 id='remover-webhook'>Remover Webhook</h2>
<p>Este método permite a remoção de um webhook específico de sua conta. <a href="#webhooks">Clique aqui</a> para obter mais informações sobre cada webhook da TotalVoice. </p>

<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>DELETE https://api.totalvoice.com.br/webhook/{nome_webhook}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X DELETE --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://api.totalvoice.com.br/webhook/chamada_fim'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">perfil</span><span class="o">-&gt;</span><span class="na">excluirWebhook</span><span class="p">(</span><span class="s2">"chamada_fim"</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kd">var</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">perfil</span><span class="p">.</span><span class="nx">excluirWebhook</span><span class="p">(</span><span class="s2">"chamada_fim"</span><span class="p">);</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span><span class="x">

 </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Webhook</span><span class="o">.</span><span class="n">Excluir</span><span class="p">(</span><span class="s">"chamada_fim"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">minha_conta</span><span class="o">.</span><span class="n">delete_webhook</span><span class="p">(</span><span class="s">"chamada_fim"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Perfil</span> <span class="n">perfil</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Perfil</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">perfil</span><span class="o">.</span><span class="na">excluirWebhook</span><span class="o">(</span><span class="s">"chamada_fim"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">perfil</span><span class="p">.</span><span class="nf">excluir_webhook</span><span class="p">(</span><span class="s2">"chamada_fim"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"webhooks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"webhook"</span><span class="p">:</span><span class="w"> </span><span class="s2">"status_tempo_real"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://urltemporeal.com.br"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"webhook"</span><span class="p">:</span><span class="w"> </span><span class="s2">"chamada_fim"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://urlchamadafim.com.br"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"webhook"</span><span class="p">:</span><span class="w"> </span><span class="s2">"envio_sms"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://enviosms.com.br"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"webhook"</span><span class="p">:</span><span class="w"> </span><span class="s2">"chamada_did_fim"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://chamadadidfim.com.br"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='request-4'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                webhook
                <span class="attribute">string</span>
            </td>
            <td>
                Nome do webhook
             </td>
        </tr>
        <tr>
            <td>
                url
                <span class="attribute">string</span>
            </td>
            <td>
                URL destino para receber o webhook
             </td>
        </tr>
    </tbody>
</table>
<h4 id='response-7'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">string</span>
            </td>
            <td>
                Retorna dados null e mensagem de sucesso
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h2 id='alterar-um-webhook'>Alterar um webhook</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>PUT https://api.totalvoice.com.br/webhook/{nome_webhook}
</code></pre>
<blockquote>
<p><br/>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl <span class="s1">'https://api.totalvoice.com.br/webhook/chamada_fim'</span> <span class="se">\</span>
    -X PUT <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --header <span class="s1">'Access-Token: testeM68PU1Izmb9chEdLzep7IwRymWO'</span> <span class="se">\</span>
    -d <span class="s1">'{"url" : "www.urlretorno.com.br"}'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'testeM68PU1Izmb9chEdLzep7IwRymWO'</span><span class="p">);</span>

<span class="nv">$conta_dados</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">"senha"</span> <span class="o">=&gt;</span> <span class="s2">"senha123456"</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">perfil</span><span class="o">-&gt;</span><span class="na">salvaWebhook</span><span class="p">(</span><span class="s2">"chamada_fim"</span><span class="p">,</span> <span class="s2">"www.urlretorno.com.br"</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">perfil</span><span class="p">.</span><span class="nx">salvaWebhook</span><span class="p">(</span><span class="s2">"chamada_fim"</span><span class="p">,</span> <span class="s2">"www.urlretorno.com.br"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span><span class="x">

</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Webhook</span><span class="o">.</span><span class="n">Salva</span><span class="p">(</span><span class="s">"chamada_fim"</span><span class="p">,</span><span class="x"> </span><span class="s">"www.urlretorno.com.br"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">,</span> <span class="s">'api.totalvoice.com.br'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">perfil</span><span class="o">.</span><span class="n">editar_webhook</span><span class="p">(</span><span class="s">"chamada_fim"</span><span class="p">,</span> <span class="s">"www.urlretorno.com.br"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="o">);</span>
<span class="n">Perfil</span> <span class="n">perfil</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Perfil</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">perfil</span><span class="o">.</span><span class="na">salvaWebhook</span><span class="o">(</span><span class="s">"chamada_fim"</span><span class="o">,</span> <span class="s">"www.urlretorno.com.br"</span><span class="o">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">puts</span> <span class="vi">@client</span><span class="p">.</span><span class="nf">perfil</span><span class="p">.</span><span class="nf">salva_webhook</span><span class="p">(</span><span class="s2">"chamada_fim"</span><span class="p">,</span> <span class="s2">"www.urlretorno.com.br"</span><span class="p">)</span>
</code></pre>
<blockquote>
<p><br/>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados atualizados com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Altera as informações de um webhook, você precisa passar no corpo do request o JSON com a url para receber o webhook.</p>
<h4 id='request-5'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                url
                <span class="optional">string</span>
            </td>
            <td>
                Sua URL que vai receber o callback
             </td>
        </tr>
    </tbody>
</table>
<h4 id='response-8'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">string</span>
            </td>
            <td>
                Retorna dados null e mensagem de sucesso
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h1 id='sms'>SMS</h1>
<blockquote>
<p>SMS Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://api.totalvoice.com.br/sms
</code></pre>
<p>O <strong>SMS</strong> permite que você envie mensagens de texto pela nossa API. Você precisa informar
um número de destino e uma mensagem à ser enviada. Existem algumas opções adicionais,
que permitem aguardar uma resposta do usuário, enviar multi sms ou agendar uma 
data de envio por exemplo.</p>
<h3 id='objeto-sms'>Objeto Sms</h3>
<blockquote>
<p><br></p>

<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48111111111"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-18T00:51:22.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Oi, tudo bem?"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.09</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status_envio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"enviada"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-19T00:51:36.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"respostas"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sms_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tudo bem, e voce?"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-31T22:46:42-03:00"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Definição do objeto Sms</p>
<h4 id='atributos'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro de SMS.
             </td>
        </tr>
        <tr>
            <td>
                numero_destino
                <span class="attribute">string</span>
            </td>
            <td>
                Número do destinatário (móvel) que será enviado o SMS.
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi criado o registro
            </td>
        </tr>
        <tr>
            <td>
                mensagem
                <span class="attribute">string</span>
            </td>
            <td>
                Mensagem que será enviada para o número.
            </td>
        </tr>
        <tr>
            <td>
                preco
                <span class="attribute">float</span>
            </td>
            <td>
                Valor cobrado pelo envio
            </td>
        </tr>
        <tr>
            <td>
                status
                <span class="attribute">string</span>
            </td>
            <td>
                Status do registro:
                <ul>
                    <li>enviada: enviado para processamento</li>
                    <li>erro: erro no processamento</li>
                    <li>entregue: entregue para o número de destino</li>
                    <li>aguardando: aguardando o envio para processamento</li>
                </ul> 
            </td>
        </tr>
        <tr>
            <td>
                data_status
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que o status foi alterado 
            </td>
        </tr>
        <tr>
            <td>
                resposta_usuario
                <span class="attribute">boolean</span>
            </td>
            <td>
                Aguarda a resposta do usuário: sim ou não
            </td>
        </tr>
        <tr>
            <td>
                respostas
                <span class="attribute">array</span>
            </td>
            <td>
                Array contendo os objetos de <a href="#objeto-resposta-sms">resposta</a>
            </td>
        </tr>
    </tbody>
</table>
<h3 id='objeto-resposta-sms'>Objeto Resposta SMS</h3>
<blockquote>
<p><br></p>

<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sms_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tudo bem, e voce?"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-31T22:46:42-03:00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Definição do objeto Resposta SMS</p>
<h4 id='atributos-2'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do registro de Resposta.
             </td>
        </tr>
        <tr>
            <td>
                sms_id
                <span class="attribute">integer</span>
            </td>
            <td>
                ID do SMS vinculado a resposta.
             </td>
        </tr>
        <tr>
            <td>
                resposta
                <span class="attribute">string</span>
            </td>
            <td>
                Texto com a resposta do usuário
            </td>
        </tr>
        <tr>
            <td>
                data_resposta
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora que foi respondido pelo usuário
            </td>
        </tr>
    </tbody>
</table>
<h3 id='enviar-um-sms'>Enviar um SMS</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://api.totalvoice.com.br/sms
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X POST --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
             --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
             -d <span class="s1">'{"numero_destino":"48111111111","mensagem":"Ola tudo bem?"}'</span> <span class="se">\</span>
             <span class="s1">'https://api.totalvoice.com.br/sms'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">sms</span><span class="o">-&gt;</span><span class="na">enviar</span><span class="p">(</span><span class="s1">'48111111111'</span><span class="p">,</span> <span class="s1">'Ola tudo bem?'</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kd">var</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">sms</span><span class="p">.</span><span class="nx">enviar</span><span class="p">(</span><span class="s2">"48111111111"</span><span class="p">,</span> <span class="s2">"Ola tudo bem?"</span><span class="p">)</span>
</code></pre><pre class="highlight go tab-go"><code><span class="x"> </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">SMS</span><span class="o">.</span><span class="n">Enviar</span><span class="p">(</span><span class="s">"4811111111"</span><span class="p">,</span><span class="x"> </span><span class="s">"Ola tudo bem?"</span><span class="p">,</span><span class="x"> </span><span class="no">false</span><span class="p">,</span><span class="x"> </span><span class="no">false</span><span class="p">,</span><span class="x"> </span><span class="no">nil</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">sms</span><span class="o">.</span><span class="n">enviar</span><span class="p">(</span><span class="s">"48111111111"</span><span class="p">,</span> <span class="s">"Ola tudo bem?"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Sms</span> <span class="n">sms</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Sms</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">sms</span><span class="o">.</span><span class="na">enviar</span><span class="o">(</span><span class="s">"48111111111"</span><span class="o">,</span> <span class="s">"Ola tudo bem?"</span><span class="o">);</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sms criado com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4921</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para o envio de SMS, é necessário informar um número móvel válido e uma mensagem de texto.</p>
<h4 id='request'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                numero_destino
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Número do telefone móvel que irá receber a mensagem de texto
             </td>
        </tr>
        <tr>
            <td>
                mensagem
                <span class="required">Obrigatório</span>
            </td>
            <td>
                Mensagem de texto para ser enviada, limite: 160 caracteres não aceita acentos
            </td>
        </tr>
        <tr>
            <td>
                resposta_usuario
                <span class="optional">
                    Opcional,
                    <span>default <b>false</b></span>
                </span>
            </td>
            <td>
                Aguardar uma resposta do destinário
            </td>
        </tr>
        <tr>
            <td>
                multi_sms
                <span class="optional">
                    Opcional, 
                    <span>default <b>false</b></span>
                </span>
            </td>
            <td>
                Aceita SMS com mais de 160 char - ate 16.000. Envia multiplos sms para o mesmo numero (um a cada 160 char) e retorna array de ids.
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="optional">Opcional</span>
            </td>
            <td>
                Informe uma data e hora para agendar a entrega do sms. vazio = liga imediatamente. Data e Hora no formato UTC
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer/array</span>
            </td>
            <td>
                A resposta pode ser um Objeto com o ID do SMS ou, um array com vários ID's caso seja setado para o envio de multi_sms = true.
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h3 id='buscar-sms'>Buscar SMS</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://api.totalvoice.com.br/sms/{id}
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="s1">'https://api.totalvoice.com.br/sms/1'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">sms</span><span class="o">-&gt;</span><span class="na">buscaSms</span><span class="p">(</span><span class="mi">123</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kd">var</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">sms</span><span class="p">.</span><span class="nx">buscar</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
</code></pre><pre class="highlight go tab-go"><code><span class="x"> </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">SMS</span><span class="o">.</span><span class="n">Buscar</span><span class="p">(</span><span class="m">123</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">sms</span><span class="o">.</span><span class="n">get_by_id</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Sms</span> <span class="n">sms</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Sms</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">sms</span><span class="o">.</span><span class="na">buscar</span><span class="o">(</span><span class="mi">123</span><span class="o">);</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4832830151"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:44+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_inicio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-27T15:12:49+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:45"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_cobrada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:60"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duracao_falada"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:35"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_audio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fooooo.bar/audio.mp3"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Após o envio de mensagens de SMS, você poderá realizar a busca do registro pelo seu ID.</p>
<h5 id='request-2'>Request</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                ID
                <span class="required">Obrigatório</span>
            </td>
            <td>
                ID do SMS para recuperar os dados
             </td>
        </tr>
    </tbody>
</table>
<h5 id='response-2'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                dados
                <span class="attribute">object</span>
            </td>
            <td>
                Retorna o objeto <a href="#objeto-sms">SMS</a>
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h3 id='relatorio-sms'>Relatório SMS</h3>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://api.totalvoice.com.br/sms/relatorio
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl -X GET --header <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
            --header <span class="s1">'Access-Token: {{access-token}}'</span> <span class="se">\</span>
            <span class="s1">'https://api.totalvoice.com.br/sms/relatorio?data_inicio=2018-03-14&amp;data_fim=2018-03-15'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">sms</span><span class="o">-&gt;</span><span class="na">relatorio</span><span class="p">(</span><span class="nv">$dataInicial</span><span class="p">,</span> <span class="nv">$dataFinal</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kd">var</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">sms</span><span class="p">.</span><span class="nx">relatorio</span><span class="p">(</span><span class="nx">data_inicial</span><span class="p">,</span> <span class="nx">data_final</span><span class="p">)</span>
</code></pre><pre class="highlight go tab-go"><code><span class="x"> </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">SMS</span><span class="o">.</span><span class="n">Relatorio</span><span class="o">.</span><span class="n">Gerar</span><span class="p">(</span><span class="n">dataInicial</span><span class="p">,</span><span class="x"> </span><span class="n">dataFinal</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">sms</span><span class="o">.</span><span class="n">get_relatorio</span><span class="p">(</span><span class="n">data_inicio</span><span class="p">,</span> <span class="n">data_fim</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Sms</span> <span class="n">sms</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Sms</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">sms</span><span class="o">.</span><span class="na">relatorio</span><span class="o">(</span><span class="n">dataInicial</span><span class="o">,</span> <span class="n">dataFinal</span><span class="o">);</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dados retornados com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"relatorio"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">151</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4899999999"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-30T23:34:08-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_envio"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mensagem de teste"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"enviada"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"respostas"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">204</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4899999999"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-31T22:39:36-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data_envio"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Oi, tudo bem?"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preco"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.05</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"enviada"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resposta_usuario"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"respostas"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tudo bem, e voce?"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"data_resposta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-31T22:46:42-03:00"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Você pode consultar os SMS&#39;s enviados posteriormente. Basta informar o período desejado para que a API retorne os dados.</p>
<h4 id='request-3'>Request</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_inicio
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data inicial para consulta dos dados no relatório
            </td>
        </tr>
        <tr>
            <td>
                data_fim
                <span class="required">Obrigatório</span>
                <span class="type">Query String</span>
            </td>
            <td>
                Data final para consulta dos dados no relatório
            </td>
        </tr>
    </tbody>
</table>
<h4 id='response-3'>Response</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                relatorio
                <span class="attribute">array</span>
            </td>
            <td>
                Retorna um array com objetos <a href="#objeto-sms">SMS</a>
             </td>
        </tr>
    </tbody>
</table>

<p><br>
<br></p>
<h1 id='tts-leitura-de-texto'>TTS Leitura de Texto</h1><h2 id='criar-um'>Criar um</h2>
<blockquote>
<p>post audio</p>
</blockquote>
<h2 id='buscar-um'>Buscar um</h2>
<blockquote>
<p>Exemplo</p>
</blockquote>
<h2 id='editar-um'>Editar um</h2>
<blockquote>
<p>Exemplo</p>
</blockquote>
<h2 id='listtar-todos-os'>Listtar todos os</h2>
<blockquote>
<p>Exemplo</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'testeM68PU1Izmb9chEdLzep7IwRymWO'</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"{{access-token}}"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">chamada</span><span class="p">.</span><span class="nx">ligar</span><span class="p">(</span><span class="s2">"4832830151"</span><span class="p">,</span> <span class="s2">"4811111111"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
    </span><span class="s">"fmt"</span><span class="x">

    </span><span class="s">"github.com/totalvoice/totalvoice-go"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"{{access-token}}"</span><span class="p">)</span><span class="x">
    </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Chamada</span><span class="o">.</span><span class="n">Criar</span><span class="p">(</span><span class="s">"4811111111"</span><span class="p">,</span><span class="x"> </span><span class="s">"4822222222"</span><span class="p">,</span><span class="x"> </span><span class="no">nil</span><span class="p">)</span><span class="x">

    </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="nb">panic</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
    </span><span class="p">}</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">response</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">cliente</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"{{access-token}}"</span><span class="p">,</span> <span class="s">'HOST'</span><span class="p">)</span> <span class="c">#ex: api.totalvoice.com.br</span>

<span class="c">#Cria chamada</span>
<span class="n">numero_origem</span> <span class="o">=</span> <span class="s">"48999999999"</span>
<span class="n">numero_destino</span> <span class="o">=</span> <span class="s">"48900000000"</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">cliente</span><span class="o">.</span><span class="n">chamada</span><span class="o">.</span><span class="n">enviar</span><span class="p">(</span><span class="n">numero_origem</span><span class="p">,</span> <span class="n">numero_destino</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kn">package</span> <span class="n">br</span><span class="o">.</span><span class="na">com</span><span class="o">.</span><span class="na">totalvoice</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">br.com.totalvoice.api.Chamada</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.json.JSONObject</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span> <span class="n">args</span><span class="o">[])</span> <span class="o">{</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"{{access-token}}"</span><span class="o">);</span>
            <span class="n">Chamada</span> <span class="n">chamada</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Chamada</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

            <span class="n">JSONObject</span> <span class="n">result</span> <span class="o">=</span> <span class="n">chamada</span><span class="o">.</span><span class="na">ligar</span><span class="o">(</span><span class="s">"NUMEROA"</span><span class="o">,</span> <span class="s">"NUMEROB"</span><span class="o">);</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">result</span><span class="o">);</span>

        <span class="o">}</span> <span class="k">catch</span><span class="o">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">ex</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>Para autenticar sua conta você deve incluir na requisição HTTP o cabeçalho <strong>Access-Token</strong>, 
colocando no valor o token disponibilizado na sua Dashboard da TotalVoice, tome sempre cuidado, não forneça seu token
para ninguém e nem deixe ele exposto no código, seu token contém muitos privilégios. </p>

<p><code>Access-Token: testeM68PU1Izmb9chEdLzep7IwRymWO</code></p>

<p>As bibliotecas disponibilizadas pela TotalVoice já fazem a autenticação no cabeçalho HTTP transparentemente. </p>
<h1 id='verificacao'>Verificação</h1><h2 id='criar-um'>Criar um</h2>
<blockquote>
<p>post audio</p>
</blockquote>
<h2 id='buscar-um'>Buscar um</h2>
<blockquote>
<p>Exemplo</p>
</blockquote>
<h2 id='editar-um'>Editar um</h2>
<blockquote>
<p>Exemplo</p>
</blockquote>
<h2 id='listtar-todos-os'>Listtar todos os</h2>
<blockquote>
<p>Exemplo</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'testeM68PU1Izmb9chEdLzep7IwRymWO'</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"{{access-token}}"</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">chamada</span><span class="p">.</span><span class="nx">ligar</span><span class="p">(</span><span class="s2">"4832830151"</span><span class="p">,</span> <span class="s2">"4811111111"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
    </span><span class="s">"fmt"</span><span class="x">

    </span><span class="s">"github.com/totalvoice/totalvoice-go"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"{{access-token}}"</span><span class="p">)</span><span class="x">
    </span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Chamada</span><span class="o">.</span><span class="n">Criar</span><span class="p">(</span><span class="s">"4811111111"</span><span class="p">,</span><span class="x"> </span><span class="s">"4822222222"</span><span class="p">,</span><span class="x"> </span><span class="no">nil</span><span class="p">)</span><span class="x">

    </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="nb">panic</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
    </span><span class="p">}</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">response</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">totalvoice.cliente</span> <span class="kn">import</span> <span class="n">Cliente</span>

<span class="n">cliente</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"{{access-token}}"</span><span class="p">,</span> <span class="s">'HOST'</span><span class="p">)</span> <span class="c">#ex: api.totalvoice.com.br</span>

<span class="c">#Cria chamada</span>
<span class="n">numero_origem</span> <span class="o">=</span> <span class="s">"48999999999"</span>
<span class="n">numero_destino</span> <span class="o">=</span> <span class="s">"48900000000"</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">cliente</span><span class="o">.</span><span class="n">chamada</span><span class="o">.</span><span class="n">enviar</span><span class="p">(</span><span class="n">numero_origem</span><span class="p">,</span> <span class="n">numero_destino</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kn">package</span> <span class="n">br</span><span class="o">.</span><span class="na">com</span><span class="o">.</span><span class="na">totalvoice</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">br.com.totalvoice.api.Chamada</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.json.JSONObject</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span> <span class="n">args</span><span class="o">[])</span> <span class="o">{</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"{{access-token}}"</span><span class="o">);</span>
            <span class="n">Chamada</span> <span class="n">chamada</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Chamada</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

            <span class="n">JSONObject</span> <span class="n">result</span> <span class="o">=</span> <span class="n">chamada</span><span class="o">.</span><span class="na">ligar</span><span class="o">(</span><span class="s">"NUMEROA"</span><span class="o">,</span> <span class="s">"NUMEROB"</span><span class="o">);</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">result</span><span class="o">);</span>

        <span class="o">}</span> <span class="k">catch</span><span class="o">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">ex</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>Para autenticar sua conta você deve incluir na requisição HTTP o cabeçalho <strong>Access-Token</strong>, 
colocando no valor o token disponibilizado na sua Dashboard da TotalVoice, tome sempre cuidado, não forneça seu token
para ninguém e nem deixe ele exposto no código, seu token contém muitos privilégios. </p>

<p><code>Access-Token: testeM68PU1Izmb9chEdLzep7IwRymWO</code></p>

<p>As bibliotecas disponibilizadas pela TotalVoice já fazem a autenticação no cabeçalho HTTP transparentemente. </p>
<h1 id='webphone'>Webphone</h1>
<blockquote>
<p>Webphone End Point</p>
</blockquote>
<pre class="highlight plaintext"><code>https://api.totalvoice.com.br/webphone
</code></pre>
<p>Webphone é uma maneira de conectar à um Ramal diretamente de um computador, todo ramal tem uma URL na qual
pode acessar o Webphone sem precisar se conectar ao site da TotalVoice, muito utilizado em integrações,
para implementar ligações diretamente em um software ou sistema de uma maneira fácil.</p>

<p>Há três tipos de Webphone:</p>

<ul>
<li><strong>Floating</strong>: Quando você vai abrir o Webphone em uma popup;</li>
<li><strong>Embedded</strong>: Se o Webphone ficará embutido no site / sistema;</li>
<li><strong>Hidden</strong>: Sem interface, apenas funções Javascript.</li>
</ul>

<p>Um webphone é vinculado diretamente com um Ramal.</p>
<h2 id='consultar-url-webphone'>Consultar URL Webphone</h2>
<blockquote>
<p>Definição</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://api.totalvoice.com.br/webphone
</code></pre>
<p>Consulta a URL do Webphone de um determinado Ramal enviando os parâmetros para pré-configuração do webphone, a URL
gerada vem com um código único para acesso daquele Webphone sem ser necessário login na TotalVoice.</p>

<blockquote>
<p><br/>Request</p>
</blockquote>
<pre class="highlight shell tab-shell--curl"><code>curl <span class="s1">'https://api.totalvoice.com.br/webphone?ramal=4000'</span> <span class="se">\</span>
    -X GET <span class="se">\</span>
    --header <span class="s1">'Access-Token: testeM68PU1Izmb9chEdLzep7IwRymWO'</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TotalVoiceClient</span><span class="p">(</span><span class="s1">'testeM68PU1Izmb9chEdLzep7IwRymWO'</span><span class="p">);</span>

<span class="nv">$webphone_dados</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">"ramal"</span> <span class="o">=&gt;</span> <span class="mi">4000</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">central</span><span class="o">-&gt;</span><span class="na">webphone</span><span class="p">(</span><span class="nv">$webphone_dados</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">totalvoice</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'totalvoice-node'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">totalvoice</span><span class="p">(</span><span class="s2">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">webphone_dados</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="na">ramal</span><span class="p">:</span> <span class="mi">4000</span>
<span class="p">};</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">central</span><span class="p">.</span><span class="nx">webphone</span><span class="p">(</span><span class="nx">webphone_dados</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Erro: '</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
    <span class="p">});</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">totalvoice</span><span class="o">.</span><span class="n">NewTotalVoiceClient</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">)</span><span class="x">

</span><span class="n">m</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="k">interface</span><span class="p">{}]</span><span class="k">interface</span><span class="p">{}{}</span><span class="x">
</span><span class="n">m</span><span class="p">[</span><span class="s">"ramal"</span><span class="p">]</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="m">4000</span><span class="x">

</span><span class="n">response</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Ramal</span><span class="o">.</span><span class="n">Webphone</span><span class="p">(</span><span class="n">m</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Cliente</span><span class="p">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="p">,</span> <span class="s">'api.totalvoice.com.br'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">webphone</span><span class="o">.</span><span class="n">get_webphone</span><span class="p">(</span><span class="s">"floating"</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">4000</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TotalVoiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TotalVoiceClient</span><span class="o">(</span><span class="s">"testeM68PU1Izmb9chEdLzep7IwRymWO"</span><span class="o">);</span>
<span class="n">Central</span> <span class="n">central</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Central</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">webphone_dados</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">webphone_dados</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"ramal"</span><span class="o">,</span> <span class="mi">4000</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">response</span> <span class="o">=</span> <span class="n">central</span><span class="o">.</span><span class="na">webphone</span><span class="o">(</span><span class="n">webphone_dados</span><span class="o">);</span>
</code></pre>
<blockquote>
<p><br/>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sucesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mensagem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"url webphone"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dados"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.totalvoice.com.br/w3/?key=XXXXXXXXXXXXXXXXXXXXXX83b3420&amp;pop=1"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p><br/><br/><br/></p>
</blockquote>
<h5 id='request-query'>Request Query</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id_ramal
                <span class="optional">Opcional</span>
            </td>
            <td>
               Identificador único do Ramal que você deseja pegar o Webphone, obrigatório caso não for informar o campo ramal.
            </td>
        </tr>
        <tr>
            <td>
                ramal
                <span class="optional">Opcional</span>
            </td>
            <td>
               Número do Ramal que você deseja buscar o Webphone, obrigatório caso não for informar o campo id_ramal.
            </td>
        </tr>
        <tr>
            <td>
                ligar_para
                <span class="optional">Opcional</span>
            </td>
            <td>
               Se você deseja que o Webphone já disque automaticamente para algum número quando abrir, deverá informar o número neste campo.
            </td>
        </tr>
        <tr>
            <td>
                fechar_fim
                <span class="optional">Opcional</span>
            </td>
            <td>
                Se você quiser que o Webphone feche ao fim da ligação, colocar esse campo como true;
            </td>
        </tr>
        <tr>
            <td>
                tipo
                <span class="optional">Opcional</span>
            </td>
            <td>
                Tipo do Webphone, poderá ser: floating, embedded, hidden, por padrão irá o Floating.
            </td>
        </tr>
    </tbody>
</table>
<h5 id='response'>Response</h5>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                url
                <span class="attribute">string</span>
            </td>
            <td>
                Retorna a URL completa do Webphone do Ramal desejado. 
             </td>
        </tr>
    </tbody>
</table>
<h1 id='webhooks'>Webhooks</h1>
<blockquote>
<p>Configuração</p>
</blockquote>
<pre class="highlight plaintext"><code>Entre no painel da TotalVoice com a conta administradora, 
vá até o menu Minha Conta e escolha Configurações da API, 
lá terão todos os campos para preencher em cada Webhook.
</code></pre>
<p>Também conhecidos como Callbacks ou Reverse API, os Webhooks são notificações que enviamos para alguma URL (End Point) sua que é configurada 
no painel da TotalVoice, a notificação é enviada assim que determinados eventos acontecem.</p>

<p>Todos os Webhooks enviados vão por HTTP POST, sendo que as informações referente ao evento vão no corpo da requisição em formato JSON.</p>

<p><i>Poderá levar até 20 minutos após a configuração no Painel para começar o envio das notificações para o endereço escolhido.</i></p>
<h2 id='objeto-perna-de-ligacao'>Objeto Perna de Ligação</h2>
<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="s2">"2018-06-08T10:20:31"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"tipo"</span><span class="p">:</span><span class="s2">"ramal"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"ativo"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="s2">"numero"</span><span class="p">:</span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"data_atendimento"</span><span class="p">:</span><span class="s2">"2018-06-08T10:20:34"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="mi">9</span><span class="p">,</span><span class="w">
   </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="mi">6</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Este é um objeto comum que é incluido em alguns Webhooks, representa um conjunto de informações de um dos lados (perna / ponta) de uma ligação.</p>
<h4 id='atributos'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora em que esta perna foi criada.
            </td>
        </tr>
        <tr>
            <td>
                tipo
                <span class="attribute">string</span>
            </td>
            <td>
                O tipo do telefone desta perna, podendo ser: <b><i>ramal, fixo</b></i> ou <b><i>movel</b></i>.
             </td>
        </tr>
        <tr>
            <td>
                ativo
                <span class="attribute">boolean</span>
            </td>
            <td>
                Informa se a chamada está ativa para esta perna, caso true, a perna atendeu e a ligação ainda está conectada.
            </td>
        </tr>
        <tr>
            <td>
                numero
                <span class="attribute">integer</span>
            </td>
            <td>
                Número do destinatário que foi conectado à conferência.
            </td>
        </tr>
        <tr>
            <td>
                status
                <span class="attribute">string</span>
            </td>
            <td>
                Representa o <a href="#status-perna-de-ligacao">status atual</a> desta perna na ligação.
            </td>
        </tr>
        <tr>
            <td>
                data_atendimento
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora do momento em que a ligação foi atendida, caso a ligação não tenha sido atendida este atributo não vem.
            </td>
        </tr>
        <tr>
            <td>
                duracao_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos total da ligação desta perna, desde a criação até o encerramento (seja por desligar ou por não atender).
            </td>
        </tr>
        <tr>
            <td>
                duracao_falada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos contados a partir do momento que a perna atendeu a ligação, até o momento em que foi desligada.
            </td>
        </tr>
    </tbody>
</table>
<h2 id='fim-de-ligacao'>Fim de Ligação</h2>
<p>Este Webhook é disparado toda vez que uma ligação realizada através da TotalVoice se encerra, seja ela um Áudio que foi enviado, 
uma chamada recebida por um DID ou uma chamada realizada pela API.</p>

<p>Neste Webhook a informação enviada é o objeto completo referente aquela ligação, por exemplo se é o fim de um áudio enviado, você irá receber o Objeto do Áudio no corpo da requisição.</p>
<h4 id='webhooks-de-fim-de-ligacao-disponiveis'>Webhooks de Fim de Ligação Disponíveis</h4>
<ul>
<li><a href="#objeto-audio">Objeto Áudio</a></li>
<li><a href="#objeto-chamada">Objeto Chamada</a></li>
<li><a href="#objeto-composto">Objeto Composto</a></li>
<li><a href="#objeto-tts">Objeto TTS</a></li>
<li><a href="#objeto-conferencia">Objeto Conferência</a></li>
<li><a href="#objeto-chamada-did">Objeto Chamada DID</a></li>
</ul>
<h2 id='status-de-chamada'>Status de Chamada</h2>
<p>Sempre que uma das pernas de uma chamada muda de estado, este webhook é enviado, entram nessas condições apenas ligações realizadas pela API e pelo Webphone/Softphone/Dispositivo de Chamada conectado ao nosso sistema.</p>

<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="s2">"2018-06-08T13:20:29"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"gravar_audio"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
   </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">121947</span><span class="p">,</span><span class="w">
   </span><span class="s2">"cliente_id"</span><span class="p">:</span><span class="mi">111111</span><span class="p">,</span><span class="w">
   </span><span class="s2">"tags"</span><span class="p">:</span><span class="s2">"MINHA_TAG,CLIENTE_LEGAL"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"origem"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="s2">"2018-06-08T10:20:31"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"tipo"</span><span class="p">:</span><span class="s2">"ramal"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ativo"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"numero"</span><span class="p">:</span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data_atendimento"</span><span class="p">:</span><span class="s2">"2018-06-08T10:20:34"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="mi">9</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="mi">6</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"destino"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="s2">"2018-06-08T10:20:34"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"tipo"</span><span class="p">:</span><span class="s2">"movel"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ativo"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"numero"</span><span class="p">:</span><span class="s2">"489999999999"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"chamando"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='atributos-2'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora em que a ligação foi criada.
            </td>
        </tr>
        <tr>
            <td>
                gravar_audio
                <span class="attribute">boolean</span>
            </td>
            <td>
                Se a chamada foi gravada ou não.
             </td>
        </tr>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único desta Chamada.
            </td>
        </tr>
        <tr>
            <td>
                cliente_id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único (na TotalVoice) do cliente que realizou a Chamada.
            </td>
        </tr> 
        <tr>
            <td>
                tags
                <span class="attribute">string</span>
            </td>
            <td>
                Campo de tags que pode ser utilizado pelo cliente na hora de criação da Chamada.
            </td>
        </tr>
        <tr>
            <td>
                origem
                <span class="attribute">object</span>
            </td>
            <td>
                <a href="#objeto-perna-de-ligacao">Objeto da perna</a> de <b>origem</b> da Chamada.
            </td>
        </tr>
        <tr>
            <td>
                destino
                <span class="attribute">object</span>
            </td>
            <td>
                <a href="#objeto-perna-de-ligacao">Objeto da perna</a> de <b>destino</b> da Chamada.
            </td>
        </tr>
    </tbody>
</table>
<h2 id='status-do-envio-do-sms'>Status do Envio do SMS</h2>
<p>Este webhook é disparado sempre que uma mensagem SMS sofrer uma mudança de status.</p>

<p>A informação enviada no corpo da requisição é o própio <a href="#objeto-sms"> Objeto do SMS</a>.</p>
<h2 id='resposta-de-um-sms'>Resposta de um SMS</h2>
<p>Sempre que uma resposta de SMS for recebida um webhook é disparado enviando os dados do <a href="#objeto-resposta-sms">Objeto Resposta SMS</a>.</p>
<h2 id='status-de-ramal'>Status de Ramal</h2>
<p>Toda vez que algum ramal da conta configurada com esse Webhook recebe/atende/desliga uma ligação um evento desse é disparado para a URL escolhida.</p>

<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="s2">"2018-06-08T10:20:31"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">121947</span><span class="p">,</span><span class="w">
   </span><span class="s2">"tipo"</span><span class="p">:</span><span class="s2">"ramal"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"ativo"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="s2">"ramal"</span><span class="p">:</span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"numero_origem"</span><span class="p">:</span><span class="mi">4899999999</span><span class="p">,</span><span class="w">
   </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"data_atendimento"</span><span class="p">:</span><span class="s2">"2018-06-08T10:20:34"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="mi">9</span><span class="p">,</span><span class="w">
   </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="w">
   </span><span class="s2">"tags"</span><span class="p">:</span><span class="s2">"MINHA_TAG,CLIENTE_LEGAL"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h4 id='atributos-3'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora em que esta ligação para o Ramal foi criada.
            </td>
        </tr>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único desta ligação.
            </td>
        </tr>
        <tr>
            <td>
                tipo
                <span class="attribute">string</span>
            </td>
            <td>
                O tipo do telefone desta perna, vem sempre <b><i>ramal</b></i>.
             </td>
        </tr>
        <tr>
            <td>
                ativo
                <span class="attribute">boolean</span>
            </td>
            <td>
                Informa se a chamada está ativa, caso true, o ramal atendeu e a ligação ainda está conectada.
            </td>
        </tr>
        <tr>
            <td>
                ramal
                <span class="attribute">integer</span>
            </td>
            <td>
                O número do Ramal desta ligação.
            </td>
        </tr>
        <tr>
            <td>
                numero_origem
                <span class="attribute">integer</span>
            </td>
            <td>
                Número do telefone que está em ligação com este ramal.
            </td>
        </tr>
        <tr>
            <td>
                status
                <span class="attribute">string</span>
            </td>
            <td>
                Representa o <a href="#status-perna-de-ligacao">status atual</a> desta perna na ligação.
            </td>
        </tr>
        <tr>
            <td>
                data_atendimento
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora do momento em que a ligação foi atendida, caso a ligação não tenha sido atendida este atributo não vem.
            </td>
        </tr>
        <tr>
            <td>
                duracao_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos total da ligação, desde a criação até o encerramento (seja por desligar ou por não atender).
            </td>
        </tr>
        <tr>
            <td>
                duracao_falada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos contados a partir do momento que o ramal atendeu a ligação, até o momento em que foi desligada.
            </td>
        </tr>
        <tr>
            <td>
                tags
                <span class="attribute">string</span>
            </td>
            <td>
                Campo de tags que pode ser utilizado pelo cliente na hora de criação da Chamada (caso seja uma chamada feita pela API).
            </td>
        </tr>
    </tbody>
</table>
<h2 id='status-de-did'>Status de DID</h2>
<p>Um evento deste é disparado sempre que um DID (número de telefone) nosso de um cliente cadastrado com esse Webhook recebe uma ligação ou muda de status (transfere, termina, etc).</p>

<blockquote>
<p>JSON</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">121947</span><span class="p">,</span><span class="w">
   </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="s2">"2018-06-08T13:20:29"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"gravar_audio"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
   </span><span class="s2">"cliente_id"</span><span class="p">:</span><span class="mi">111111</span><span class="p">,</span><span class="w">
   </span><span class="s2">"numero_origem"</span><span class="p">:</span><span class="s2">"4822221111"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"numero_destino"</span><span class="p">:</span><span class="s2">"4833332222"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"data_atendimento"</span><span class="p">:</span><span class="s2">"2018-06-08T10:20:34"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"ativo"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span><span class="w">
   </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="mi">19</span><span class="p">,</span><span class="w">
   </span><span class="s2">"ramal"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"ativo"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data_criacao"</span><span class="p">:</span><span class="s2">"2018-06-08T10:20:34"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"numero"</span><span class="p">:</span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"atendida"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_segundos"</span><span class="p">:</span><span class="mi">9</span><span class="p">,</span><span class="w">
      </span><span class="s2">"duracao_falada_segundos"</span><span class="p">:</span><span class="mi">6</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='atributos-4'>Atributos</h4>
<table class="table-parameters">
    <tbody>
        <tr>
            <td>
                id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único desta Chamada.
            </td>
        </tr>
        <tr>
            <td>
                data_criacao
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora em que a ligação foi criada.
            </td>
        </tr>
        <tr>
            <td>
                gravar_audio
                <span class="attribute">boolean</span>
            </td>
            <td>
                Se a chamada foi/está sendo gravada ou não.
             </td>
        </tr>
        <tr>
            <td>
                cliente_id
                <span class="attribute">integer</span>
            </td>
            <td>
                Identificador único (na TotalVoice) do cliente desta chamada.
            </td>
        </tr>
        <tr>
            <td>
                numero_origem
                <span class="attribute">integer</span>
            </td>
            <td>
                Número de telefone que está realizando a ligação para o DID.
            </td>
        </tr>
        <tr>
            <td>
                numero_destino
                <span class="attribute">integer</span>
            </td>
            <td>
                Número de telefone do DID que está recebendo a ligação.
            </td>
        </tr>
        <tr>
            <td>
                data_atendimento
                <span class="attribute">datetime</span>
            </td>
            <td>
                Data e hora do momento em que a ligação foi atendida pelo DID.
            </td>
        </tr>
        <tr>
            <td>
                ativo
                <span class="attribute">boolean</span>
            </td>
            <td>
                Informa se a chamada está ativa.
            </td>
        </tr>
        <tr>
            <td>
                status
                <span class="attribute">string</span>
            </td>
            <td>
                Representa o <a href="#status-perna-de-ligacao">status atual</a> desta chamada para o DID.
            </td>
        </tr>
        <tr>
            <td>
                duracao_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos total da chamada, desde a criação até o encerramento (seja por desligar ou por não atender).
            </td>
        </tr>
        <tr>
            <td>
                duracao_falada_segundos
                <span class="attribute">integer</span>
            </td>
            <td>
                Duração em segundos contados a partir do momento que o DID atendeu a ligação, até o momento em que foi desligada.
            </td>
        </tr>
        <tr>
            <td>
                ramal
                <span class="attribute">object</span>
            </td>
            <td>
                Caso a ligação para este DID caia em algum Ramal, este campo vem preenchido com <a href="#objeto-perna-de-ligacao">informaões da perna</a> do Ramal.
            </td>
        </tr>
    </tbody>
</table>

<p><br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/></p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell--curl">curl</a>
                <a href="#" data-language-name="php">php</a>
                <a href="#" data-language-name="javascript--node">node</a>
                <a href="#" data-language-name="go">go</a>
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="java">java</a>
                <a href="#" data-language-name="ruby">ruby</a>
          </div>
      </div>
    </div>
  </body>
</html>
